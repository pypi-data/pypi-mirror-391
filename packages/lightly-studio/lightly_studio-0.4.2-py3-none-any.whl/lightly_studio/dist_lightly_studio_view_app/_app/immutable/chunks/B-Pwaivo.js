var q=Object.defineProperty;var E=(e,t,r)=>t in e?q(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var j=(e,t,r)=>E(e,typeof t!="symbol"?t+"":t,r);const U={bodySerializer:e=>JSON.stringify(e,(t,r)=>typeof r=="bigint"?r.toString():r)},W=async(e,t)=>{const r=typeof t=="function"?await t(e):t;if(r)return e.scheme==="bearer"?`Bearer ${r}`:e.scheme==="basic"?`Basic ${btoa(r)}`:r},P=e=>{switch(e){case"label":return".";case"matrix":return";";case"simple":return",";default:return"&"}},k=e=>{switch(e){case"form":return",";case"pipeDelimited":return"|";case"spaceDelimited":return"%20";default:return","}},H=e=>{switch(e){case"label":return".";case"matrix":return";";case"simple":return",";default:return"&"}},x=({allowReserved:e,explode:t,name:r,style:o,value:s})=>{if(!t){const n=(e?s:s.map(c=>encodeURIComponent(c))).join(k(o));switch(o){case"label":return`.${n}`;case"matrix":return`;${r}=${n}`;case"simple":return n;default:return`${r}=${n}`}}const i=P(o),a=s.map(n=>o==="label"||o==="simple"?e?n:encodeURIComponent(n):_({allowReserved:e,name:r,value:n})).join(i);return o==="label"||o==="matrix"?i+a:a},_=({allowReserved:e,name:t,value:r})=>{if(r==null)return"";if(typeof r=="object")throw new Error("Deeply-nested arrays/objects arenâ€™t supported. Provide your own `querySerializer()` to handle these.");return`${t}=${e?r:encodeURIComponent(r)}`},D=({allowReserved:e,explode:t,name:r,style:o,value:s,valueOnly:i})=>{if(s instanceof Date)return i?s.toISOString():`${r}=${s.toISOString()}`;if(o!=="deepObject"&&!t){let c=[];Object.entries(s).forEach(([p,g])=>{c=[...c,p,e?g:encodeURIComponent(g)]});const f=c.join(",");switch(o){case"form":return`${r}=${f}`;case"label":return`.${f}`;case"matrix":return`;${r}=${f}`;default:return f}}const a=H(o),n=Object.entries(s).map(([c,f])=>_({allowReserved:e,name:o==="deepObject"?`${r}[${c}]`:c,value:f})).join(a);return o==="label"||o==="matrix"?a+n:n},N=/\{[^{}]+\}/g,B=({path:e,url:t})=>{let r=t;const o=t.match(N);if(o)for(const s of o){let i=!1,a=s.substring(1,s.length-1),n="simple";a.endsWith("*")&&(i=!0,a=a.substring(0,a.length-1)),a.startsWith(".")?(a=a.substring(1),n="label"):a.startsWith(";")&&(a=a.substring(1),n="matrix");const c=e[a];if(c==null)continue;if(Array.isArray(c)){r=r.replace(s,x({explode:i,name:a,style:n,value:c}));continue}if(typeof c=="object"){r=r.replace(s,D({explode:i,name:a,style:n,value:c,valueOnly:!0}));continue}if(n==="matrix"){r=r.replace(s,`;${_({name:a,value:c})}`);continue}const f=encodeURIComponent(n==="label"?`.${c}`:c);r=r.replace(s,f)}return r},R=({allowReserved:e,array:t,object:r}={})=>s=>{const i=[];if(s&&typeof s=="object")for(const a in s){const n=s[a];if(n!=null)if(Array.isArray(n)){const c=x({allowReserved:e,explode:!0,name:a,style:"form",value:n,...t});c&&i.push(c)}else if(typeof n=="object"){const c=D({allowReserved:e,explode:!0,name:a,style:"deepObject",value:n,...r});c&&i.push(c)}else{const c=_({allowReserved:e,name:a,value:n});c&&i.push(c)}}return i.join("&")},L=e=>{var r;if(!e)return"stream";const t=(r=e.split(";")[0])==null?void 0:r.trim();if(t){if(t.startsWith("application/json")||t.endsWith("+json"))return"json";if(t==="multipart/form-data")return"formData";if(["application/","audio/","image/","video/"].some(o=>t.startsWith(o)))return"blob";if(t.startsWith("text/"))return"text"}},J=async({security:e,...t})=>{for(const r of e){const o=await W(r,t.auth);if(!o)continue;const s=r.name??"Authorization";switch(r.in){case"query":t.query||(t.query={}),t.query[s]=o;break;case"cookie":t.headers.append("Cookie",`${s}=${o}`);break;case"header":default:t.headers.set(s,o);break}return}},A=e=>M({baseUrl:e.baseUrl,path:e.path,query:e.query,querySerializer:typeof e.querySerializer=="function"?e.querySerializer:R(e.querySerializer),url:e.url}),M=({baseUrl:e,path:t,query:r,querySerializer:o,url:s})=>{const i=s.startsWith("/")?s:`/${s}`;let a=(e??"")+i;t&&(a=B({path:t,url:a}));let n=r?o(r):"";return n.startsWith("?")&&(n=n.substring(1)),n&&(a+=`?${n}`),a},C=(e,t)=>{var o;const r={...e,...t};return(o=r.baseUrl)!=null&&o.endsWith("/")&&(r.baseUrl=r.baseUrl.substring(0,r.baseUrl.length-1)),r.headers=I(e.headers,t.headers),r},I=(...e)=>{const t=new Headers;for(const r of e){if(!r||typeof r!="object")continue;const o=r instanceof Headers?r.entries():Object.entries(r);for(const[s,i]of o)if(i===null)t.delete(s);else if(Array.isArray(i))for(const a of i)t.append(s,a);else i!==void 0&&t.set(s,typeof i=="object"?JSON.stringify(i):i)}return t};class T{constructor(){j(this,"_fns");this._fns=[]}clear(){this._fns=[]}getInterceptorIndex(t){return typeof t=="number"?this._fns[t]?t:-1:this._fns.indexOf(t)}exists(t){const r=this.getInterceptorIndex(t);return!!this._fns[r]}eject(t){const r=this.getInterceptorIndex(t);this._fns[r]&&(this._fns[r]=null)}update(t,r){const o=this.getInterceptorIndex(t);return this._fns[o]?(this._fns[o]=r,t):!1}use(t){return this._fns=[...this._fns,t],this._fns.length-1}}const v=()=>({error:new T,request:new T,response:new T}),F=R({allowReserved:!1,array:{explode:!0,style:"form"},object:{explode:!0,style:"deepObject"}}),Q={"Content-Type":"application/json"},$=(e={})=>({...U,headers:Q,parseAs:"auto",querySerializer:F,...e}),G=(e={})=>{let t=C($(),e);const r=()=>({...t}),o=a=>(t=C(t,a),r()),s=v(),i=async a=>{const n={...t,...a,fetch:a.fetch??t.fetch??globalThis.fetch,headers:I(t.headers,a.headers)};n.security&&await J({...n,security:n.security}),n.requestValidator&&await n.requestValidator(n),n.body&&n.bodySerializer&&(n.body=n.bodySerializer(n.body)),(n.body===void 0||n.body==="")&&n.headers.delete("Content-Type");const c=A(n),f={redirect:"follow",...n};let p=new Request(c,f);for(const d of s.request._fns)d&&(p=await d(p,n));const g=n.fetch;let l=await g(p);for(const d of s.response._fns)d&&(l=await d(l,p,n));const y={request:p,response:l};if(l.ok){if(l.status===204||l.headers.get("Content-Length")==="0")return n.responseStyle==="data"?{}:{data:{},...y};const d=(n.parseAs==="auto"?L(l.headers.get("Content-Type")):n.parseAs)??"json";let m;switch(d){case"arrayBuffer":case"blob":case"formData":case"json":case"text":m=await l[d]();break;case"stream":return n.responseStyle==="data"?l.body:{data:l.body,...y}}return d==="json"&&(n.responseValidator&&await n.responseValidator(m),n.responseTransformer&&(m=await n.responseTransformer(m))),n.responseStyle==="data"?m:{data:m,...y}}const b=await l.text();let w;try{w=JSON.parse(b)}catch{}const S=w??b;let h=S;for(const d of s.error._fns)d&&(h=await d(S,l,p,n));if(h=h||{},n.throwOnError)throw h;return n.responseStyle==="data"?void 0:{error:h,...y}};return{buildUrl:A,connect:a=>i({...a,method:"CONNECT"}),delete:a=>i({...a,method:"DELETE"}),get:a=>i({...a,method:"GET"}),getConfig:r,head:a=>i({...a,method:"HEAD"}),interceptors:s,options:a=>i({...a,method:"OPTIONS"}),patch:a=>i({...a,method:"PATCH"}),post:a=>i({...a,method:"POST"}),put:a=>i({...a,method:"PUT"}),request:i,setConfig:o,trace:a=>i({...a,method:"TRACE"})}},K=e=>(e.created_at=new Date(e.created_at),e.updated_at=new Date(e.updated_at),e),X=async e=>(e=e.map(t=>K(t)),e),Y=e=>(e.created_at=new Date(e.created_at),e.updated_at=new Date(e.updated_at),e),Z=async e=>(e=Y(e),e),z=e=>(e.created_at=new Date(e.created_at),e.updated_at=new Date(e.updated_at),e),ee=async e=>(e=e.map(t=>z(t)),e),te=async e=>(e=z(e),e),O=e=>(e.created_at=new Date(e.created_at),e),re=e=>(e.created_at=new Date(e.created_at),e.updated_at=new Date(e.updated_at),e),ne=e=>(e.created_at=new Date(e.created_at),e.updated_at=new Date(e.updated_at),e),V=e=>(e.annotations=e.annotations.map(t=>O(t)),e.sample=re(e.sample),e.tags=e.tags.map(t=>ne(t)),e),ae=e=>(e.data=e.data.map(t=>V(t)),e),se=async e=>(e=ae(e),e),oe=async e=>(e=V(e),e),ie=e=>(e.created_at=new Date(e.created_at),e),ce=e=>(e.data=e.data.map(t=>ie(t)),e),ue=async e=>(e=ce(e),e),le=async e=>(e=O(e),e),de=e=>(e.created_at&&(e.created_at=new Date(e.created_at)),e),fe=async e=>(e=e.map(t=>de(t)),e),pe=e=>(e.created_at=new Date(e.created_at),e),me=async e=>(e=pe(e),e),he=e=>(e.created_at=new Date(e.created_at),e.updated_at=new Date(e.updated_at),e),ge=async e=>(e=he(e),e),u=G($()),_e=e=>((e==null?void 0:e.client)??u).get({responseTransformer:X,url:"/api/datasets",...e}),Te=e=>(e.client??u).get({responseTransformer:Z,url:"/api/datasets/{dataset_id}",...e}),be=e=>(e.client??u).get({responseTransformer:ee,url:"/api/datasets/{dataset_id}/tags",...e}),we=e=>(e.client??u).post({responseTransformer:te,url:"/api/datasets/{dataset_id}/tags",...e,headers:{"Content-Type":"application/json",...e.headers}}),Se=e=>(e.client??u).post({url:"/api/datasets/{dataset_id}/tags/{tag_id}/add/samples",...e,headers:{"Content-Type":"application/json",...e.headers}}),je=e=>(e.client??u).post({url:"/api/datasets/{dataset_id}/tags/{tag_id}/add/annotations",...e,headers:{"Content-Type":"application/json",...e.headers}}),Ae=e=>(e.client??u).post({responseTransformer:se,url:"/api/datasets/{dataset_id}/samples/list",...e,headers:{"Content-Type":"application/json",...e.headers}}),Ce=e=>(e.client??u).get({responseTransformer:oe,url:"/api/datasets/{dataset_id}/samples/{sample_id}",...e}),xe=e=>(e.client??u).delete({url:"/api/datasets/{dataset_id}/samples/{sample_id}/tag/{tag_id}",...e}),De=e=>((e==null?void 0:e.client)??u).get({url:"/api/annotation_labels",...e}),Re=e=>(e.client??u).post({url:"/api/annotation_labels",...e,headers:{"Content-Type":"application/json",...e.headers}}),Ie=e=>(e.client??u).get({responseTransformer:ue,url:"/api/datasets/{dataset_id}/annotations",...e}),$e=e=>(e.client??u).post({responseTransformer:le,url:"/api/datasets/{dataset_id}/annotations",...e,headers:{"Content-Type":"application/json",...e.headers}}),ze=e=>(e.client??u).put({responseTransformer:fe,url:"/api/datasets/{dataset_id}/annotations",...e,headers:{"Content-Type":"application/json",...e.headers}}),Oe=e=>(e.client??u).get({url:"/api/datasets/{dataset_id}/annotations/count",...e,headers:{"Content-Type":"application/json",...e.headers}}),Ve=e=>(e.client??u).delete({url:"/api/datasets/{dataset_id}/annotations/{annotation_id}/tag/{tag_id}",...e}),qe=e=>(e.client??u).delete({url:"/api/datasets/{dataset_id}/annotations/{annotation_id}",...e}),Ee=e=>(e.client??u).get({responseTransformer:me,url:"/api/datasets/{dataset_id}/annotations/{annotation_id}",...e}),Ue=e=>(e.client??u).get({url:"/api/datasets/{dataset_id}/captions",...e}),We=e=>((e==null?void 0:e.client)??u).get({responseTransformer:ge,url:"/api/settings",...e}),Pe=e=>(e.client??u).get({url:"/api/classifiers/{classifier_id}/sample_history",...e}),ke=e=>((e==null?void 0:e.client)??u).post({url:"/api/embeddings2d/default",...e,headers:{"Content-Type":"application/json",...e==null?void 0:e.headers}}),He=e=>(e.client??u).get({url:"/api/datasets/{dataset_id}/metadata/info",...e}),Ne=e=>(e.client??u).post({url:"/api/datasets/{dataset_id}/metadata/typicality",...e,headers:{"Content-Type":"application/json",...e.headers}}),Be=e=>(e.client??u).post({url:"/api/datasets/{dataset_id}/selection",...e,headers:{"Content-Type":"application/json",...e.headers}});export{be as a,Te as b,Ae as c,u as d,qe as e,xe as f,He as g,$e as h,Re as i,Ce as j,De as k,Oe as l,Ue as m,Ie as n,Ee as o,Ve as p,ke as q,_e as r,We as s,we as t,ze as u,Se as v,je as w,Be as x,Ne as y,Pe as z};
