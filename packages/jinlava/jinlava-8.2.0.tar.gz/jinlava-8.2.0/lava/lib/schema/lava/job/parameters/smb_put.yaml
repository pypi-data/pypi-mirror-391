$schema: https://json-schema.org/draft/2020-12/schema

title: Lava smb_put job parameters specification

type: object

properties:
  basedir:
    description: >-
      If the source file is specified as a relative filename, it will be treated
      as relative to the specified directory.
    type: string
  conn_id:
    description: The connection ID for an SMB file share.
    type: string
    minLength: 1
  create_dirs:
    description: >-
      If true, the target directory, including parent directories, will be
      created if it doesn't exist.
    $ref: lava.common.boolean
  file:
    description: >-
      The destination file name. If it starts with s3:// it is assumed to be an
      object in S3, otherwise a local file. If a local file and not absolute, it
      will be relative to the basedir parameter.
    type: string
    minLength: 1
  jinja:
    description: Enable Jinja rendering.
    $ref: lava.common.boolean
  kms_key_id:
    description: An AWS KMS encryption key to use when uploading to AWS S3.
    type: string
    minLength: 1
  path:
    description: The source file path on the SMB file share.
    type: string
    minLength: 1
  share_name:
    description: The name of the file share.
    type: string
    minLength: 1
  vars:
    description: A map of variables injected when the parameters are Jinja rendered.
    type: object

additionalProperties: false

required:
  - conn_id
  - file
  - path
  - share_name
