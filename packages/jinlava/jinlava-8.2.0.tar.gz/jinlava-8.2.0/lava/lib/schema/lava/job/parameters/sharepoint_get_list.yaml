$schema: https://json-schema.org/draft/2020-12/schema

title: Lava sharepoint_get_list job parameters specification

type: object

properties:
  basedir:
    description: >-
      If the target file is specified as a relative filename, it will be treated
      as relative to the specified directory.
    type: string
  conn_id:
    description: The connection ID for a SharePoint site.
    type: string
    minLength: 1
  data_columns:
    description: A comma separated list of column names.
    type: string
    minLength: 1
  delimiter:
    description: Single character field delimiter.
    type: string
    minLength: 1
    # Allow for an escape char.
    maxLength: 2
  doublequote:
    description: As for csv.writer.
    $ref: lava.common.boolean
  escapechar:
    description: As for csv.writer.
    oneOf:
      - type: string
        minLength: 1
        # Allow for an escape char.
        maxLength: 2
      - type: 'null'
  file:
    description: >-
      The destination file name. If it starts with s3:// it is assumed to be an
      object in S3, otherwise a local file. If a local file and not absolute, it
      will be relative to the basedir parameter.
    type: string
    minLength: 1
  header:
    description: If true, include a header line containing column names.
    $ref: lava.common.boolean
  jinja:
    description: Enable Jinja rendering.
    $ref: lava.common.boolean
  kms_key_id:
    description: An AWS KMS encryption key to use when uploading to AWS S3.
    type: string
    minLength: 1
  list:
    description: Name of the list. It must already exist in SharePoint.
    type: string
    minLength: 1
  library:
    description: Source SharePoint library name.
    type: string
    minLength: 1
  path:
    description: The source document path in SharePoint.
    type: string
    minLength: 1
  quotechar:
    description: As for csv.writer.
    type: string
    minLength: 1
    # Allow for an escape char.
    maxLength: 2
  quoting:
    description: As for csv.writer QUOTE_* parameters (without the QUOTE_ prefix).
    type: string
    enum:
      - all
      - minimal
      - nonnumeric
      - none
  system_columns:
    description: >-
      A comma separated list of system columns to retrieve in addition to the
      data columns. Unless specified, only data columns are retrieved.
    type: string
    minLength: 1
  vars:
    description: A map of variables injected when the parameters are Jinja rendered.
    type: object

additionalProperties: false

required:
  - conn_id
  - file
  - list
