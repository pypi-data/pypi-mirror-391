Metadata-Version: 2.4
Name: bns-nlp-engine
Version: 1.0.0
Summary: Turkish NLP Engine - Modular and extensible NLP library
Author-email: Tunay <tunay@bones.com.tr>
License: MIT
Keywords: nlp,turkish,natural-language-processing,embeddings,semantic-search
Classifier: Development Status :: 4 - Beta
Classifier: Intended Audience :: Developers
Classifier: License :: OSI Approved :: MIT License
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: Programming Language :: Python :: 3.12
Classifier: Topic :: Scientific/Engineering :: Artificial Intelligence
Classifier: Topic :: Text Processing :: Linguistic
Requires-Python: >=3.10
Description-Content-Type: text/markdown
License-File: LICENSE
Requires-Dist: pydantic>=2.0.0
Requires-Dist: pyyaml>=6.0
Requires-Dist: typer>=0.9.0
Requires-Dist: rich>=13.0.0
Requires-Dist: numpy>=1.24.0
Requires-Dist: aiohttp>=3.9.0
Provides-Extra: openai
Requires-Dist: openai>=1.0.0; extra == "openai"
Provides-Extra: cohere
Requires-Dist: cohere>=4.0.0; extra == "cohere"
Provides-Extra: huggingface
Requires-Dist: transformers>=4.30.0; extra == "huggingface"
Requires-Dist: torch>=2.0.0; extra == "huggingface"
Requires-Dist: sentence-transformers>=2.2.0; extra == "huggingface"
Provides-Extra: qdrant
Requires-Dist: qdrant-client>=1.7.0; extra == "qdrant"
Provides-Extra: pinecone
Requires-Dist: pinecone-client>=3.0.0; extra == "pinecone"
Provides-Extra: faiss
Requires-Dist: faiss-cpu>=1.7.4; extra == "faiss"
Provides-Extra: api
Requires-Dist: fastapi>=0.104.0; extra == "api"
Requires-Dist: uvicorn>=0.24.0; extra == "api"
Provides-Extra: dev
Requires-Dist: pytest>=7.4.0; extra == "dev"
Requires-Dist: pytest-asyncio>=0.21.0; extra == "dev"
Requires-Dist: pytest-cov>=4.1.0; extra == "dev"
Requires-Dist: pytest-mock>=3.12.0; extra == "dev"
Requires-Dist: black>=23.0.0; extra == "dev"
Requires-Dist: isort>=5.12.0; extra == "dev"
Requires-Dist: ruff>=0.1.0; extra == "dev"
Requires-Dist: mypy>=1.7.0; extra == "dev"
Requires-Dist: pre-commit>=3.5.0; extra == "dev"
Requires-Dist: tox>=4.11.0; extra == "dev"
Provides-Extra: docs
Requires-Dist: mkdocs>=1.5.0; extra == "docs"
Requires-Dist: mkdocs-material>=9.4.0; extra == "docs"
Requires-Dist: mkdocstrings[python]>=0.24.0; extra == "docs"
Provides-Extra: all
Requires-Dist: bns-nlp-engine[api,cohere,faiss,huggingface,openai,pinecone,qdrant]; extra == "all"
Dynamic: license-file

# bns-nlp-engine

[![CI](https://github.com/Tuntii/bns-nlp-engine/workflows/CI/badge.svg)](https://github.com/Tuntii/bns-nlp-engine/actions)
[![PyPI version](https://badge.fury.io/py/bns-nlp-engine.svg)](https://badge.fury.io/py/bns-nlp-engine)
[![Python 3.10+](https://img.shields.io/badge/python-3.10+-blue.svg)](https://www.python.org/downloads/)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Code style: black](https://img.shields.io/badge/code%20style-black-000000.svg)](https://github.com/psf/black)

TÃ¼rkÃ§e doÄŸal dil iÅŸleme (NLP) iÃ§in modÃ¼ler, geniÅŸletilebilir ve aÃ§Ä±k kaynak Python kÃ¼tÃ¼phanesi.

## âœ¨ Ã–zellikler

- ğŸ‡¹ğŸ‡· **TÃ¼rkÃ§e OdaklÄ±**: TÃ¼rkÃ§e diline Ã¶zel normalizasyon, lemmatizasyon ve stop words desteÄŸi
- ğŸ”Œ **Plugin TabanlÄ± Mimari**: Core'u deÄŸiÅŸtirmeden yeni Ã¶zellikler ekleyin
- âš¡ **Async/Await DesteÄŸi**: I/O-bound iÅŸlemler iÃ§in yÃ¼ksek performans
- ğŸ¯ **Type-Safe API**: Pydantic ve type hints ile gÃ¼Ã§lÃ¼ tip kontrolÃ¼
- ğŸš€ **Performans OptimizasyonlarÄ±**: Batch processing, streaming, multiprocessing ve GPU desteÄŸi
- ğŸ”’ **Gizlilik OdaklÄ±**: Telemetry varsayÄ±lan olarak kapalÄ±, veri toplama yok
- ğŸ“¦ **Kolay Kurulum**: pip ile tek komutla kurulum
- ğŸ› ï¸ **Ã‡oklu ArayÃ¼z**: Python API, CLI ve opsiyonel FastAPI servisi

## ğŸ“‹ Ä°Ã§indekiler

- [Kurulum](#-kurulum)
- [HÄ±zlÄ± BaÅŸlangÄ±Ã§](#-hÄ±zlÄ±-baÅŸlangÄ±Ã§)
- [ModÃ¼ller](#-modÃ¼ller)
- [CLI KullanÄ±mÄ±](#-cli-kullanÄ±mÄ±)
- [YapÄ±landÄ±rma](#-yapÄ±landÄ±rma)
- [Plugin GeliÅŸtirme](#-plugin-geliÅŸtirme)
- [Ã–rnekler](#-Ã¶rnekler)
- [KatkÄ±da Bulunma](#-katkÄ±da-bulunma)
- [Lisans](#-lisans)

## ğŸš€ Kurulum

### Temel Kurulum

```bash
pip install bns-nlp-engine
```

### TÃ¼m Ã–zelliklerle Kurulum

```bash
pip install bns-nlp-engine[all]
```

### Belirli Ã–zelliklerle Kurulum

```bash
# OpenAI embeddings ve Qdrant search
pip install bns-nlp-engine[openai,qdrant]

# HuggingFace modelleri ve FAISS
pip install bns-nlp-engine[huggingface,faiss]

# FastAPI servisi
pip install bns-nlp-engine[api]

# GeliÅŸtirme araÃ§larÄ±
pip install bns-nlp-engine[dev]
```

### Kaynak Koddan Kurulum

```bash
git clone https://github.com/Tuntii/bns-nlp-engine.git
cd bns-nlp-engine
pip install -e ".[dev,all]"
```

## ğŸ¯ HÄ±zlÄ± BaÅŸlangÄ±Ã§

### Python API

```python
import asyncio
from bnsnlp import Pipeline, Config
from bnsnlp.core.registry import PluginRegistry

async def main():
    # YapÄ±landÄ±rma oluÅŸtur
    config = Config()
    
    # Plugin registry'yi baÅŸlat
    registry = PluginRegistry()
    registry.discover_plugins()
    
    # Pipeline oluÅŸtur
    pipeline = Pipeline(config, registry)
    pipeline.add_step('preprocess', 'turkish')
    pipeline.add_step('embed', 'openai')
    
    # Tek metin iÅŸle
    result = await pipeline.process("Merhaba dÃ¼nya! Bu bir test metnidir.")
    print(result)
    
    # Batch iÅŸleme
    texts = [
        "Ä°lk metin",
        "Ä°kinci metin",
        "ÃœÃ§Ã¼ncÃ¼ metin"
    ]
    results = await pipeline.process_batch(texts)
    for r in results:
        print(r)

asyncio.run(main())
```

### Metin Ã–n Ä°ÅŸleme

```python
from bnsnlp.preprocess import TurkishPreprocessor

async def preprocess_example():
    config = {
        'lowercase': True,
        'remove_punctuation': True,
        'remove_stopwords': True,
        'lemmatize': True
    }
    
    preprocessor = TurkishPreprocessor(config)
    result = await preprocessor.process("Merhaba DÃœNYA! Bu bir TEST metnidir.")
    
    print(f"Orijinal: {result.metadata['original_text']}")
    print(f"Ä°ÅŸlenmiÅŸ: {result.text}")
    print(f"Tokenlar: {result.tokens}")

asyncio.run(preprocess_example())
```

### Embedding OluÅŸturma

```python
from bnsnlp.embed import OpenAIEmbedder, HuggingFaceEmbedder

async def embedding_example():
    # OpenAI ile
    openai_config = {
        'api_key': 'your-api-key',
        'model': 'text-embedding-3-small'
    }
    embedder = OpenAIEmbedder(openai_config)
    result = await embedder.embed("Merhaba dÃ¼nya")
    print(f"Embedding boyutu: {result.dimensions}")
    
    # HuggingFace ile (yerel)
    hf_config = {
        'model': 'sentence-transformers/paraphrase-multilingual-MiniLM-L12-v2',
        'use_gpu': True
    }
    embedder = HuggingFaceEmbedder(hf_config)
    result = await embedder.embed(["Metin 1", "Metin 2"])
    print(f"Batch embedding: {len(result.embeddings)} vektÃ¶r")

asyncio.run(embedding_example())
```

### Semantik Arama

```python
from bnsnlp.search import FAISSSearch, QdrantSearch

async def search_example():
    # FAISS ile yerel arama
    faiss_config = {'dimension': 768}
    search = FAISSSearch(faiss_config)
    
    # DÃ¶kÃ¼manlarÄ± indeksle
    texts = ["Merhaba dÃ¼nya", "Python programlama", "Makine Ã¶ÄŸrenmesi"]
    embeddings = [...]  # Embedding'leri al
    ids = ["1", "2", "3"]
    await search.index(texts, embeddings, ids)
    
    # Ara
    query_embedding = [...]  # Query embedding'i al
    results = await search.search(query_embedding, top_k=2)
    
    for result in results.results:
        print(f"ID: {result.id}, Score: {result.score}, Text: {result.text}")

asyncio.run(search_example())
```

### Intent ve Entity Extraction

```python
from bnsnlp.classify import TurkishClassifier

async def classify_example():
    config = {
        'intent_model': 'your-intent-model',
        'entity_model': 'your-entity-model',
        'use_gpu': True
    }
    
    classifier = TurkishClassifier(config)
    result = await classifier.classify("YarÄ±n saat 14:00'te Ä°stanbul'da toplantÄ± var")
    
    print(f"Intent: {result.intent} (confidence: {result.intent_confidence})")
    for entity in result.entities:
        print(f"Entity: {entity.text} ({entity.type}) - {entity.confidence}")

asyncio.run(classify_example())
```

## ğŸ“¦ ModÃ¼ller

### Core

- **Pipeline**: Ä°ÅŸlem adÄ±mlarÄ±nÄ± orkestra eder
- **Registry**: Plugin'leri yÃ¶netir ve keÅŸfeder
- **Config**: YAML ve environment variable'lardan yapÄ±landÄ±rma yÃ¼kler
- **Exceptions**: Ã–zel exception hiyerarÅŸisi

### Preprocess

- **TurkishPreprocessor**: TÃ¼rkÃ§e metin Ã¶n iÅŸleme
  - Normalizasyon (Ä±, ÄŸ, Ã¼, ÅŸ, Ã¶, Ã§)
  - Tokenization
  - Stop words kaldÄ±rma
  - Lemmatization

### Embed

- **OpenAIEmbedder**: OpenAI API adapter
- **CohereEmbedder**: Cohere API adapter
- **HuggingFaceEmbedder**: Yerel HuggingFace modelleri (GPU desteÄŸi)

### Search

- **QdrantSearch**: Qdrant vector database adapter
- **PineconeSearch**: Pinecone adapter
- **FAISSSearch**: Yerel FAISS index

### Classify

- **TurkishClassifier**: Intent classification ve entity extraction

## ğŸ–¥ï¸ CLI KullanÄ±mÄ±

### Metin Ã–n Ä°ÅŸleme

```bash
# Stdin'den
echo "Merhaba DÃœNYA!" | bnsnlp preprocess

# Dosyadan
bnsnlp preprocess -i input.txt -o output.json

# YapÄ±landÄ±rma ile
bnsnlp preprocess -i input.txt -c config.yaml -v
```

### Embedding OluÅŸturma

```bash
# OpenAI ile
bnsnlp embed -i text.txt -p openai -o embeddings.json

# HuggingFace ile
bnsnlp embed -i text.txt -p huggingface -o embeddings.json
```

### Semantik Arama

```bash
# FAISS ile
bnsnlp search "arama sorgusu" -p faiss -k 10

# Qdrant ile
bnsnlp search "arama sorgusu" -p qdrant -k 5 -c config.yaml
```

### SÄ±nÄ±flandÄ±rma

```bash
# Intent ve entity extraction
bnsnlp classify -i text.txt -o results.json

# Verbose mode
bnsnlp classify -i text.txt -v
```

## âš™ï¸ YapÄ±landÄ±rma

### YAML DosyasÄ±

```yaml
# config.yaml
logging:
  level: INFO
  format: json
  output: stdout

telemetry:
  enabled: false

preprocess:
  lowercase: true
  remove_punctuation: true
  remove_stopwords: true
  lemmatize: true
  batch_size: 32

embed:
  provider: openai
  model: text-embedding-3-small
  batch_size: 16
  use_gpu: true

search:
  provider: faiss
  top_k: 10
  similarity_threshold: 0.7
```

### Environment Variables

```bash
# API Keys
export BNSNLP_EMBED_API_KEY=sk-...
export BNSNLP_COHERE_API_KEY=...

# Service URLs
export BNSNLP_QDRANT_URL=http://localhost:6333
export BNSNLP_PINECONE_API_KEY=...

# Logging
export BNSNLP_LOG_LEVEL=DEBUG
```

### Python'dan YapÄ±landÄ±rma

```python
from bnsnlp.core.config import Config
from pathlib import Path

# YAML'dan yÃ¼kle
config = Config.from_yaml(Path("config.yaml"))

# Environment variable'lardan yÃ¼kle
config = Config.from_env()

# Manuel oluÅŸtur
config = Config(
    logging={'level': 'INFO'},
    embed={'provider': 'openai', 'model': 'text-embedding-3-small'}
)
```

## ğŸ”Œ Plugin GeliÅŸtirme

### Custom Preprocessor

```python
from bnsnlp.preprocess.base import BasePreprocessor, PreprocessResult
from typing import Union, List

class CustomPreprocessor(BasePreprocessor):
    name = "custom"
    version = "1.0.0"
    
    def __init__(self, config: dict):
        super().__init__(config)
        # Ã–zel initialization
    
    async def process(self, text: Union[str, List[str]]) -> Union[PreprocessResult, List[PreprocessResult]]:
        # Ã–zel iÅŸleme mantÄ±ÄŸÄ±
        if isinstance(text, str):
            processed = self._process_single(text)
            return PreprocessResult(
                text=processed,
                tokens=processed.split(),
                metadata={'custom': True}
            )
        # Batch iÅŸleme...
```

### Plugin KaydÄ±

```python
# pyproject.toml
[project.entry-points."bnsnlp.preprocess"]
custom = "mypackage.preprocessor:CustomPreprocessor"
```

Daha fazla bilgi iÃ§in [Plugin Development Guide](docs/plugins/creating.md) sayfasÄ±na bakÄ±n.

## ğŸ“š Ã–rnekler

### Jupyter Notebooks

- [Quickstart](examples/notebooks/quickstart.ipynb)
- [Preprocessing](examples/notebooks/preprocessing.ipynb)
- [Embeddings](examples/notebooks/embeddings.ipynb)
- [Search](examples/notebooks/search.ipynb)

### FastAPI Service

```python
# examples/fastapi_service/main.py
from fastapi import FastAPI
from bnsnlp.api.service import app

if __name__ == "__main__":
    import uvicorn
    uvicorn.run(app, host="0.0.0.0", port=8000)
```

```bash
# Servisi Ã§alÄ±ÅŸtÄ±r
cd examples/fastapi_service
pip install -r requirements.txt
python main.py
```

API dokÃ¼mantasyonu: http://localhost:8000/docs

## ğŸ§ª Test

```bash
# TÃ¼m testleri Ã§alÄ±ÅŸtÄ±r
pytest

# Coverage ile
pytest --cov=bnsnlp --cov-report=html

# Belirli bir modÃ¼l
pytest tests/unit/test_preprocess.py

# Tox ile multi-environment
tox
```

## ğŸ› ï¸ GeliÅŸtirme

### GeliÅŸtirme OrtamÄ± Kurulumu

```bash
# Repository'yi clone'la
git clone https://github.com/Tuntii/bns-nlp-engine.git
cd bns-nlp-engine

# GeliÅŸtirme baÄŸÄ±mlÄ±lÄ±klarÄ±nÄ± yÃ¼kle
pip install -e ".[dev,all]"

# Pre-commit hooks'larÄ± kur
pre-commit install
```

### Kod Kalitesi

```bash
# Format
black src tests
isort src tests

# Lint
ruff check src tests

# Type check
mypy src/bnsnlp

# TÃ¼m kontroller
pre-commit run --all-files
```

## ğŸ¤ KatkÄ±da Bulunma

KatkÄ±larÄ±nÄ±zÄ± bekliyoruz! LÃ¼tfen ÅŸu adÄ±mlarÄ± takip edin:

1. Repository'yi fork edin
2. Feature branch oluÅŸturun (`git checkout -b feature/amazing-feature`)
3. DeÄŸiÅŸikliklerinizi commit edin (`git commit -m 'Add amazing feature'`)
4. Branch'inizi push edin (`git push origin feature/amazing-feature`)
5. Pull Request aÃ§Ä±n

### KatkÄ± KurallarÄ±

- TÃ¼m testler geÃ§meli
- Code coverage %90'Ä±n Ã¼zerinde olmalÄ±
- Type hints kullanÄ±lmalÄ±
- Docstring'ler eklenm eli
- Pre-commit hooks geÃ§meli

## ğŸ“– DokÃ¼mantasyon

DetaylÄ± dokÃ¼mantasyon iÃ§in: HiÃ§ bir yer yok..

## ğŸ” GÃ¼venlik ve Gizlilik

- **API Key'ler**: Sadece environment variable'lardan yÃ¼klenir, asla kodda saklanmaz
- **Telemetry**: VarsayÄ±lan olarak kapalÄ±, opt-in gerektirir
- **Veri Toplama**: KullanÄ±cÄ± iÃ§eriÄŸi veya kiÅŸisel veriler toplanmaz
- **Yerel Ä°ÅŸleme**: FAISS ve HuggingFace ile tamamen offline Ã§alÄ±ÅŸma imkanÄ±

## ğŸ“ Lisans

Bu proje MIT LisansÄ± altÄ±nda lisanslanmÄ±ÅŸtÄ±r. Detaylar iÃ§in [LICENSE](LICENSE) dosyasÄ±na bakÄ±n.

## ğŸ™ TeÅŸekkÃ¼rler

- [OpenAI](https://openai.com/) - Embedding API
- [Cohere](https://cohere.ai/) - Embedding API
- [HuggingFace](https://huggingface.co/) - Transformers ve modeller
- [Qdrant](https://qdrant.tech/) - Vector database
- [FAISS](https://github.com/facebookresearch/faiss) - Similarity search
- TÃ¼rkÃ§e NLP topluluÄŸu

## ğŸ“ Ä°letiÅŸim

- GitHub Issues: [https://github.com/Tuntii/bns-nlp-engine/issues](https://github.com/Tuntii/bns-nlp-engine/issues)
- Email: tunay@bones.com.tr

## ğŸ—ºï¸ Roadmap

- [ ] Ek dil desteÄŸi
- [ ] Daha fazla embedding provider
- [ ] GeliÅŸmiÅŸ sÄ±nÄ±flandÄ±rma modelleri
- [ ] Web UI dashboard
- [ ] Model fine-tuning araÃ§larÄ±
- [ ] Apache Airflow entegrasyonu

---

**Not**: Bu kÃ¼tÃ¼phane aktif geliÅŸtirme aÅŸamasÄ±ndadÄ±r. Production kullanÄ±mÄ± iÃ§in lÃ¼tfen stable release'leri bekleyin.
