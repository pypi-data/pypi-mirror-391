import{d as R,bR as B,h as t,aS as T,aT as C,aU as N,g as b,q as V,o,m as D,l as n,n as e,bS as U,aY as j,aA as z,R as O,v as W,e as $,al as q,j as A,bw as E,bT as G,i as F,c,k as a,a as p,a6 as M,bB as P,bU as Y,bV as H,bW as J,bg as K}from"./index-Dhxp3bbZ.js";import{u as L}from"./usePageTitle-Dn837hxV.js";const Q={class:"flow-stats"},X={class:"flow-stats__cards"},Z=R({__name:"FlowStats",props:{flowId:{}},setup(w){const f=w,r={range:{type:"span",seconds:-z}},{flowId:u}=B(f),i=t(()=>({flowId:u.value,range:r.range}));T(N,{interval:C.secondsToMilliseconds(30)});const l=t(()=>b.map("FlowStatsFilter",i.value,"FlowRunsFilter")),d=t(()=>b.map("FlowStatsFilter",i.value,"TaskRunsFilter"));return(_,m)=>(o(),V("div",Q,[D("div",X,[n(e(U),{filter:l.value},null,8,["filter"]),n(e(j),{filter:d.value},null,8,["filter"])])]))}}),le=R({__name:"Flow",setup(w){const f=O(),r=W("flowId"),u=t(()=>[r.value]),i=$(),l=q("tab","Runs"),d=["Runs","Deployments","Details"],_={interval:3e5},m=A(f.flows.getFlow,[r.value],_),s=t(()=>m.response),{filter:k}=E({flows:{id:u}}),{filter:y}=G({flows:{id:u}});function g(){i.push(K.flows())}const h=t(()=>s.value?`Flow: ${s.value.name}`:"Flow");return L(h),(ee,v)=>{const x=F("p-tabs"),I=F("p-layout-default");return o(),c(I,{class:"flow"},{header:a(()=>[s.value?(o(),c(e(J),{key:0,flow:s.value,onDelete:g},null,8,["flow"])):p("",!0)]),default:a(()=>[s.value?(o(),c(Z,{key:0,"flow-id":s.value.id},null,8,["flow-id"])):p("",!0),n(x,{selected:e(l),"onUpdate:selected":v[0]||(v[0]=S=>M(l)?l.value=S:null),tabs:d},{details:a(()=>[s.value?(o(),c(e(H),{key:0,flow:s.value},null,8,["flow"])):p("",!0)]),deployments:a(()=>[n(e(Y),{filter:e(y),prefix:"deployments"},null,8,["filter"])]),runs:a(()=>[n(e(P),{filter:e(k),selectable:"",prefix:"runs"},null,8,["filter"])]),_:1},8,["selected"])]),_:1})}}});export{le as default};
//# sourceMappingURL=Flow-BbE7_lq5.js.map
