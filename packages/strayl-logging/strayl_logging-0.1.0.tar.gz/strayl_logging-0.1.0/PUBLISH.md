# üì¶ –ü—É–±–ª–∏–∫–∞—Ü–∏—è SDK –≤ PyPI

## –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–∞–π–ª–æ–≤

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ —Ñ–∞–π–ª—ã –Ω–∞ –º–µ—Å—Ç–µ:

```
strayl_logging/
‚îú‚îÄ‚îÄ pyproject.toml          ‚úÖ
‚îú‚îÄ‚îÄ README.md               ‚úÖ
‚îú‚îÄ‚îÄ LICENSE                 ‚úÖ
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îî‚îÄ‚îÄ strayl_logging/
‚îÇ       ‚îú‚îÄ‚îÄ __init__.py     ‚úÖ
‚îÇ       ‚îî‚îÄ‚îÄ client.py       ‚úÖ
‚îî‚îÄ‚îÄ .gitignore              ‚úÖ
```

### 2. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–∏

–ü–µ—Ä–µ–¥ –∫–∞–∂–¥–æ–π –ø—É–±–ª–∏–∫–∞—Ü–∏–µ–π –æ–±–Ω–æ–≤–∏—Ç–µ –≤–µ—Ä—Å–∏—é –≤ `pyproject.toml`:

```toml
version = "0.1.0"  # ‚Üí "0.1.1" –¥–ª—è –ø–∞—Ç—á–∞, "0.2.0" –¥–ª—è –º–∏–Ω–æ—Ä–∞, "1.0.0" –¥–ª—è –º–∞–∂–æ—Ä–∞
```

---

## –®–∞–≥ 1: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–∞ PyPI

### –¢–µ—Å—Ç–æ–≤—ã–π PyPI (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —Å–Ω–∞—á–∞–ª–∞ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å):

1. –°–æ–∑–¥–∞–π—Ç–µ –∞–∫–∫–∞—É–Ω—Ç –Ω–∞ https://test.pypi.org/account/register/
2. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ email

### Production PyPI:

1. –°–æ–∑–¥–∞–π—Ç–µ –∞–∫–∫–∞—É–Ω—Ç –Ω–∞ https://pypi.org/account/register/
2. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ email
3. –í–∫–ª—é—á–∏—Ç–µ –¥–≤—É—Ö—Ñ–∞–∫—Ç–æ—Ä–Ω—É—é –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

---

## –®–∞–≥ 2: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤

```bash
pip install build twine
```

---

## –®–∞–≥ 3: –°–±–æ—Ä–∫–∞ –ø–∞–∫–µ—Ç–∞

```bash
cd SDK/strayl_logging
python -m build
```

–≠—Ç–æ —Å–æ–∑–¥–∞—Å—Ç –ø–∞–ø–∫—É `dist/` —Å —Ñ–∞–π–ª–∞–º–∏:
- `strayl-logging-0.1.0.tar.gz` (–∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥)
- `strayl_logging-0.1.0-py3-none-any.whl` (wheel)

---

## –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–±–æ—Ä–∫–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ
python -m twine check dist/*
```

---

## –®–∞–≥ 5: –ü—É–±–ª–∏–∫–∞—Ü–∏—è –≤ Test PyPI (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

### –°–æ–∑–¥–∞–π—Ç–µ API —Ç–æ–∫–µ–Ω:

1. –û—Ç–∫—Ä–æ–π—Ç–µ https://test.pypi.org/manage/account/token/
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π —Ç–æ–∫–µ–Ω (scope: "Entire account" –∏–ª–∏ "All projects")
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–æ–∫–µ–Ω (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑!)

### –ó–∞–≥—Ä—É–∑–∏—Ç–µ –ø–∞–∫–µ—Ç:

```bash
python -m twine upload --repository testpypi dist/*
```

–í–≤–µ–¥–∏—Ç–µ:
- Username: `__token__`
- Password: –≤–∞—à API —Ç–æ–∫–µ–Ω (–Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `pypi-`)

### –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∫—É –∏–∑ Test PyPI:

```bash
pip install --index-url https://test.pypi.org/simple/ strayl-logging
```

---

## –®–∞–≥ 6: –ü—É–±–ª–∏–∫–∞—Ü–∏—è –≤ Production PyPI

### –°–æ–∑–¥–∞–π—Ç–µ API —Ç–æ–∫–µ–Ω:

1. –û—Ç–∫—Ä–æ–π—Ç–µ https://pypi.org/manage/account/token/
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π —Ç–æ–∫–µ–Ω
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–æ–∫–µ–Ω

### –ó–∞–≥—Ä—É–∑–∏—Ç–µ –ø–∞–∫–µ—Ç:

```bash
python -m twine upload dist/*
```

–í–≤–µ–¥–∏—Ç–µ:
- Username: `__token__`
- Password: –≤–∞—à API —Ç–æ–∫–µ–Ω

---

## –®–∞–≥ 7: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏

–ü–æ—Å–ª–µ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ (–º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–∏–Ω—É—Ç):

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É –ø–∞–∫–µ—Ç–∞:
   - Test PyPI: https://test.pypi.org/project/strayl-logging/
   - Production PyPI: https://pypi.org/project/strayl-logging/

2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–∞–∫–µ—Ç:

```bash
pip install strayl-logging
```

3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É:

```python
from strayl_logging import StraylLogger
print("‚úÖ SDK —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç!")
```

---

## –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–∏

–ü—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –ø–∞–∫–µ—Ç–∞:

1. –û–±–Ω–æ–≤–∏—Ç–µ –≤–µ—Ä—Å–∏—é –≤ `pyproject.toml`
2. –û–±–Ω–æ–≤–∏—Ç–µ `CHANGELOG.md` (–µ—Å–ª–∏ –µ—Å—Ç—å)
3. –°–æ–±–µ—Ä–∏—Ç–µ –∑–∞–Ω–æ–≤–æ: `python -m build`
4. –ó–∞–≥—Ä—É–∑–∏—Ç–µ: `python -m twine upload dist/*`

---

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### API —Ç–æ–∫–µ–Ω—ã:

- ‚úÖ –•—Ä–∞–Ω–∏—Ç–µ —Ç–æ–∫–µ–Ω—ã –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ–º –º–µ—Å—Ç–µ
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–∞–∑–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã –¥–ª—è test –∏ production
- ‚úÖ –ù–µ –∫–æ–º–º–∏—Ç—å—Ç–µ —Ç–æ–∫–µ–Ω—ã –≤ Git
- ‚úÖ –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `.pypirc` —Ñ–∞–π–ª (–Ω–µ –∫–æ–º–º–∏—Ç–∏—Ç—å!)

### –°–æ–∑–¥–∞–Ω–∏–µ `.pypirc` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `~/.pypirc`:

```ini
[distutils]
index-servers =
    pypi
    testpypi

[pypi]
username = __token__
password = pypi-–≤–∞—à_—Ç–æ–∫–µ–Ω_–∑–¥–µ—Å—å

[testpypi]
repository = https://test.pypi.org/legacy/
username = __token__
password = pypi-–≤–∞—à_—Ç–µ—Å—Ç–æ–≤—ã–π_—Ç–æ–∫–µ–Ω_–∑–¥–µ—Å—å
```

–¢–æ–≥–¥–∞ –º–æ–∂–Ω–æ –ø—Ä–æ—Å—Ç–æ:
```bash
twine upload --repository testpypi dist/*  # –¥–ª—è —Ç–µ—Å—Ç–∞
twine upload dist/*  # –¥–ª—è production
```

---

## –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ GitHub Actions (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–ú–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –ø—É–±–ª–∏–∫–∞—Ü–∏—é –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Ç–µ–≥–∞:

```yaml
# .github/workflows/publish.yml
name: Publish to PyPI

on:
  release:
    types: [created]

jobs:
  publish:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - uses: actions/setup-python@v4
        with:
          python-version: '3.x'
      - run: pip install build twine
      - run: python -m build
      - run: twine upload dist/*
        env:
          TWINE_USERNAME: __token__
          TWINE_PASSWORD: ${{ secrets.PYPI_API_TOKEN }}
```

---

## –ß–µ–∫–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ –ø—É–±–ª–∏–∫–∞—Ü–∏–µ–π

- [ ] –í–µ—Ä—Å–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞ –≤ `pyproject.toml`
- [ ] README.md –∞–∫—Ç—É–∞–ª–µ–Ω
- [ ] LICENSE —Ñ–∞–π–ª –¥–æ–±–∞–≤–ª–µ–Ω
- [ ] –ö–æ–¥ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω
- [ ] –°–±–æ—Ä–∫–∞ —É—Å–ø–µ—à–Ω–∞ (`python -m build`)
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ twine –ø—Ä–æ—à–ª–∞ (`twine check dist/*`)
- [ ] –¢–µ—Å—Ç–æ–≤–∞—è –ø—É–±–ª–∏–∫–∞—Ü–∏—è –≤ Test PyPI –ø—Ä–æ—à–ª–∞ —É—Å–ø–µ—à–Ω–æ
- [ ] –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏–∑ Test PyPI —Ä–∞–±–æ—Ç–∞–µ—Ç

---

## –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- **PyPI**: https://pypi.org
- **Test PyPI**: https://test.pypi.org
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è PyPI**: https://packaging.python.org/
- **Twine –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: https://twine.readthedocs.io/

---

**–ì–æ—Ç–æ–≤–æ! –ü–æ—Å–ª–µ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å–º–æ–≥—É—Ç —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å SDK:**

```bash
pip install strayl-logging
```

