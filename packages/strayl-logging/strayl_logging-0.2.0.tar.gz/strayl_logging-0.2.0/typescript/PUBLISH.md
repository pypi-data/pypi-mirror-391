# üì¶ –ü—É–±–ª–∏–∫–∞—Ü–∏—è SDK –≤ npm

## –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–∞–π–ª–æ–≤

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ —Ñ–∞–π–ª—ã –Ω–∞ –º–µ—Å—Ç–µ:

```
typescript/
‚îú‚îÄ‚îÄ package.json          ‚úÖ
‚îú‚îÄ‚îÄ README.md             ‚úÖ
‚îú‚îÄ‚îÄ LICENSE               ‚úÖ
‚îú‚îÄ‚îÄ tsconfig.json         ‚úÖ
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ index.ts          ‚úÖ
‚îÇ   ‚îî‚îÄ‚îÄ client.ts         ‚úÖ
‚îî‚îÄ‚îÄ dist/                 ‚úÖ (—Å–æ–∑–¥–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ —Å–±–æ—Ä–∫–∏)
```

### 2. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–∏

–ü–µ—Ä–µ–¥ –∫–∞–∂–¥–æ–π –ø—É–±–ª–∏–∫–∞—Ü–∏–µ–π –æ–±–Ω–æ–≤–∏—Ç–µ –≤–µ—Ä—Å–∏—é –≤ `package.json`:

```json
{
  "version": "0.1.0"  // ‚Üí "0.1.1" –¥–ª—è –ø–∞—Ç—á–∞, "0.2.0" –¥–ª—è –º–∏–Ω–æ—Ä–∞, "1.0.0" –¥–ª—è –º–∞–∂–æ—Ä–∞
}
```

–¢–∞–∫–∂–µ –æ–±–Ω–æ–≤–∏—Ç–µ –≤–µ—Ä—Å–∏—é –≤ `src/index.ts`:

```typescript
export const VERSION = "0.1.0";
```

---

## –®–∞–≥ 1: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–∞ npm

1. –°–æ–∑–¥–∞–π—Ç–µ –∞–∫–∫–∞—É–Ω—Ç –Ω–∞ https://www.npmjs.com/signup
2. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ email
3. –í–∫–ª—é—á–∏—Ç–µ –¥–≤—É—Ö—Ñ–∞–∫—Ç–æ—Ä–Ω—É—é –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

---

## –®–∞–≥ 2: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
cd typescript
npm install
```

---

## –®–∞–≥ 3: –°–±–æ—Ä–∫–∞ –ø–∞–∫–µ—Ç–∞

```bash
npm run build
```

–≠—Ç–æ —Å–æ–∑–¥–∞—Å—Ç –ø–∞–ø–∫—É `dist/` —Å —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ —Ñ–∞–π–ª–∞–º–∏:
- `index.js` –∏ `index.d.ts` (–æ—Å–Ω–æ–≤–Ω–æ–π —ç–∫—Å–ø–æ—Ä—Ç)
- `client.js` –∏ `client.d.ts` (–∫–ª–∏–µ–Ω—Ç)
- Source maps –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

---

## –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–±–æ—Ä–∫–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–º–µ—Ä–∞ –ø–∞–∫–µ—Ç–∞
npm pack --dry-run
```

–≠—Ç–æ –ø–æ–∫–∞–∂–µ—Ç, –∫–∞–∫–∏–µ —Ñ–∞–π–ª—ã –±—É–¥—É—Ç –≤–∫–ª—é—á–µ–Ω—ã –≤ –ø–∞–∫–µ—Ç.

---

## –®–∞–≥ 5: –í—Ö–æ–¥ –≤ npm

```bash
npm login
```

–í–≤–µ–¥–∏—Ç–µ:
- Username: –≤–∞—à username –Ω–∞ npm
- Password: –≤–∞—à –ø–∞—Ä–æ–ª—å
- Email: –≤–∞—à email (–¥–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏)

---

## –®–∞–≥ 6: –ü—É–±–ª–∏–∫–∞—Ü–∏—è –≤ npm

### –ü–µ—Ä–≤–∞—è –ø—É–±–ª–∏–∫–∞—Ü–∏—è:

```bash
npm publish
```

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–∏:

```bash
# –û–±–Ω–æ–≤–∏—Ç–µ –≤–µ—Ä—Å–∏—é –≤ package.json –∏ src/index.ts
npm version patch   # –¥–ª—è 0.1.0 ‚Üí 0.1.1
# –∏–ª–∏
npm version minor    # –¥–ª—è 0.1.0 ‚Üí 0.2.0
# –∏–ª–∏
npm version major    # –¥–ª—è 0.1.0 ‚Üí 1.0.0

# –ó–∞—Ç–µ–º –æ–ø—É–±–ª–∏–∫—É–π—Ç–µ
npm publish
```

---

## –®–∞–≥ 7: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏

–ü–æ—Å–ª–µ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ (–º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–∏–Ω—É—Ç):

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É –ø–∞–∫–µ—Ç–∞:
   - https://www.npmjs.com/package/strayl-logging

2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–∞–∫–µ—Ç:

```bash
npm install strayl-logging
```

3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É:

```typescript
import { StraylLogger } from 'strayl-logging';
console.log("‚úÖ SDK —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç!");
```

---

## –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–∏

–ü—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –ø–∞–∫–µ—Ç–∞:

1. –û–±–Ω–æ–≤–∏—Ç–µ –≤–µ—Ä—Å–∏—é –≤ `package.json`
2. –û–±–Ω–æ–≤–∏—Ç–µ –≤–µ—Ä—Å–∏—é –≤ `src/index.ts`
3. –û–±–Ω–æ–≤–∏—Ç–µ `CHANGELOG.md` (–µ—Å–ª–∏ –µ—Å—Ç—å)
4. –°–æ–±–µ—Ä–∏—Ç–µ –∑–∞–Ω–æ–≤–æ: `npm run build`
5. –û–ø—É–±–ª–∏–∫—É–π—Ç–µ: `npm publish`

–ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `npm version`:

```bash
npm version patch && npm publish
```

---

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### npm —Ç–æ–∫–µ–Ω—ã:

- ‚úÖ –•—Ä–∞–Ω–∏—Ç–µ —Ç–æ–∫–µ–Ω—ã –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ–º –º–µ—Å—Ç–µ
- ‚úÖ –ù–µ –∫–æ–º–º–∏—Ç—å—Ç–µ `.npmrc` —Å —Ç–æ–∫–µ–Ω–∞–º–∏ –≤ Git
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–≤—É—Ö—Ñ–∞–∫—Ç–æ—Ä–Ω—É—é –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é
- ‚úÖ –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `.npmrc` —Ñ–∞–π–ª (–Ω–µ –∫–æ–º–º–∏—Ç–∏—Ç—å!)

### –°–æ–∑–¥–∞–Ω–∏–µ `.npmrc` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `~/.npmrc`:

```
//registry.npmjs.org/:_authToken=–≤–∞—à_—Ç–æ–∫–µ–Ω_–∑–¥–µ—Å—å
```

–¢–æ–≥–¥–∞ –º–æ–∂–Ω–æ –ø—Ä–æ—Å—Ç–æ:
```bash
npm publish
```

---

## –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ GitHub Actions (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–ú–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –ø—É–±–ª–∏–∫–∞—Ü–∏—é –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Ç–µ–≥–∞:

```yaml
# .github/workflows/publish.yml
name: Publish to npm

on:
  release:
    types: [created]

jobs:
  publish:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - uses: actions/setup-node@v3
        with:
          node-version: '18'
          registry-url: 'https://registry.npmjs.org'
      - run: cd typescript && npm install
      - run: cd typescript && npm run build
      - run: cd typescript && npm publish
        env:
          NODE_AUTH_TOKEN: ${{ secrets.NPM_TOKEN }}
```

---

## –ß–µ–∫–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ –ø—É–±–ª–∏–∫–∞—Ü–∏–µ–π

- [ ] –í–µ—Ä—Å–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞ –≤ `package.json`
- [ ] –í–µ—Ä—Å–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞ –≤ `src/index.ts`
- [ ] README.md –∞–∫—Ç—É–∞–ª–µ–Ω
- [ ] LICENSE —Ñ–∞–π–ª –¥–æ–±–∞–≤–ª–µ–Ω
- [ ] –ö–æ–¥ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω
- [ ] –°–±–æ—Ä–∫–∞ —É—Å–ø–µ—à–Ω–∞ (`npm run build`)
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ `npm pack --dry-run` –ø—Ä–æ—à–ª–∞ —É—Å–ø–µ—à–Ω–æ
- [ ] –í—Ö–æ–¥ –≤ npm –≤—ã–ø–æ–ª–Ω–µ–Ω (`npm login`)

---

## –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- **npm**: https://www.npmjs.com
- **npm –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: https://docs.npmjs.com/
- **TypeScript –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: https://www.typescriptlang.org/docs/

---

**–ì–æ—Ç–æ–≤–æ! –ü–æ—Å–ª–µ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å–º–æ–≥—É—Ç —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å SDK:**

```bash
npm install strayl-logging
```

