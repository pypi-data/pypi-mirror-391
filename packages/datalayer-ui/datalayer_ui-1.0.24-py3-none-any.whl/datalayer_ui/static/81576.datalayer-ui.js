"use strict";(self.webpackChunk_datalayer_ui=self.webpackChunk_datalayer_ui||[]).push([[81576],{53819:(e,t,n)=>{n.d(t,{PP:()=>s,_:()=>c,_U:()=>r});var a=n(98238);const r=new a.Token("@jupyterlab/filebrowser:IFileBrowserFactory","A factory object that creates file browsers.\n  Use this if you want to create your own file browser (e.g., for a custom storage backend),\n  or to interact with other file browsers that have been created by extensions."),s=new a.Token("@jupyterlab/filebrowser:IDefaultFileBrowser","A service for the default file browser."),c=new a.Token("@jupyterlab/filebrowser:IFileBrowserCommands","A token to ensure file browser commands are loaded.")},81576:(e,t,n)=>{n.r(t),n.d(t,{default:()=>E});var a,r=n(68122),s=n(59179),c=n(62863),o=n(53819),i=n(97371),l=n(2335),d=n(85181),h=n(88037),m=n(72879),u=n(54071),p=n(38921),w=n(79246),f=n(15503),_=n(14809),b=n(9387);class v extends h.AF{constructor(){super(...arguments),this.itemsList=[]}add(e){const t=a.createItem(e);return this.itemsList.push(t),this.stateChanged.emit(void 0),new w.DisposableDelegate(()=>{p.ArrayExt.removeFirstOf(this.itemsList,t),this.stateChanged.emit(void 0)})}items(){return this.itemsList[Symbol.iterator]()}}class y extends h.QX{constructor(e){super(e.model),this._pending=!1,this._cwd="",this._cwd=e.cwd,this.translator=e.translator||d.wK,this._trans=this.translator.load("jupyterlab"),this._callback=e.callback,this._commands=e.commands,this.addClass("jp-Launcher")}get cwd(){return this._cwd}set cwd(e){this._cwd=e,this.update()}get pending(){return this._pending}set pending(e){this._pending=e}render(){if(!this.model)return null;const e=[this._trans.__("Notebook"),this._trans.__("Console"),this._trans.__("Other")],t=[this._trans.__("Notebook"),this._trans.__("Console")],n=Object.create(null);for(const e of this.model.items()){const t=e.category||this._trans.__("Other");t in n||(n[t]=[]),n[t].push(e)}for(const e in n)n[e]=n[e].sort((e,t)=>a.sortCmp(e,t,this._cwd,this._commands));const r=[];let s;const c=[];for(const t of e)c.push(t);for(const t in n)-1===e.indexOf(t)&&c.push(t);return c.forEach(e=>{if(!n[e])return;const c=n[e][0],o={...c.args,cwd:this.cwd},i=t.indexOf(e)>-1,d=this._commands.iconClass(c.command,o),h=this._commands.icon(c.command,o);e in n&&(s=b.createElement("div",{className:"jp-Launcher-section",key:e},b.createElement("div",{className:"jp-Launcher-sectionHeader"},b.createElement(m.Tl.resolveReact,{icon:h,iconClass:(0,u.Ly)(d,"jp-Icon-cover"),stylesheet:"launcherSection","aria-hidden":"true"}),b.createElement("h2",{className:"jp-Launcher-sectionTitle"},e)),b.createElement("div",{className:"jp-Launcher-cardContainer"},Array.from((0,p.map)(n[e],e=>function(e,t,n,r,s,c){const o=t.command,i={...t.args,cwd:n.cwd},d=r.caption(o,i),h=r.label(o,i),p=e?h:d||h,w=()=>{!0!==n.pending&&(n.pending=!0,r.execute(o,{...t.args,cwd:n.cwd}).then(e=>{n.pending=!1,e instanceof _.x0&&c(e)}).catch(e=>{console.error(e),n.pending=!1,(0,l.f1)(s._p("Error","Launcher Error"),e)}))},f=r.iconClass(o,i),v=r.icon(o,i);return b.createElement("div",{className:"jp-LauncherCard",title:p,role:"button",onClick:w,onKeyDown:e=>{"Enter"===e.key&&w()},tabIndex:0,"data-category":t.category||s.__("Other"),key:a.keyProperty.get(t)},b.createElement("div",{className:"jp-LauncherCard-icon"},e?t.kernelIconUrl?b.createElement("img",{src:t.kernelIconUrl,className:"jp-Launcher-kernelIcon",alt:p}):b.createElement("div",{className:"jp-LauncherCard-noKernelIcon"},h[0].toUpperCase()):b.createElement(m.Tl.resolveReact,{icon:v,iconClass:(0,u.Ly)(f,"jp-Icon-cover"),stylesheet:"launcherCard"})),b.createElement("div",{className:"jp-LauncherCard-label",title:p},b.createElement("p",null,h)))}(i,e,this,this._commands,this._trans,this._callback))))),r.push(s))}),b.createElement("div",{className:"jp-Launcher-body"},b.createElement("div",{className:"jp-Launcher-content"},b.createElement("div",{className:"jp-Launcher-cwd"},b.createElement("h3",null,this.cwd)),r))}}!function(e){let t=0;e.keyProperty=new f.AttachedProperty({name:"key",create:()=>t++}),e.createItem=function(e){return{...e,category:e.category||"",rank:void 0!==e.rank?e.rank:1/0}},e.sortCmp=function(e,t,n,a){const r=e.rank,s=t.rank;if(r!==s&&void 0!==r&&void 0!==s)return r<s?-1:1;const c=a.label(e.command,{...e.args,cwd:n}),o=a.label(t.command,{...t.args,cwd:n});return c.localeCompare(o)}}(a||(a={}));var g,k=n(13855);!function(e){e.create="launcher:create"}(g||(g={}));const C={activate:function(e,t,n,a,r){const{commands:s,shell:o}=e,i=t.load("jupyterlab"),l=new v;return s.addCommand(g.create,{label:i.__("New Launcher"),icon:e=>e.toolbar?k.Xv:void 0,execute:e=>{var a,d;const h=null!==(d=null!==(a=e.cwd)&&void 0!==a?a:null==r?void 0:r.model.path)&&void 0!==d?d:"",m="launcher-"+j.id++,u=new y({model:l,cwd:h,callback:e=>{(0,p.find)(o.widgets("main"),t=>t===e)&&(o.add(e,"main",{ref:m}),u.dispose())},commands:s,translator:t});u.model=l,u.title.icon=k.Ez,u.title.label=i.__("Launcher");const w=new c.p({content:u});if(w.title.closable=!!Array.from(o.widgets("main")).length,w.id=m,o.add(w,"main",{activate:e.activate,ref:e.ref}),n&&n.layoutModified.connect(()=>{w.title.closable=Array.from(n.widgets("main")).length>1},w),r){const e=e=>{u.cwd=e.path};r.model.pathChanged.connect(e),u.disposed.connect(()=>{r.model.pathChanged.disconnect(e)})}return w}}),n&&Promise.all([e.restored,null==r?void 0:r.model.restored]).then(()=>{n.layoutModified.connect(()=>{n.isEmpty("main")&&s.execute(g.create)})}),a&&a.addItem({command:g.create,category:i.__("Launcher")}),n&&(n.addButtonEnabled=!0,n.addRequested.connect((e,t)=>{var n;const a=(null===(n=t.currentTitle)||void 0===n?void 0:n.owner.id)||t.titles[t.titles.length-1].owner.id;return s.execute(g.create,{ref:a})})),l},id:"@jupyterlab/launcher-extension:plugin",description:"Provides the launcher tab service.",requires:[d.sQ],optional:[r.V,s.kn,o.PP],provides:i.k,autoStart:!0},E=C;var j;!function(e){e.id=0}(j||(j={}))}}]);