'''
    This code was AUTOGENERATED using the codama library.
    Please DO NOT EDIT THIS FILE, instead use visitors
    to add features, then rerun codama to update it.
    @see https://github.com/codama-idl/codama
'''

import borsh_construct as borsh
import typing
from construct import Container
from dataclasses import dataclass
from . import entryExitFees, managementFee, performanceFee, protocolFees

class FeeStructureJSON(typing.TypedDict):
    vault: entryExitFees.EntryExitFeesJSON
    manager: entryExitFees.EntryExitFeesJSON
    management: managementFee.ManagementFeeJSON
    performance: performanceFee.PerformanceFeeJSON
    protocol: protocolFees.ProtocolFeesJSON

@dataclass
class FeeStructure:
    layout: typing.ClassVar = borsh.CStruct(
        "vault" /entryExitFees.EntryExitFees.layout,
        "manager" /entryExitFees.EntryExitFees.layout,
        "management" /managementFee.ManagementFee.layout,
        "performance" /performanceFee.PerformanceFee.layout,
        "protocol" /protocolFees.ProtocolFees.layout,
        )
    #fields
    vault: entryExitFees.EntryExitFees
    manager: entryExitFees.EntryExitFees
    management: managementFee.ManagementFee
    performance: performanceFee.PerformanceFee
    protocol: protocolFees.ProtocolFees
    
    @classmethod
    def from_decoded(cls, obj: Container) -> "FeeStructure":
        return cls(
        vault=entryExitFees.EntryExitFees.from_decoded(obj["vault"]),
        manager=entryExitFees.EntryExitFees.from_decoded(obj["manager"]),
        management=managementFee.ManagementFee.from_decoded(obj["management"]),
        performance=performanceFee.PerformanceFee.from_decoded(obj["performance"]),
        protocol=protocolFees.ProtocolFees.from_decoded(obj["protocol"]),
        )

    def to_encodable(self) -> dict[str, typing.Any]:
        return {
                "vault": self.vault.to_encodable(),
                "manager": self.manager.to_encodable(),
                "management": self.management.to_encodable(),
                "performance": self.performance.to_encodable(),
                "protocol": self.protocol.to_encodable(),
                }

    def to_json(self) -> FeeStructureJSON:
        return {
                "vault": self.vault.to_json(),
                "manager": self.manager.to_json(),
                "management": self.management.to_json(),
                "performance": self.performance.to_json(),
                "protocol": self.protocol.to_json(),
                }

    @classmethod
    def from_json(cls, obj: FeeStructureJSON) -> "FeeStructure":
        return cls(
                vault=entryExitFees.EntryExitFees.from_json(obj["vault"]),
                manager=entryExitFees.EntryExitFees.from_json(obj["manager"]),
                management=managementFee.ManagementFee.from_json(obj["management"]),
                performance=performanceFee.PerformanceFee.from_json(obj["performance"]),
                protocol=protocolFees.ProtocolFees.from_json(obj["protocol"]),
        )






