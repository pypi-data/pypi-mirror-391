'''
    This code was AUTOGENERATED using the codama library.
    Please DO NOT EDIT THIS FILE, instead use visitors
    to add features, then rerun codama to update it.
    @see https://github.com/codama-idl/codama
'''

import borsh_construct as borsh
import typing
from anchorpy.borsh_extension import EnumForCodegen
from dataclasses import dataclass


class ContinuousJSON(typing.TypedDict):
    kind: typing.Literal["Continuous"]


@dataclass
class Continuous:
    discriminator: typing.ClassVar = 0
    def to_json(self) -> ContinuousJSON:
        return ContinuousJSON(
            kind="Continuous",
        )

    def to_encodable(self) -> dict[str, typing.Any]:
        return {
            "Continuous": {},
        }




class PeriodicJSON(typing.TypedDict):
    kind: typing.Literal["Periodic"]


@dataclass
class Periodic:
    discriminator: typing.ClassVar = 1
    def to_json(self) -> PeriodicJSON:
        return PeriodicJSON(
            kind="Periodic",
        )

    def to_encodable(self) -> dict[str, typing.Any]:
        return {
            "Periodic": {},
        }





ValuationModelKind = typing.Union[
    Continuous,
    Periodic,
]
ValuationModelJSON = typing.Union[
    ContinuousJSON,
    PeriodicJSON,
]

def from_decoded(obj: dict) -> ValuationModelKind:
    if not isinstance(obj, dict):
        raise ValueError("Invalid enum object")
    if "Continuous" in obj:
      return Continuous()
    if "Periodic" in obj:
      return Periodic()
    raise ValueError("Invalid enum object")

def from_json(obj: ValuationModelJSON) -> ValuationModelKind:
    if obj["kind"] == "Continuous":
        return Continuous()

    if obj["kind"] == "Periodic":
        return Periodic()

    kind = obj["kind"]
    raise ValueError(f"Unrecognized enum kind: {kind}")


layout = EnumForCodegen(
"Continuous" / borsh.CStruct(),
"Periodic" / borsh.CStruct(),
)
