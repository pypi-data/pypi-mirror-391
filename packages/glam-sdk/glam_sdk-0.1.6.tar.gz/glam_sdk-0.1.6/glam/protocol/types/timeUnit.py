'''
    This code was AUTOGENERATED using the codama library.
    Please DO NOT EDIT THIS FILE, instead use visitors
    to add features, then rerun codama to update it.
    @see https://github.com/codama-idl/codama
'''

import borsh_construct as borsh
import typing
from anchorpy.borsh_extension import EnumForCodegen
from dataclasses import dataclass


class SecondJSON(typing.TypedDict):
    kind: typing.Literal["Second"]


@dataclass
class Second:
    discriminator: typing.ClassVar = 0
    def to_json(self) -> SecondJSON:
        return SecondJSON(
            kind="Second",
        )

    def to_encodable(self) -> dict[str, typing.Any]:
        return {
            "Second": {},
        }




class SlotJSON(typing.TypedDict):
    kind: typing.Literal["Slot"]


@dataclass
class Slot:
    discriminator: typing.ClassVar = 1
    def to_json(self) -> SlotJSON:
        return SlotJSON(
            kind="Slot",
        )

    def to_encodable(self) -> dict[str, typing.Any]:
        return {
            "Slot": {},
        }





TimeUnitKind = typing.Union[
    Second,
    Slot,
]
TimeUnitJSON = typing.Union[
    SecondJSON,
    SlotJSON,
]

def from_decoded(obj: dict) -> TimeUnitKind:
    if not isinstance(obj, dict):
        raise ValueError("Invalid enum object")
    if "Second" in obj:
      return Second()
    if "Slot" in obj:
      return Slot()
    raise ValueError("Invalid enum object")

def from_json(obj: TimeUnitJSON) -> TimeUnitKind:
    if obj["kind"] == "Second":
        return Second()

    if obj["kind"] == "Slot":
        return Slot()

    kind = obj["kind"]
    raise ValueError(f"Unrecognized enum kind: {kind}")


layout = EnumForCodegen(
"Second" / borsh.CStruct(),
"Slot" / borsh.CStruct(),
)
