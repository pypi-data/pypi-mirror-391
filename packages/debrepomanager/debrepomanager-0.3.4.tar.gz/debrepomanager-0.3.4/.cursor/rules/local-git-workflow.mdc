---
tags: ["git", "workflow", "branches"]
---

# Git Workflow Rules

## üîí –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –ü–†–ê–í–ò–õ–û

### ‚ùå –ù–ò–ö–û–ì–î–ê –ù–ï –ü–£–®–ò–¢–¨ –í MAIN/MASTER –ù–ê–ü–†–Ø–ú–£–Æ!

**–≠–¢–û –ü–†–ê–í–ò–õ–û –ê–ë–°–û–õ–Æ–¢–ù–û–ï –ò –ù–ï –ò–ú–ï–ï–¢ –ò–°–ö–õ–Æ–ß–ï–ù–ò–ô!**

```bash
# ‚ùå –ù–ò–ö–û–ì–î–ê –ù–ï –î–ï–õ–ê–¢–¨:
git push origin main
git push origin master
git push --force origin main

# ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û:
git checkout -b feature/my-feature
git add -A
git commit -m "feat: my changes"
git push origin feature/my-feature
gh pr create --base main --title "..."
# –ü–æ—Å–ª–µ review - merge —á–µ—Ä–µ–∑ GitHub UI –∏–ª–∏ gh pr merge
```

## üìã –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π Workflow

### 1. –°–æ–∑–¥–∞—Ç—å feature branch

```bash
git checkout main
git pull origin main
git checkout -b feature/descriptive-name
```

### 2. –î–µ–ª–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏ –∫–æ–º–º–∏—Ç–∏—Ç—å

```bash
git add -A
git commit -m "type: description"
```

**Commit types:**
- `feat:` - –Ω–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- `fix:` - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–≥–∞
- `docs:` - –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- `style:` - —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- `refactor:` - —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥
- `test:` - —Ç–µ—Å—Ç—ã
- `chore:` - maintenance

### 3. Push –≤ feature branch

```bash
git push origin feature/descriptive-name
```

### 4. –°–æ–∑–¥–∞—Ç—å Pull Request

```bash
gh pr create \
  --base main \
  --title "feat: Add feature X" \
  --body "Description of changes"
```

### 5. –î–æ–∂–¥–∞—Ç—å—Å—è CI checks

–í—Å–µ checks –¥–æ–ª–∂–Ω—ã –ø—Ä–æ–π—Ç–∏:
- ‚úÖ Tests (Python 3.11, 3.12, 3.13)
- ‚úÖ Integration Tests (Docker)
- ‚úÖ Code Quality
- ‚úÖ Security Scan

### 6. Merge —á–µ—Ä–µ–∑ PR

```bash
gh pr merge <number> --squash --delete-branch
# –ò–õ–ò —á–µ—Ä–µ–∑ GitHub Web UI
```

## ‚ùå –ß—Ç–æ –ù–ò–ö–û–ì–î–ê –Ω–µ –¥–µ–ª–∞—Ç—å

1. **–ù–ò–ö–û–ì–î–ê** `git push origin main`
2. **–ù–ò–ö–û–ì–î–ê** `git push origin master`
3. **–ù–ò–ö–û–ì–î–ê** `git push --force` –Ω–∞ main/master
4. **–ù–ò–ö–û–ì–î–ê** –ø—Ä—è–º—ã–µ –∫–æ–º–º–∏—Ç—ã –≤ main/master
5. **–ù–ò–ö–û–ì–î–ê** –æ–±—Ö–æ–¥–∏—Ç—å CI checks
6. **–ù–ò–ö–û–ì–î–ê** merge –±–µ–∑ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è –≤—Å–µ—Ö checks

## ‚úÖ –ò—Å–∫–ª—é—á–µ–Ω–∏—è

**–ù–ï–¢ –ò–°–ö–õ–Æ–ß–ï–ù–ò–ô!**

–î–∞–∂–µ –¥–ª—è:
- ‚ùå Hotfixes - —á–µ—Ä–µ–∑ PR —Å label `hotfix`
- ‚ùå –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ - —á–µ—Ä–µ–∑ PR
- ‚ùå Typos - —á–µ—Ä–µ–∑ PR
- ‚ùå "–ë—ã—Å—Ç—Ä—ã—Ö —Ñ–∏–∫—Å–æ–≤" - —á–µ—Ä–µ–∑ PR

**–í–°–ï–ì–î–ê —á–µ—Ä–µ–∑ Pull Request!**

## üîê Branch Protection

Main branch –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞—â–∏—â–µ–Ω:
- Require pull request reviews
- Require status checks to pass
- Require branches to be up to date
- No direct pushes (enforce for admins too)

## üìù PR Best Practices

### Title Format
```
<type>: <description>

Examples:
feat: Add dual format support
fix: Handle GPG key not found
docs: Update CHANGELOG for v0.1.0
test: Add integration tests for apt install
```

### Body Template
```markdown
## Changes
- Change 1
- Change 2

## Tests
- Test 1 added
- Test 2 updated

## Checklist
- [ ] Tests added/updated
- [ ] Documentation updated
- [ ] CHANGELOG updated (if needed)
- [ ] All CI checks pass
```

### Review Process
1. Create PR
2. CI runs automatically
3. Review by team member (if team)
4. Address review comments
5. Re-push to same branch (PR updates automatically)
6. All checks pass
7. Merge via GitHub UI or `gh pr merge`

## üö® Emergency Procedures

### If accidentally pushed to main

```bash
# Immediately contact team lead
# Revert if possible:
git reset --hard HEAD~1
git push --force origin main  # Only with approval!

# Better: create revert commit via PR
git revert <commit-hash>
# Then PR the revert
```

### Hotfix Process

```bash
# Still through PR, but expedited:
git checkout -b hotfix/critical-bug
# Fix
git commit -m "fix: Critical bug description"
git push origin hotfix/critical-bug
gh pr create --base main --title "üî• HOTFIX: ..." --label hotfix

# Fast-track review and merge
# But STILL through PR!
```

## üìä Workflow Summary

```
main (protected) ‚Üê PR only!
  ‚Üë
  PR #123 (CI checks)
  ‚Üë
feature/my-branch (your work)
  ‚Üë
local commits
```

**–ö–ª—é—á**: main –≤—Å–µ–≥–¥–∞ –∑–∞—â–∏—â–µ–Ω, –∏–∑–º–µ–Ω–µ–Ω–∏—è –¢–û–õ–¨–ö–û —á–µ—Ä–µ–∑ PR!

## See Also

- [development.md](development.md) - Development process
- [testing.md](testing.md) - Testing requirements
- [code-style.md](code-style.md) - Code style guide

