import numpy as np

from puzzle_solver import dominosa_solver as solver
from puzzle_solver.core.utils import get_pos


def debug_print_arr(assignment: dict, V: int, H: int):
  arr = np.array([[assignment.get(get_pos(x=x, y=y), '') for x in range(H)] for y in range(V)]).astype(str)
  print('  ground = np.array([')
  for i,row in enumerate(arr):
      print('    [' + ', '.join([f"'{c}'" for c in row]) + ']', end='')
      if i != len(arr) - 1:
          print(',')
  print('  \n])')



def test_ground():
  # https://www.chiark.greenend.org.uk/~sgtatham/puzzles/js/dominosa.html#9db%23801628305305591
  board = np.array([
    [6, 8, 2, 7, 1, 3, 3, 4, 6, 6, 0],
    [4, 9, 5, 6, 1, 0, 6, 1, 2, 2, 4],
    [8, 2, 8, 9, 1, 9, 3, 3, 8, 8, 5],
    [1, 1, 7, 3, 4, 7, 0, 8, 7, 7, 7],
    [4, 5, 3, 9, 9, 3, 0, 1, 6, 1, 5],
    [6, 9, 5, 8, 9, 2, 1, 2, 6, 7, 9],
    [2, 7, 4, 3, 5, 5, 9, 6, 4, 0, 9],
    [0, 7, 8, 0, 5, 4, 2, 7, 6, 7, 3],
    [0, 4, 5, 2, 8, 6, 1, 0, 9, 0, 4],
    [0, 8, 8, 3, 2, 1, 3, 2, 5, 5, 4],
  ])
  binst = solver.Board(board=board)
  solutions = binst.solve_and_print()
  assert len(solutions) == 1, f'unique solutions != 1, == {len(solutions)}'
  solution = solutions[0].assignment
  # debug_print_arr(solution, board.shape[0], board.shape[1])
  ground = np.array([
    ['0-0-R', '0-0-R', '2-0-R', '2-0-R', '4-0-D', '5-0-R', '5-0-R', '7-0-R', '7-0-R', '9-0-R', '9-0-R'],
    ['0-1-D', '1-1-D', '2-1-R', '2-1-R', '4-0-D', '5-1-D', '6-1-D', '7-1-D', '8-1-R', '8-1-R', '10-1-D'],
    ['0-1-D', '1-1-D', '2-2-D', '3-2-R', '3-2-R', '5-1-D', '6-1-D', '7-1-D', '8-2-R', '8-2-R', '10-1-D'],
    ['0-3-D', '1-3-D', '2-2-D', '3-3-D', '4-3-D', '5-3-R', '5-3-R', '7-3-D', '8-3-R', '8-3-R', '10-3-D'],
    ['0-3-D', '1-3-D', '2-4-D', '3-3-D', '4-3-D', '5-4-R', '5-4-R', '7-3-D', '8-4-D', '9-4-D', '10-3-D'],
    ['0-5-D', '1-5-D', '2-4-D', '3-5-R', '3-5-R', '5-5-D', '6-5-R', '6-5-R', '8-4-D', '9-4-D', '10-5-D'],
    ['0-5-D', '1-5-D', '2-6-R', '2-6-R', '4-6-D', '5-5-D', '6-6-R', '6-6-R', '8-6-R', '8-6-R', '10-5-D'],
    ['0-7-D', '1-7-D', '2-7-D', '3-7-D', '4-6-D', '5-7-R', '5-7-R', '7-7-R', '7-7-R', '9-7-R', '9-7-R'],
    ['0-7-D', '1-7-D', '2-7-D', '3-7-D', '4-8-D', '5-8-D', '6-8-R', '6-8-R', '8-8-D', '9-8-D', '10-8-D'],
    ['0-9-R', '0-9-R', '2-9-R', '2-9-R', '4-8-D', '5-8-D', '6-9-R', '6-9-R', '8-8-D', '9-8-D', '10-8-D']
  ])
  ground_assignment = {get_pos(x=x, y=y): ground[y][x] for x in range(ground.shape[1]) for y in range(ground.shape[0])}
  assert set(solution.keys()) == set(ground_assignment.keys()), f'solution keys != ground assignment keys, {set(solution.keys())} != {set(ground_assignment.keys())}'
  for pos in solution.keys():
    assert solution[pos] == ground_assignment[pos], f'solution[{pos}] != ground assignment[{pos}], {solution[pos]} != {ground_assignment[pos]}'

def test_ground2():
  # monthly, nov 2025, https://www.puzzle-dominosa.com/?pl=d8fd2f26a0413295281116be9fe26a3c690bf1d5de434
  board = np.array([
    [ '27', '16', '11', '34', '14', '28', '24', '13', '3' , '34', '17', '32', '28', '10', '14', '37', '9' , '5' , '1' , '35', '33', '39', '0' , '10', '26', '2' , '9' , '36', '13', '29', '9' , '9' , '0' , '24', '16', '26', '25', '25', '20', '7' , '40', '25' ],
    [ '33', '26', '3' , '21', '29', '33', '26', '38', '8' , '40', '30', '20', '2' , '39', '5' , '20', '26', '33', '19', '35', '4' , '23', '19', '16', '3' , '35', '11', '19', '5' , '17', '33', '39', '26', '6' , '24', '36', '16', '18', '3' , '15', '9' , '33' ],
    [ '33', '10', '27', '13', '11', '36', '26', '12', '3' , '25', '3' , '15', '36', '22', '12', '7' , '25', '22', '26', '0' , '5' , '16', '10', '15', '12', '25', '34', '35', '34', '28', '28', '9' , '30', '19', '7' , '29', '37', '25', '13', '21', '35', '14' ],
    [ '4' , '17', '37', '34', '3' , '30', '12', '23', '34', '14', '36', '0' , '31', '22', '39', '28', '21', '9' , '33', '0' , '28', '6' , '10', '5' , '8' , '15', '34', '33', '11', '30', '16', '1' , '25', '19', '17', '36', '33', '10', '0' , '4' , '20', '19' ],
    [ '14', '0' , '21', '14', '39', '29', '6' , '30', '3' , '16', '38', '5' , '4' , '24', '25', '32', '21', '7' , '27', '6' , '24', '18', '11', '20', '33', '15', '5' , '35', '6' , '3' , '9' , '32', '1' , '27', '25', '21', '23', '16', '32', '24', '40', '12' ],
    [ '28', '1' , '11', '1' , '17', '29', '10', '3' , '4' , '12', '34', '17', '28', '8' , '28', '7' , '33', '36', '28', '12', '7' , '9' , '40', '34', '26', '7' , '34', '15', '33', '40', '27', '32', '4' , '38', '5' , '0' , '32', '19', '24', '6' , '27', '28' ],
    [ '13', '5' , '0' , '39', '23', '22', '21', '35', '23', '27', '2' , '36', '11', '23', '20', '18', '36', '23', '5' , '25', '36', '8' , '11', '28', '27', '37', '40', '7' , '17', '37', '39', '12', '40', '22', '32', '7' , '18', '3' , '21', '4' , '21', '7'  ],
    [ '11', '8' , '34', '5' , '0' , '13', '30', '32', '17', '14', '7' , '29', '31', '22', '0' , '19', '36', '2' , '2' , '28', '36', '31', '31', '5' , '30', '19', '33', '0' , '25', '14', '28', '4' , '1' , '38', '38', '30', '31', '13', '8' , '8' , '17', '22' ],
    [ '19', '25', '30', '40', '30', '17', '14', '24', '4' , '22', '13', '2' , '33', '12', '12', '10', '19', '32', '9' , '28', '4' , '8' , '17', '28', '40', '11', '6' , '3' , '12', '15', '26', '23', '10', '7' , '1' , '15', '38', '24', '39', '39', '19', '23' ],
    [ '17', '38', '18', '29', '36', '1' , '2' , '23', '18', '19', '17', '24', '22', '15', '30', '35', '39', '19', '21', '5' , '20', '25', '38', '27', '36', '4' , '0' , '3' , '29', '5' , '31', '38', '31', '0' , '29', '39', '18', '5' , '11', '6' , '34', '37' ],
    [ '17', '37', '25', '37', '12', '4' , '37', '4' , '38', '6' , '23', '30', '3' , '2' , '33', '14', '15', '20', '14', '27', '16', '10', '40', '32', '34', '12', '5' , '5' , '36', '32', '34', '31', '5' , '40', '20', '40', '19', '39', '20', '26', '18', '14' ],
    [ '35', '20', '29', '31', '17', '27', '9' , '25', '14', '11', '2' , '11', '37', '6' , '37', '10', '28', '19', '7' , '19', '24', '29', '19', '19', '11', '27', '8' , '36', '27', '23', '16', '35', '33', '25', '2' , '17', '5' , '23', '5' , '4' , '17', '18' ],
    [ '33', '3' , '28', '12', '39', '22', '13', '21', '20', '34', '29', '18', '20', '18', '28', '25', '6' , '32', '14', '23', '11', '14', '4' , '24', '26', '35', '17', '34', '3' , '13', '6' , '31', '34', '23', '17', '37', '29', '7' , '27', '15', '5' , '33' ],
    [ '4' , '1' , '13', '27', '2' , '32', '13', '15', '9' , '39', '26', '26', '15', '29', '24', '39', '37', '2' , '13', '34', '19', '30', '18', '7' , '10', '19', '31', '13', '29', '36', '6' , '28', '2' , '18', '7' , '18', '2' , '8' , '35', '13', '0' , '22' ],
    [ '5' , '18', '12', '34', '13', '7' , '11', '15', '2' , '14', '24', '32', '15', '5' , '5' , '31', '21', '13', '6' , '17', '34', '11', '30', '36', '30', '25', '14', '27', '27', '31', '5' , '15', '6' , '28', '18', '12', '31', '6' , '36', '28', '33', '24' ],
    [ '25', '0' , '0' , '30', '36', '1' , '38', '31', '4' , '16', '20', '13', '16', '38', '11', '9' , '21', '36', '2' , '36', '39', '21', '26', '37', '26', '3' , '12', '18', '26', '34', '32', '30', '4' , '30', '23', '40', '4' , '18', '29', '0' , '38', '26' ],
    [ '39', '40', '1' , '13', '37', '28', '27', '5' , '15', '1' , '19', '38', '33', '14', '9' , '35', '12', '4' , '24', '2' , '22', '22', '29', '3' , '6' , '26', '1' , '30', '28', '4' , '27', '1' , '36', '16', '35', '30', '14', '37', '34', '16', '15', '23' ],
    [ '35', '11', '1' , '40', '32', '14', '34', '8' , '4' , '12', '0' , '0' , '30', '20', '6' , '18', '22', '38', '11', '17', '28', '5' , '38', '21', '11', '30', '7' , '16', '28', '27', '29', '22', '3' , '18', '36', '13', '38', '17', '0' , '18', '4' , '38' ],
    [ '17', '9' , '32', '1' , '5' , '21', '5' , '4' , '24', '0' , '19', '21', '34', '8' , '14', '14', '38', '21', '7' , '22', '13', '16', '36', '29', '2' , '39', '2' , '10', '13', '13', '21', '32', '23', '13', '10', '28', '14', '16', '8' , '16', '14', '1'  ],
    [ '3' , '19', '16', '16', '10', '33', '16', '13', '14', '11', '24', '38', '33', '16', '17', '14', '8' , '31', '15', '17', '26', '16', '13', '25', '15', '12', '24', '8' , '17', '9' , '2' , '9' , '6' , '5' , '17', '10', '0' , '34', '10', '24', '29', '39' ],
    [ '32', '20', '33', '35', '23', '14', '17', '37', '7' , '33', '37', '24', '9' , '8' , '12', '25', '16', '21', '1' , '2' , '5' , '24', '36', '9' , '34', '26', '35', '22', '7' , '2' , '4' , '30', '5' , '1' , '3' , '31', '23', '9' , '12', '5' , '25', '20' ],
    [ '11', '12', '40', '40', '39', '19', '22', '6' , '40', '0' , '36', '27', '35', '38', '34', '32', '1' , '37', '21', '26', '35', '16', '35', '28', '22', '8' , '20', '29', '8' , '37', '37', '3' , '39', '17', '21', '28', '15', '20', '5' , '17', '11', '22' ],
    [ '15', '21', '14', '3' , '19', '11', '39', '16', '2' , '4' , '7' , '9' , '38', '28', '37', '20', '26', '8' , '37', '12', '21', '37', '32', '26', '6' , '29', '39', '29', '36', '37', '18', '17', '26', '16', '16', '39', '31', '28', '34', '26', '27', '11' ],
    [ '32', '34', '15', '36', '1' , '31', '7' , '29', '11', '0' , '9' , '36', '40', '0' , '3' , '27', '13', '35', '38', '38', '33', '5' , '10', '35', '8' , '23', '20', '8' , '26', '30', '8' , '0' , '4' , '28', '22', '40', '14', '39', '11', '22', '2' , '15' ],
    [ '10', '15', '1' , '31', '17', '13', '27', '31', '20', '24', '20', '36', '11', '29', '6' , '0' , '19', '27', '35', '40', '13', '11', '20', '4' , '10', '40', '19', '21', '40', '19', '9' , '3' , '20', '0' , '10', '38', '18', '37', '12', '32', '11', '6'  ],
    [ '23', '23', '6' , '23', '9' , '3' , '29', '40', '36', '19', '19', '39', '20', '38', '7' , '28', '3' , '20', '12', '12', '39', '13', '22', '24', '37', '37', '18', '1' , '25', '10', '37', '25', '24', '15', '21', '33', '24', '33', '24', '32', '21', '36' ],
    [ '12', '12', '27', '37', '39', '3' , '16', '8' , '40', '32', '14', '25', '22', '20', '15', '2' , '2' , '2' , '31', '9' , '1' , '1' , '7' , '36', '23', '22', '33', '30', '25', '18', '6' , '29', '4' , '9' , '24', '6' , '32', '10', '10', '7' , '1' , '5'  ],
    [ '11', '12', '21', '15', '4' , '6' , '13', '3' , '38', '0' , '24', '24', '40', '31', '32', '0' , '16', '10', '8' , '26', '10', '3' , '26', '17', '35', '25', '33', '4' , '38', '17', '29', '32', '3' , '38', '22', '39', '32', '5' , '18', '13', '34', '31' ],
    [ '11', '0' , '39', '12', '39', '38', '4' , '24', '39', '23', '29', '8' , '18', '1' , '25', '29', '30', '31', '29', '26', '27', '32', '13', '34', '23', '28', '0' , '25', '18', '22', '22', '23', '27', '27', '3' , '25', '35', '38', '1' , '38', '27', '31' ],
    [ '10', '4' , '21', '20', '37', '29', '15', '16', '21', '10', '29', '30', '2' , '2' , '26', '15', '20', '16', '6' , '24', '32', '21', '17', '35', '0' , '27', '40', '15', '21', '19', '8' , '5' , '40', '1' , '9' , '21', '15', '38', '30', '38', '10', '28' ],
    [ '34', '5' , '29', '29', '8' , '23', '6' , '29', '19', '1' , '15', '8' , '30', '31', '9' , '21', '1' , '22', '8' , '20', '31', '21', '25', '36', '4' , '22', '12', '0' , '2' , '6' , '4' , '7' , '12', '11', '33', '24', '6' , '29', '23', '24', '40', '14' ],
    [ '2' , '23', '40', '1' , '3' , '30', '32', '35', '36', '3' , '0' , '6' , '7' , '40', '40', '8' , '9' , '13', '34', '25', '23', '23', '16', '36', '37', '7' , '19', '16', '22', '0' , '39', '10', '37', '7' , '39', '8' , '38', '24', '1' , '37', '36', '18' ],
    [ '12', '21', '22', '23', '18', '10', '38', '35', '33', '1' , '27', '18', '26', '14', '8' , '8' , '30', '26', '31', '23', '23', '26', '35', '10', '0' , '3' , '37', '6' , '16', '33', '37', '36', '2' , '7' , '31', '34', '15', '22', '30', '1' , '38', '14' ],
    [ '32', '36', '14', '38', '13', '1' , '14', '39', '27', '39', '0' , '35', '34', '28', '7' , '33', '30', '7' , '11', '2' , '4' , '5' , '4' , '31', '25', '8' , '4' , '20', '23', '21', '35', '2' , '9' , '20', '20', '26', '28', '23', '30', '13', '11', '37' ],
    [ '19', '40', '24', '34', '3' , '40', '13', '40', '6' , '13', '12', '40', '40', '33', '27', '15', '17', '30', '23', '33', '3' , '31', '4' , '1' , '3' , '9' , '28', '17', '7' , '38', '30', '35', '28', '28', '26', '24', '31', '33', '31', '19', '38', '39' ],
    [ '34', '9' , '7' , '25', '0' , '14', '31', '33', '8' , '13', '17', '16', '21', '32', '0' , '18', '16', '1' , '21', '16', '27', '10', '22', '18', '31', '18', '11', '34', '22', '35', '19', '10', '32', '37', '15', '4' , '32', '39', '32', '8' , '2' , '8'  ],
    [ '2' , '29', '29', '11', '40', '27', '12', '38', '26', '5' , '7' , '37', '18', '18', '40', '33', '13', '9' , '37', '30', '4' , '29', '26', '27', '27', '35', '39', '12', '24', '32', '3' , '18', '3' , '20', '29', '32', '15', '34', '39', '35', '12', '31' ],
    [ '11', '14', '26', '23', '26', '15', '14', '30', '7' , '6' , '8' , '25', '25', '24', '38', '10', '31', '10', '21', '21', '19', '28', '36', '24', '33', '40', '20', '20', '5' , '29', '15', '31', '40', '6' , '22', '25', '18', '10', '24', '18', '18', '6'  ],
    [ '33', '8' , '1' , '9' , '16', '10', '22', '11', '10', '11', '35', '32', '12', '13', '15', '8' , '31', '12', '9' , '14', '20', '27', '8' , '2' , '22', '32', '25', '6' , '4' , '9' , '22', '19', '20', '34', '8' , '20', '19', '15', '35', '35', '23', '10' ],
    [ '22', '9' , '9' , '16', '22', '15', '37', '6' , '17', '2' , '17', '20', '3' , '27', '14', '0' , '40', '10', '9' , '31', '7' , '6' , '23', '1' , '14', '7' , '30', '21', '30', '39', '18', '35', '34', '10', '34', '9' , '9' , '16', '6' , '28', '9' , '35' ],
    [ '6' , '2' , '11', '16', '33', '35', '26', '22', '31', '7' , '1' , '20', '32', '37', '2' , '19', '27', '17', '14', '36', '30', '12', '13', '25', '2' , '25', '24', '19', '26', '2' , '12', '7' , '39', '27', '1' , '25', '30', '18', '3' , '17', '7' , '35' ],
  ])
  binst = solver.Board(board=board)
  solutions = binst.solve_and_print()
  assert len(solutions) == 1, f'unique solutions != 1, == {len(solutions)}'
  solution = solutions[0].assignment
  # debug_print_arr(solution, board.shape[0], board.shape[1])
  ground = np.array([
    ['0-0-R', '0-0-R', '2-0-D', '3-0-R', '3-0-R', '5-0-R', '5-0-R', '7-0-R', '7-0-R', '9-0-D', '10-0-D', '11-0-D', '12-0-D', '13-0-D', '14-0-D', '15-0-D', '16-0-R', '16-0-R', '18-0-R', '18-0-R', '20-0-R', '20-0-R', '22-0-R', '22-0-R', '24-0-R', '24-0-R', '26-0-R', '26-0-R', '28-0-R', '28-0-R', '30-0-R', '30-0-R', '32-0-R', '32-0-R', '34-0-R', '34-0-R', '36-0-R', '36-0-R', '38-0-R', '38-0-R', '40-0-D', '41-0-D'],
    ['0-1-D', '1-1-D', '2-0-D', '3-1-D', '4-1-R', '4-1-R', '6-1-D', '7-1-D', '8-1-D', '9-0-D', '10-0-D', '11-0-D', '12-0-D', '13-0-D', '14-0-D', '15-0-D', '16-1-D', '17-1-R', '17-1-R', '19-1-R', '19-1-R', '21-1-R', '21-1-R', '23-1-R', '23-1-R', '25-1-R', '25-1-R', '27-1-R', '27-1-R', '29-1-R', '29-1-R', '31-1-R', '31-1-R', '33-1-R', '33-1-R', '35-1-D', '36-1-D', '37-1-R', '37-1-R', '39-1-D', '40-0-D', '41-0-D'],
    ['0-1-D', '1-1-D', '2-2-D', '3-1-D', '4-2-R', '4-2-R', '6-1-D', '7-1-D', '8-1-D', '9-2-R', '9-2-R', '11-2-D', '12-2-R', '12-2-R', '14-2-R', '14-2-R', '16-1-D', '17-2-D', '18-2-R', '18-2-R', '20-2-R', '20-2-R', '22-2-R', '22-2-R', '24-2-R', '24-2-R', '26-2-D', '27-2-D', '28-2-D', '29-2-R', '29-2-R', '31-2-D', '32-2-D', '33-2-D', '34-2-D', '35-1-D', '36-1-D', '37-2-R', '37-2-R', '39-1-D', '40-2-R', '40-2-R'],
    ['0-3-R', '0-3-R', '2-2-D', '3-3-R', '3-3-R', '5-3-R', '5-3-R', '7-3-R', '7-3-R', '9-3-R', '9-3-R', '11-2-D', '12-3-D', '13-3-R', '13-3-R', '15-3-R', '15-3-R', '17-2-D', '18-3-D', '19-3-R', '19-3-R', '21-3-R', '21-3-R', '23-3-R', '23-3-R', '25-3-D', '26-2-D', '27-2-D', '28-2-D', '29-3-R', '29-3-R', '31-2-D', '32-2-D', '33-2-D', '34-2-D', '35-3-D', '36-3-R', '36-3-R', '38-3-D', '39-3-R', '39-3-R', '41-3-D'],
    ['0-4-D', '1-4-D', '2-4-D', '3-4-D', '4-4-R', '4-4-R', '6-4-R', '6-4-R', '8-4-D', '9-4-D', '10-4-D', '11-4-D', '12-3-D', '13-4-R', '13-4-R', '15-4-D', '16-4-R', '16-4-R', '18-3-D', '19-4-D', '20-4-D', '21-4-D', '22-4-D', '23-4-D', '24-4-D', '25-3-D', '26-4-R', '26-4-R', '28-4-R', '28-4-R', '30-4-D', '31-4-R', '31-4-R', '33-4-R', '33-4-R', '35-3-D', '36-4-R', '36-4-R', '38-3-D', '39-4-R', '39-4-R', '41-3-D'],
    ['0-4-D', '1-4-D', '2-4-D', '3-4-D', '4-5-D', '5-5-R', '5-5-R', '7-5-D', '8-4-D', '9-4-D', '10-4-D', '11-4-D', '12-5-D', '13-5-R', '13-5-R', '15-4-D', '16-5-D', '17-5-R', '17-5-R', '19-4-D', '20-4-D', '21-4-D', '22-4-D', '23-4-D', '24-4-D', '25-5-R', '25-5-R', '27-5-R', '27-5-R', '29-5-D', '30-4-D', '31-5-D', '32-5-D', '33-5-R', '33-5-R', '35-5-D', '36-5-D', '37-5-D', '38-5-D', '39-5-R', '39-5-R', '41-5-D'],
    ['0-6-R', '0-6-R', '2-6-D', '3-6-D', '4-5-D', '5-6-R', '5-6-R', '7-5-D', '8-6-R', '8-6-R', '10-6-R', '10-6-R', '12-5-D', '13-6-R', '13-6-R', '15-6-D', '16-5-D', '17-6-R', '17-6-R', '19-6-D', '20-6-D', '21-6-D', '22-6-D', '23-6-D', '24-6-D', '25-6-D', '26-6-R', '26-6-R', '28-6-D', '29-5-D', '30-6-D', '31-5-D', '32-5-D', '33-6-D', '34-6-D', '35-5-D', '36-5-D', '37-5-D', '38-5-D', '39-6-R', '39-6-R', '41-5-D'],
    ['0-7-R', '0-7-R', '2-6-D', '3-6-D', '4-7-D', '5-7-R', '5-7-R', '7-7-R', '7-7-R', '9-7-R', '9-7-R', '11-7-R', '11-7-R', '13-7-R', '13-7-R', '15-6-D', '16-7-D', '17-7-R', '17-7-R', '19-6-D', '20-6-D', '21-6-D', '22-6-D', '23-6-D', '24-6-D', '25-6-D', '26-7-D', '27-7-D', '28-6-D', '29-7-D', '30-6-D', '31-7-R', '31-7-R', '33-6-D', '34-6-D', '35-7-D', '36-7-D', '37-7-D', '38-7-R', '38-7-R', '40-7-D', '41-7-D'],
    ['0-8-R', '0-8-R', '2-8-D', '3-8-D', '4-7-D', '5-8-D', '6-8-D', '7-8-D', '8-8-R', '8-8-R', '10-8-R', '10-8-R', '12-8-R', '12-8-R', '14-8-R', '14-8-R', '16-7-D', '17-8-R', '17-8-R', '19-8-R', '19-8-R', '21-8-R', '21-8-R', '23-8-R', '23-8-R', '25-8-D', '26-7-D', '27-7-D', '28-8-D', '29-7-D', '30-8-D', '31-8-D', '32-8-R', '32-8-R', '34-8-D', '35-7-D', '36-7-D', '37-7-D', '38-8-R', '38-8-R', '40-7-D', '41-7-D'],
    ['0-9-D', '1-9-D', '2-8-D', '3-8-D', '4-9-D', '5-8-D', '6-8-D', '7-8-D', '8-9-D', '9-9-D', '10-9-R', '10-9-R', '12-9-R', '12-9-R', '14-9-R', '14-9-R', '16-9-D', '17-9-D', '18-9-D', '19-9-D', '20-9-D', '21-9-D', '22-9-R', '22-9-R', '24-9-D', '25-8-D', '26-9-D', '27-9-D', '28-8-D', '29-9-D', '30-8-D', '31-8-D', '32-9-R', '32-9-R', '34-8-D', '35-9-R', '35-9-R', '37-9-R', '37-9-R', '39-9-D', '40-9-D', '41-9-D'],
    ['0-9-D', '1-9-D', '2-10-D', '3-10-D', '4-9-D', '5-10-D', '6-10-D', '7-10-D', '8-9-D', '9-9-D', '10-10-R', '10-10-R', '12-10-R', '12-10-R', '14-10-D', '15-10-D', '16-9-D', '17-9-D', '18-9-D', '19-9-D', '20-9-D', '21-9-D', '22-10-R', '22-10-R', '24-9-D', '25-10-D', '26-9-D', '27-9-D', '28-10-D', '29-9-D', '30-10-D', '31-10-D', '32-10-R', '32-10-R', '34-10-D', '35-10-D', '36-10-R', '36-10-R', '38-10-D', '39-9-D', '40-9-D', '41-9-D'],
    ['0-11-R', '0-11-R', '2-10-D', '3-10-D', '4-11-D', '5-10-D', '6-10-D', '7-10-D', '8-11-R', '8-11-R', '10-11-R', '10-11-R', '12-11-R', '12-11-R', '14-10-D', '15-10-D', '16-11-R', '16-11-R', '18-11-R', '18-11-R', '20-11-D', '21-11-R', '21-11-R', '23-11-D', '24-11-D', '25-10-D', '26-11-R', '26-11-R', '28-10-D', '29-11-D', '30-10-D', '31-10-D', '32-11-D', '33-11-D', '34-10-D', '35-10-D', '36-11-D', '37-11-D', '38-10-D', '39-11-D', '40-11-R', '40-11-R'],
    ['0-12-R', '0-12-R', '2-12-R', '2-12-R', '4-11-D', '5-12-R', '5-12-R', '7-12-R', '7-12-R', '9-12-R', '9-12-R', '11-12-R', '11-12-R', '13-12-R', '13-12-R', '15-12-R', '15-12-R', '17-12-D', '18-12-R', '18-12-R', '20-11-D', '21-12-D', '22-12-D', '23-11-D', '24-11-D', '25-12-D', '26-12-R', '26-12-R', '28-12-D', '29-11-D', '30-12-D', '31-12-D', '32-11-D', '33-11-D', '34-12-R', '34-12-R', '36-11-D', '37-11-D', '38-12-D', '39-11-D', '40-12-R', '40-12-R'],
    ['0-13-D', '1-13-R', '1-13-R', '3-13-R', '3-13-R', '5-13-R', '5-13-R', '7-13-R', '7-13-R', '9-13-D', '10-13-D', '11-13-R', '11-13-R', '13-13-R', '13-13-R', '15-13-R', '15-13-R', '17-12-D', '18-13-R', '18-13-R', '20-13-D', '21-12-D', '22-12-D', '23-13-D', '24-13-D', '25-12-D', '26-13-R', '26-13-R', '28-12-D', '29-13-D', '30-12-D', '31-12-D', '32-13-R', '32-13-R', '34-13-R', '34-13-R', '36-13-R', '36-13-R', '38-12-D', '39-13-R', '39-13-R', '41-13-D'],
    ['0-13-D', '1-14-R', '1-14-R', '3-14-D', '4-14-R', '4-14-R', '6-14-D', '7-14-R', '7-14-R', '9-13-D', '10-13-D', '11-14-R', '11-14-R', '13-14-R', '13-14-R', '15-14-R', '15-14-R', '17-14-R', '17-14-R', '19-14-D', '20-13-D', '21-14-R', '21-14-R', '23-13-D', '24-13-D', '25-14-R', '25-14-R', '27-14-D', '28-14-D', '29-13-D', '30-14-R', '30-14-R', '32-14-R', '32-14-R', '34-14-D', '35-14-R', '35-14-R', '37-14-R', '37-14-R', '39-14-R', '39-14-R', '41-13-D'],
    ['0-15-D', '1-15-R', '1-15-R', '3-14-D', '4-15-D', '5-15-D', '6-14-D', '7-15-D', '8-15-R', '8-15-R', '10-15-R', '10-15-R', '12-15-R', '12-15-R', '14-15-D', '15-15-R', '15-15-R', '17-15-D', '18-15-D', '19-14-D', '20-15-R', '20-15-R', '22-15-R', '22-15-R', '24-15-R', '24-15-R', '26-15-D', '27-14-D', '28-14-D', '29-15-D', '30-15-R', '30-15-R', '32-15-R', '32-15-R', '34-14-D', '35-15-D', '36-15-D', '37-15-R', '37-15-R', '39-15-D', '40-15-D', '41-15-D'],
    ['0-15-D', '1-16-R', '1-16-R', '3-16-D', '4-15-D', '5-15-D', '6-16-D', '7-15-D', '8-16-R', '8-16-R', '10-16-R', '10-16-R', '12-16-R', '12-16-R', '14-15-D', '15-16-D', '16-16-D', '17-15-D', '18-15-D', '19-16-D', '20-16-D', '21-16-D', '22-16-D', '23-16-D', '24-16-D', '25-16-D', '26-15-D', '27-16-R', '27-16-R', '29-15-D', '30-16-D', '31-16-R', '31-16-R', '33-16-R', '33-16-R', '35-15-D', '36-15-D', '37-16-R', '37-16-R', '39-15-D', '40-15-D', '41-15-D'],
    ['0-17-D', '1-17-R', '1-17-R', '3-16-D', '4-17-R', '4-17-R', '6-16-D', '7-17-D', '8-17-R', '8-17-R', '10-17-D', '11-17-D', '12-17-R', '12-17-R', '14-17-D', '15-16-D', '16-16-D', '17-17-D', '18-17-D', '19-16-D', '20-16-D', '21-16-D', '22-16-D', '23-16-D', '24-16-D', '25-16-D', '26-17-R', '26-17-R', '28-17-R', '28-17-R', '30-16-D', '31-17-D', '32-17-D', '33-17-R', '33-17-R', '35-17-D', '36-17-R', '36-17-R', '38-17-R', '38-17-R', '40-17-R', '40-17-R'],
    ['0-17-D', '1-18-D', '2-18-D', '3-18-D', '4-18-D', '5-18-R', '5-18-R', '7-17-D', '8-18-D', '9-18-D', '10-17-D', '11-17-D', '12-18-R', '12-18-R', '14-17-D', '15-18-D', '16-18-D', '17-17-D', '18-17-D', '19-18-D', '20-18-D', '21-18-D', '22-18-D', '23-18-R', '23-18-R', '25-18-R', '25-18-R', '27-18-D', '28-18-R', '28-18-R', '30-18-D', '31-17-D', '32-17-D', '33-18-R', '33-18-R', '35-17-D', '36-18-R', '36-18-R', '38-18-R', '38-18-R', '40-18-D', '41-18-D'],
    ['0-19-D', '1-18-D', '2-18-D', '3-18-D', '4-18-D', '5-19-R', '5-19-R', '7-19-D', '8-18-D', '9-18-D', '10-19-D', '11-19-R', '11-19-R', '13-19-R', '13-19-R', '15-18-D', '16-18-D', '17-19-R', '17-19-R', '19-18-D', '20-18-D', '21-18-D', '22-18-D', '23-19-R', '23-19-R', '25-19-D', '26-19-D', '27-18-D', '28-19-R', '28-19-R', '30-18-D', '31-19-R', '31-19-R', '33-19-D', '34-19-R', '34-19-R', '36-19-D', '37-19-D', '38-19-R', '38-19-R', '40-18-D', '41-18-D'],
    ['0-19-D', '1-20-R', '1-20-R', '3-20-R', '3-20-R', '5-20-R', '5-20-R', '7-19-D', '8-20-R', '8-20-R', '10-19-D', '11-20-D', '12-20-D', '13-20-R', '13-20-R', '15-20-R', '15-20-R', '17-20-R', '17-20-R', '19-20-R', '19-20-R', '21-20-D', '22-20-D', '23-20-D', '24-20-D', '25-19-D', '26-19-D', '27-20-D', '28-20-D', '29-20-R', '29-20-R', '31-20-R', '31-20-R', '33-19-D', '34-20-R', '34-20-R', '36-19-D', '37-19-D', '38-20-D', '39-20-R', '39-20-R', '41-20-D'],
    ['0-21-D', '1-21-R', '1-21-R', '3-21-R', '3-21-R', '5-21-R', '5-21-R', '7-21-D', '8-21-D', '9-21-R', '9-21-R', '11-20-D', '12-20-D', '13-21-D', '14-21-R', '14-21-R', '16-21-D', '17-21-D', '18-21-R', '18-21-R', '20-21-D', '21-20-D', '22-20-D', '23-20-D', '24-20-D', '25-21-R', '25-21-R', '27-20-D', '28-20-D', '29-21-R', '29-21-R', '31-21-R', '31-21-R', '33-21-R', '33-21-R', '35-21-R', '35-21-R', '37-21-D', '38-20-D', '39-21-R', '39-21-R', '41-20-D'],
    ['0-21-D', '1-22-D', '2-22-R', '2-22-R', '4-22-R', '4-22-R', '6-22-D', '7-21-D', '8-21-D', '9-22-R', '9-22-R', '11-22-R', '11-22-R', '13-21-D', '14-22-D', '15-22-D', '16-21-D', '17-21-D', '18-22-R', '18-22-R', '20-21-D', '21-22-D', '22-22-R', '22-22-R', '24-22-R', '24-22-R', '26-22-D', '27-22-D', '28-22-D', '29-22-D', '30-22-D', '31-22-D', '32-22-D', '33-22-D', '34-22-R', '34-22-R', '36-22-D', '37-21-D', '38-22-R', '38-22-R', '40-22-R', '40-22-R'],
    ['0-23-D', '1-22-D', '2-23-R', '2-23-R', '4-23-R', '4-23-R', '6-22-D', '7-23-R', '7-23-R', '9-23-R', '9-23-R', '11-23-R', '11-23-R', '13-23-D', '14-22-D', '15-22-D', '16-23-R', '16-23-R', '18-23-R', '18-23-R', '20-23-D', '21-22-D', '22-23-D', '23-23-R', '23-23-R', '25-23-D', '26-22-D', '27-22-D', '28-22-D', '29-22-D', '30-22-D', '31-22-D', '32-22-D', '33-22-D', '34-23-D', '35-23-D', '36-22-D', '37-23-R', '37-23-R', '39-23-R', '39-23-R', '41-23-D'],
    ['0-23-D', '1-24-D', '2-24-D', '3-24-R', '3-24-R', '5-24-R', '5-24-R', '7-24-D', '8-24-D', '9-24-R', '9-24-R', '11-24-D', '12-24-D', '13-23-D', '14-24-R', '14-24-R', '16-24-R', '16-24-R', '18-24-R', '18-24-R', '20-23-D', '21-24-D', '22-23-D', '23-24-D', '24-24-D', '25-23-D', '26-24-R', '26-24-R', '28-24-D', '29-24-D', '30-24-R', '30-24-R', '32-24-R', '32-24-R', '34-23-D', '35-23-D', '36-24-R', '36-24-R', '38-24-D', '39-24-R', '39-24-R', '41-23-D'],
    ['0-25-D', '1-24-D', '2-24-D', '3-25-D', '4-25-D', '5-25-D', '6-25-D', '7-24-D', '8-24-D', '9-25-D', '10-25-D', '11-24-D', '12-24-D', '13-25-D', '14-25-D', '15-25-R', '15-25-R', '17-25-R', '17-25-R', '19-25-R', '19-25-R', '21-24-D', '22-25-D', '23-24-D', '24-24-D', '25-25-D', '26-25-R', '26-25-R', '28-24-D', '29-24-D', '30-25-R', '30-25-R', '32-25-R', '32-25-R', '34-25-R', '34-25-R', '36-25-R', '36-25-R', '38-24-D', '39-25-R', '39-25-R', '41-25-D'],
    ['0-25-D', '1-26-D', '2-26-D', '3-25-D', '4-25-D', '5-25-D', '6-25-D', '7-26-R', '7-26-R', '9-25-D', '10-25-D', '11-26-R', '11-26-R', '13-25-D', '14-25-D', '15-26-D', '16-26-D', '17-26-D', '18-26-R', '18-26-R', '20-26-R', '20-26-R', '22-25-D', '23-26-R', '23-26-R', '25-25-D', '26-26-R', '26-26-R', '28-26-D', '29-26-R', '29-26-R', '31-26-R', '31-26-R', '33-26-R', '33-26-R', '35-26-D', '36-26-D', '37-26-R', '37-26-R', '39-26-R', '39-26-R', '41-25-D'],
    ['0-27-D', '1-26-D', '2-26-D', '3-27-D', '4-27-R', '4-27-R', '6-27-D', '7-27-D', '8-27-R', '8-27-R', '10-27-R', '10-27-R', '12-27-D', '13-27-R', '13-27-R', '15-26-D', '16-26-D', '17-26-D', '18-27-R', '18-27-R', '20-27-R', '20-27-R', '22-27-R', '22-27-R', '24-27-R', '24-27-R', '26-27-R', '26-27-R', '28-26-D', '29-27-R', '29-27-R', '31-27-D', '32-27-R', '32-27-R', '34-27-D', '35-26-D', '36-26-D', '37-27-R', '37-27-R', '39-27-D', '40-27-R', '40-27-R'],
    ['0-27-D', '1-28-R', '1-28-R', '3-27-D', '4-28-R', '4-28-R', '6-27-D', '7-27-D', '8-28-R', '8-28-R', '10-28-D', '11-28-D', '12-27-D', '13-28-R', '13-28-R', '15-28-R', '15-28-R', '17-28-D', '18-28-R', '18-28-R', '20-28-R', '20-28-R', '22-28-D', '23-28-D', '24-28-R', '24-28-R', '26-28-R', '26-28-R', '28-28-D', '29-28-R', '29-28-R', '31-27-D', '32-28-D', '33-28-D', '34-27-D', '35-28-D', '36-28-D', '37-28-R', '37-28-R', '39-27-D', '40-28-R', '40-28-R'],
    ['0-29-R', '0-29-R', '2-29-D', '3-29-D', '4-29-R', '4-29-R', '6-29-R', '6-29-R', '8-29-R', '8-29-R', '10-28-D', '11-28-D', '12-29-D', '13-29-D', '14-29-D', '15-29-R', '15-29-R', '17-28-D', '18-29-D', '19-29-R', '19-29-R', '21-29-D', '22-28-D', '23-28-D', '24-29-D', '25-29-D', '26-29-R', '26-29-R', '28-28-D', '29-29-R', '29-29-R', '31-29-D', '32-28-D', '33-28-D', '34-29-D', '35-28-D', '36-28-D', '37-29-R', '37-29-R', '39-29-D', '40-29-R', '40-29-R'],
    ['0-30-R', '0-30-R', '2-29-D', '3-29-D', '4-30-R', '4-30-R', '6-30-D', '7-30-D', '8-30-R', '8-30-R', '10-30-R', '10-30-R', '12-29-D', '13-29-D', '14-29-D', '15-30-D', '16-30-R', '16-30-R', '18-29-D', '19-30-R', '19-30-R', '21-29-D', '22-30-R', '22-30-R', '24-29-D', '25-29-D', '26-30-R', '26-30-R', '28-30-R', '28-30-R', '30-30-D', '31-29-D', '32-30-R', '32-30-R', '34-29-D', '35-30-D', '36-30-D', '37-30-R', '37-30-R', '39-29-D', '40-30-R', '40-30-R'],
    ['0-31-R', '0-31-R', '2-31-D', '3-31-D', '4-31-R', '4-31-R', '6-30-D', '7-30-D', '8-31-R', '8-31-R', '10-31-D', '11-31-R', '11-31-R', '13-31-R', '13-31-R', '15-30-D', '16-31-R', '16-31-R', '18-31-R', '18-31-R', '20-31-R', '20-31-R', '22-31-R', '22-31-R', '24-31-D', '25-31-D', '26-31-R', '26-31-R', '28-31-D', '29-31-D', '30-30-D', '31-31-D', '32-31-D', '33-31-D', '34-31-D', '35-30-D', '36-30-D', '37-31-R', '37-31-R', '39-31-D', '40-31-D', '41-31-D'],
    ['0-32-R', '0-32-R', '2-31-D', '3-31-D', '4-32-D', '5-32-D', '6-32-R', '6-32-R', '8-32-R', '8-32-R', '10-31-D', '11-32-R', '11-32-R', '13-32-R', '13-32-R', '15-32-D', '16-32-D', '17-32-D', '18-32-R', '18-32-R', '20-32-D', '21-32-D', '22-32-R', '22-32-R', '24-31-D', '25-31-D', '26-32-D', '27-32-D', '28-31-D', '29-31-D', '30-32-D', '31-31-D', '32-31-D', '33-31-D', '34-31-D', '35-32-R', '35-32-R', '37-32-R', '37-32-R', '39-31-D', '40-31-D', '41-31-D'],
    ['0-33-R', '0-33-R', '2-33-R', '2-33-R', '4-32-D', '5-32-D', '6-33-D', '7-33-R', '7-33-R', '9-33-D', '10-33-R', '10-33-R', '12-33-R', '12-33-R', '14-33-D', '15-32-D', '16-32-D', '17-32-D', '18-33-D', '19-33-D', '20-32-D', '21-32-D', '22-33-D', '23-33-R', '23-33-R', '25-33-D', '26-32-D', '27-32-D', '28-33-R', '28-33-R', '30-32-D', '31-33-D', '32-33-R', '32-33-R', '34-33-D', '35-33-R', '35-33-R', '37-33-D', '38-33-D', '39-33-D', '40-33-R', '40-33-R'],
    ['0-34-R', '0-34-R', '2-34-R', '2-34-R', '4-34-R', '4-34-R', '6-33-D', '7-34-R', '7-34-R', '9-33-D', '10-34-D', '11-34-D', '12-34-D', '13-34-D', '14-33-D', '15-34-R', '15-34-R', '17-34-D', '18-33-D', '19-33-D', '20-34-D', '21-34-D', '22-33-D', '23-34-R', '23-34-R', '25-33-D', '26-34-R', '26-34-R', '28-34-R', '28-34-R', '30-34-D', '31-33-D', '32-34-D', '33-34-D', '34-33-D', '35-34-R', '35-34-R', '37-33-D', '38-33-D', '39-33-D', '40-34-D', '41-34-D'],
    ['0-35-D', '1-35-D', '2-35-D', '3-35-D', '4-35-R', '4-35-R', '6-35-R', '6-35-R', '8-35-R', '8-35-R', '10-34-D', '11-34-D', '12-34-D', '13-34-D', '14-35-D', '15-35-D', '16-35-D', '17-34-D', '18-35-R', '18-35-R', '20-34-D', '21-34-D', '22-35-D', '23-35-R', '23-35-R', '25-35-R', '25-35-R', '27-35-D', '28-35-R', '28-35-R', '30-34-D', '31-35-D', '32-34-D', '33-34-D', '34-35-D', '35-35-D', '36-35-R', '36-35-R', '38-35-R', '38-35-R', '40-34-D', '41-34-D'],
    ['0-35-D', '1-35-D', '2-35-D', '3-35-D', '4-36-D', '5-36-D', '6-36-D', '7-36-R', '7-36-R', '9-36-D', '10-36-R', '10-36-R', '12-36-D', '13-36-D', '14-35-D', '15-35-D', '16-35-D', '17-36-D', '18-36-D', '19-36-D', '20-36-D', '21-36-D', '22-35-D', '23-36-R', '23-36-R', '25-36-R', '25-36-R', '27-35-D', '28-36-D', '29-36-D', '30-36-D', '31-35-D', '32-36-R', '32-36-R', '34-35-D', '35-35-D', '36-36-D', '37-36-D', '38-36-D', '39-36-R', '39-36-R', '41-36-D'],
    ['0-37-D', '1-37-R', '1-37-R', '3-37-D', '4-36-D', '5-36-D', '6-36-D', '7-37-R', '7-37-R', '9-36-D', '10-37-R', '10-37-R', '12-36-D', '13-36-D', '14-37-R', '14-37-R', '16-37-D', '17-36-D', '18-36-D', '19-36-D', '20-36-D', '21-36-D', '22-37-R', '22-37-R', '24-37-R', '24-37-R', '26-37-R', '26-37-R', '28-36-D', '29-36-D', '30-36-D', '31-37-D', '32-37-D', '33-37-D', '34-37-D', '35-37-D', '36-36-D', '37-36-D', '38-36-D', '39-37-R', '39-37-R', '41-36-D'],
    ['0-37-D', '1-38-R', '1-38-R', '3-37-D', '4-38-R', '4-38-R', '6-38-R', '6-38-R', '8-38-R', '8-38-R', '10-38-R', '10-38-R', '12-38-D', '13-38-R', '13-38-R', '15-38-D', '16-37-D', '17-38-R', '17-38-R', '19-38-R', '19-38-R', '21-38-R', '21-38-R', '23-38-D', '24-38-D', '25-38-R', '25-38-R', '27-38-D', '28-38-R', '28-38-R', '30-38-D', '31-37-D', '32-37-D', '33-37-D', '34-37-D', '35-37-D', '36-38-R', '36-38-R', '38-38-D', '39-38-D', '40-38-R', '40-38-R'],
    ['0-39-D', '1-39-D', '2-39-R', '2-39-R', '4-39-D', '5-39-R', '5-39-R', '7-39-R', '7-39-R', '9-39-D', '10-39-R', '10-39-R', '12-38-D', '13-39-R', '13-39-R', '15-38-D', '16-39-R', '16-39-R', '18-39-D', '19-39-R', '19-39-R', '21-39-R', '21-39-R', '23-38-D', '24-38-D', '25-39-D', '26-39-D', '27-38-D', '28-39-R', '28-39-R', '30-38-D', '31-39-D', '32-39-D', '33-39-D', '34-39-D', '35-39-D', '36-39-D', '37-39-D', '38-38-D', '39-38-D', '40-39-D', '41-39-D'],
    ['0-39-D', '1-39-D', '2-40-R', '2-40-R', '4-39-D', '5-40-R', '5-40-R', '7-40-R', '7-40-R', '9-39-D', '10-40-R', '10-40-R', '12-40-R', '12-40-R', '14-40-R', '14-40-R', '16-40-R', '16-40-R', '18-39-D', '19-40-R', '19-40-R', '21-40-R', '21-40-R', '23-40-R', '23-40-R', '25-39-D', '26-39-D', '27-40-R', '27-40-R', '29-40-R', '29-40-R', '31-39-D', '32-39-D', '33-39-D', '34-39-D', '35-39-D', '36-39-D', '37-39-D', '38-40-R', '38-40-R', '40-39-D', '41-39-D']
  ])
  ground_assignment = {get_pos(x=x, y=y): ground[y][x] for x in range(ground.shape[1]) for y in range(ground.shape[0])}
  assert set(solution.keys()) == set(ground_assignment.keys()), f'solution keys != ground assignment keys, {set(solution.keys())} != {set(ground_assignment.keys())}'
  for pos in solution.keys():
    assert solution[pos] == ground_assignment[pos], f'solution[{pos}] != ground assignment[{pos}], {solution[pos]} != {ground_assignment[pos]}'


if __name__ == '__main__':
  test_ground()
  test_ground2()
