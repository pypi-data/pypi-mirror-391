Metadata-Version: 2.4
Name: torna-mcp
Version: 1.0.2
Summary: ä¸€ä¸ªç”¨äºä¸ Torna æ¥å£æ–‡æ¡£ç®¡ç†å¹³å°äº¤äº’çš„ MCPï¼ˆæ¨¡å‹ä¸Šä¸‹æ–‡åè®®ï¼‰æœåŠ¡å™¨
Author-email: é˜¿æ‹‰ä¸ç¥ç¯ <li7hai26@gmail.com>
License: MIT
Project-URL: Homepage, https://github.com/li7hai26/torna-mcp
Project-URL: Bug Reports, https://github.com/li7hai26/torna-mcp/issues
Project-URL: Source, https://github.com/li7hai26/torna-mcp
Keywords: mcp,torna,api-documentation,claude,llm
Classifier: Development Status :: 5 - Production/Stable
Classifier: Intended Audience :: Developers
Classifier: License :: OSI Approved :: MIT License
Classifier: Operating System :: OS Independent
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.8
Classifier: Programming Language :: Python :: 3.9
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: Programming Language :: Python :: 3.12
Requires-Python: >=3.8
Description-Content-Type: text/markdown
License-File: LICENSE
Requires-Dist: httpx>=0.25.0
Requires-Dist: pydantic>=2.0.0
Requires-Dist: fastmcp>=0.3.0
Dynamic: license-file

# Torna MCP Server

[![PyPI](https://img.shields.io/pypi/v/torna-mcp)](https://pypi.org/project/torna-mcp/)
[![Python](https://img.shields.io/pypi/pyversions/torna-mcp)](https://pypi.org/project/torna-mcp/)
[![License](https://img.shields.io/pypi/l/torna-mcp)](https://github.com/li7hai26/torna-mcp/blob/main/LICENSE)
[![GitHub](https://img.shields.io/github/stars/li7hai26/torna-mcp)](https://github.com/li7hai26/torna-mcp)

ä¸€ä¸ªç”¨äºä¸ Torna æ¥å£æ–‡æ¡£ç®¡ç†å¹³å°äº¤äº’çš„ MCPï¼ˆæ¨¡å‹ä¸Šä¸‹æ–‡åè®®ï¼‰æœåŠ¡å™¨ã€‚è¯¥æœåŠ¡å™¨æä¾›äº†16ä¸ªå·¥å…·ï¼Œå…è®¸ LLM é€šè¿‡æ ‡å‡†åŒ–çš„æ¥å£æ¥ç®¡ç† Torna ä¸­çš„æ–‡æ¡£ã€å­—å…¸å’Œæ¨¡å—ã€‚

## ğŸ‰ å‘å¸ƒçŠ¶æ€

**é¡¹ç›®å·²æˆåŠŸå‘å¸ƒåˆ°PyPIï¼**  
- **åŒ…å**: `torna-mcp`  
- **ç‰ˆæœ¬**: `1.0.0`  
- **PyPIé¡µé¢**: https://pypi.org/project/torna-mcp/  
- **è®¸å¯è¯**: MIT  
- **Pythonæ”¯æŒ**: >=3.8

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å®‰è£…

#### æ–¹æ³•1ï¼šé€šè¿‡PyPIå®‰è£…ï¼ˆæ¨èï¼‰

```bash
# ä½¿ç”¨ pip
pip install toma-mcp

# æˆ–ä½¿ç”¨ uvï¼ˆæ¨èï¼‰
uv pip install toma-mcp
```

#### æ–¹æ³•2ï¼šä»æºç å®‰è£…

```bash
git clone https://github.com/li7hai26/torna-mcp.git
cd torna-mcp
pip install -e .
# æˆ–ä½¿ç”¨ uv
uv pip install -e .
```

### é…ç½®ç¯å¢ƒå˜é‡

```bash
# è®¾ç½®TornaæœåŠ¡å™¨åœ°å€
export TORNA_URL="https://your-torna-instance.com"

# è®¾ç½®è®¿é—®ä»¤ç‰Œï¼ˆå¤šä¸ªä»¤ç‰Œç”¨é€—å·åˆ†éš”ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨é€‰æ‹©ç¬¬ä¸€ä¸ªï¼‰
export TORNA_TOKENS="token1,token2,token3"
```

**æ³¨æ„ï¼š** å¦‚æœæ‚¨ä½¿ç”¨çš„æ˜¯Giteeï¼Œå¯ä»¥ä½¿ç”¨ç¯å¢ƒå˜é‡æ–‡ä»¶ï¼š

```bash
cp .env.example .env
# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œè®¾ç½®æ‚¨çš„TORNA_URLå’ŒTORNA_TOKENS
```

### ğŸ” æ™ºèƒ½Tokené€‰æ‹©æœºåˆ¶

æœ¬ç³»ç»Ÿæ”¯æŒæ™ºèƒ½Tokené€‰æ‹©ï¼Œæ‚¨æ— éœ€åœ¨æ¯ä¸ªå·¥å…·ä¸­æ‰‹åŠ¨æŒ‡å®štokenï¼š

1. **è‡ªåŠ¨é€‰æ‹©**ï¼šå¦‚æœæ²¡æœ‰æä¾› `access_token` å‚æ•°ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨ä½¿ç”¨ `TORNA_TOKENS` ç¯å¢ƒå˜é‡ä¸­çš„ç¬¬ä¸€ä¸ªtoken
2. **æ‰‹åŠ¨è¦†ç›–**ï¼šæ‚¨ä»å¯ä»¥åœ¨ç‰¹å®šå·¥å…·ä¸­æä¾› `access_token` å‚æ•°æ¥è¦†ç›–é»˜è®¤é€‰æ‹©
3. **å¤štokenæ”¯æŒ**ï¼šå¦‚æœæ‚¨æœ‰å¤šä¸ªæ¨¡å—çš„tokenï¼Œå¯ä»¥è®¾ç½®å¤šä¸ªï¼Œç³»ç»Ÿä¼šä½¿ç”¨ç¬¬ä¸€ä¸ªä½œä¸ºé»˜è®¤

**ç¤ºä¾‹ï¼š**
```python
# ä½¿ç”¨é»˜è®¤tokenï¼ˆä»ç¯å¢ƒå˜é‡è‡ªåŠ¨é€‰æ‹©ï¼‰
{
  "name": "ç”¨æˆ·ç™»å½•",
  "description": "ç”¨æˆ·ç™»å½•æ¥å£"
  # æ— éœ€æä¾› access_token
}

# æ‰‹åŠ¨æŒ‡å®šç‰¹å®štoken
{
  "name": "å•†å“ç®¡ç†",
  "description": "å•†å“ç®¡ç†æ¥å£",
  "access_token": "specific_token_for_product_module"
}
```

### å¯åŠ¨MCPæœåŠ¡å™¨

```bash
torna-mcp
```

å¯åŠ¨åï¼ŒæœåŠ¡å™¨å°†åœ¨æ ‡å‡†è¾“å‡ºæ˜¾ç¤ºè¿æ¥ä¿¡æ¯ï¼Œæ‚¨å¯ä»¥å°†å…¶é…ç½®åˆ°MCPå®¢æˆ·ç«¯ä¸­ä½¿ç”¨ã€‚

## ğŸ“š åŠŸèƒ½ç‰¹æ€§

### æ–‡æ¡£ API (6ä¸ªå·¥å…·)
- **æ¨é€æ–‡æ¡£** (`torna_push_document`) - å‘ Torna æ¨é€ API æ–‡æ¡£
- **åˆ›å»ºåˆ†ç±»** (`torna_create_category`) - åˆ›å»ºæ–‡æ¡£åˆ†ç±»/æ–‡ä»¶å¤¹  
- **æ›´æ–°åˆ†ç±»åç§°** (`torna_update_category_name`) - æ›´æ–°ç°æœ‰åˆ†ç±»åç§°
- **åˆ—å‡ºæ–‡æ¡£** (`torna_list_documents`) - è·å–åº”ç”¨æ–‡æ¡£åˆ—è¡¨
- **è·å–æ–‡æ¡£è¯¦æƒ…** (`torna_get_document_detail`) - è·å–å•ä¸ªæ–‡æ¡£è¯¦ç»†ä¿¡æ¯
- **æ‰¹é‡è·å–æ–‡æ¡£è¯¦æƒ…** (`torna_get_document_details_batch`) - æ‰¹é‡è·å–å¤šä¸ªæ–‡æ¡£è¯¦ç»†ä¿¡æ¯

### å­—å…¸ API (5ä¸ªå·¥å…·)
- **åˆ›å»ºå­—å…¸** (`torna_create_dictionary`) - åˆ›å»ºæ–°çš„æšä¸¾å­—å…¸
- **æ›´æ–°å­—å…¸** (`torna_update_dictionary`) - æ›´æ–°ç°æœ‰å­—å…¸ä¿¡æ¯
- **åˆ—å‡ºå­—å…¸** (`torna_list_dictionaries`) - è·å–å­—å…¸åˆ—è¡¨
- **è·å–å­—å…¸è¯¦æƒ…** (`torna_get_dictionary_detail`) - è·å–å­—å…¸è¯¦ç»†ä¿¡æ¯
- **åˆ é™¤å­—å…¸** (`torna_delete_dictionary`) - åˆ é™¤å­—å…¸ï¼ˆç ´åæ€§æ“ä½œï¼‰

### æ¨¡å— API (5ä¸ªå·¥å…·)
- **åˆ›å»ºæ¨¡å—** (`torna_create_module`) - åˆ›å»ºæ–°çš„æ¨¡å—
- **æ›´æ–°æ¨¡å—** (`torna_update_module`) - æ›´æ–°ç°æœ‰æ¨¡å—ä¿¡æ¯
- **åˆ—å‡ºæ¨¡å—** (`torna_list_modules`) - è·å–æ¨¡å—åˆ—è¡¨
- **è·å–æ¨¡å—è¯¦æƒ…** (`torna_get_module_detail`) - è·å–æ¨¡å—è¯¦ç»†ä¿¡æ¯
- **åˆ é™¤æ¨¡å—** (`torna_delete_module`) - åˆ é™¤æ¨¡å—ï¼ˆç ´åæ€§æ“ä½œï¼‰

## ğŸ› ï¸ MCPå®¢æˆ·ç«¯é…ç½®

### Cursor
1. æ‰“å¼€Cursorè®¾ç½®
2. æ‰¾åˆ°MCP Serversé…ç½®
3. æ·»åŠ æ–°æœåŠ¡å™¨ï¼š
```json
{
  "mcpServers": {
    "torna-mcp": {
      "command": "torna-mcp",
      "env": {
        "TORNA_URL": "https://your-torna-instance.com",
        "TORNA_TOKENS": "your-tokens-here"
      }
    }
  }
}
```

### Claude Desktop
1. ç¼–è¾‘Claudeé…ç½®æ–‡ä»¶
2. æ·»åŠ MCPæœåŠ¡å™¨é…ç½®ï¼š
```json
{
  "mcpServers": {
    "torna-mcp": {
      "command": "torna-mcp"
    }
  }
}
```
3. é‡å¯Claude Desktop

### IFlow CLI
```bash
# æ·»åŠ åˆ°MCPé…ç½®
iflow mcp add toma-mcp
```

è¯¦ç»†çš„å®¢æˆ·ç«¯é…ç½®è¯´æ˜è¯·å‚è§ [MCP_CLIENTS.md](./MCP_CLIENTS.md)

## ğŸ“ ä½¿ç”¨ç¤ºä¾‹

### åˆ›å»ºæ–‡æ¡£åˆ†ç±»
```
å·¥å…·: torna_create_category
å‚æ•°:
{
  "name": "ç”¨æˆ·ç®¡ç†",
  "description": "ç”¨æˆ·ç›¸å…³çš„APIæ¥å£"
  // access_tokenä¼šè‡ªåŠ¨ä»ç¯å¢ƒå˜é‡é€‰æ‹©
}
```

### æ¨é€ API æ–‡æ¡£
```
å·¥å…·: torna_push_document
å‚æ•°:
{
  "name": "ç”¨æˆ·ç™»å½•",
  "description": "ç”¨æˆ·ç™»å½•æ¥å£",
  "url": "/api/auth/login",
  "http_method": "POST",
  "content_type": "application/json",
  "request_params": [
    {
      "name": "username",
      "type": "string",
      "description": "ç”¨æˆ·å",
      "required": true,
      "example": "john_doe"
    },
    {
      "name": "password", 
      "type": "string",
      "description": "å¯†ç ",
      "required": true,
      "example": "123456"
    }
  ],
  "response_params": [
    {
      "name": "token",
      "type": "string",
      "description": "è®¿é—®ä»¤ç‰Œ"
    },
    {
      "name": "userId",
      "type": "string", 
      "description": "ç”¨æˆ·ID"
    }
  ]
  // access_tokenä¼šè‡ªåŠ¨ä»ç¯å¢ƒå˜é‡é€‰æ‹©
}
```

### åˆ—å‡ºæ‰€æœ‰æ–‡æ¡£
```
å·¥å…·: torna_list_documents
å‚æ•°:
{
  "limit": 20,
  "offset": 0
  // access_tokenä¼šè‡ªåŠ¨ä»ç¯å¢ƒå˜é‡é€‰æ‹©
}
```

### ä½¿ç”¨ç‰¹å®šTokenï¼ˆè¦†ç›–é»˜è®¤é€‰æ‹©ï¼‰
```
å·¥å…·: toma_push_document
å‚æ•°:
{
  "name": "å•†å“ç®¡ç†",
  "description": "å•†å“ç®¡ç†æ¥å£",
  "url": "/api/products",
  "http_method": "GET",
  "access_token": "specific_product_token"  // æ‰‹åŠ¨æŒ‡å®šç‰¹å®štoken
}
```

## ğŸ”§ ç³»ç»Ÿè¦æ±‚

### ç¯å¢ƒè¦æ±‚
- **Python**: 3.8 æˆ–æ›´é«˜ç‰ˆæœ¬
- **Torna**: ç§æœ‰åŒ–éƒ¨ç½²ç‰ˆæœ¬
- **MCPå®¢æˆ·ç«¯**: Cursorã€Claude Desktopã€VS Codeç­‰

### å®‰è£…Pythonç¯å¢ƒ
- **pip** (æ ‡å‡†Pythonå®‰è£…)
- **uv** (æ¨è - æ›´å¿«æ›´ç°ä»£çš„åŒ…ç®¡ç†å™¨)
  ```bash
  # å®‰è£…uv
  curl -LsSf https://astral.sh/uv/install.sh | sh
  ```

## ğŸ“– è¯¦ç»†æ–‡æ¡£

- **[å¿«é€Ÿå¼€å§‹](./QUICKSTART.md)** - è¯¦ç»†çš„å¿«é€Ÿå…¥é—¨æŒ‡å—
- **[å®‰è£…æŒ‡å—](./INSTALL.md)** - å¤šç§å®‰è£…æ–¹æ³•
- **[MCPå®¢æˆ·ç«¯é…ç½®](./MCP_CLIENTS.md)** - å„ç§MCPå®¢æˆ·ç«¯çš„é…ç½®æ–¹æ³•
- **[éƒ¨ç½²æŒ‡å—](./DEPLOYMENT.md)** - ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²è¯´æ˜

## ğŸ› é—®é¢˜åé¦ˆ

å¦‚æœæ‚¨åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜ï¼Œè¯·ï¼š

1. æŸ¥çœ‹ [GitHub Issues](https://github.com/li7hai26/torna-mcp/issues)
2. åœ¨PyPIé¡µé¢æäº¤åé¦ˆ
3. å‘é€é‚®ä»¶è‡³: li7hai26@gmail.com

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ï¼Œè¯¦æƒ…è¯·å‚è§ [LICENSE](./LICENSE) æ–‡ä»¶ã€‚

## ğŸ‘¨â€ğŸ’» å¼€å‘è€…

- **ä½œè€…**: é˜¿æ‹‰ä¸ç¥ç¯
- **é‚®ç®±**: li7hai26@gmail.com
- **GitHub**: [@li7hai26](https://github.com/li7hai26)

---

**ğŸ”— ç›¸å…³é“¾æ¥**
- [PyPIåŒ…](https://pypi.org/project/torna-mcp/)
- [GitHubä»“åº“](https://github.com/li7hai26/torna-mcp)
- [Tornaé¡¹ç›®](https://gitee.com/dromara/Torna)
