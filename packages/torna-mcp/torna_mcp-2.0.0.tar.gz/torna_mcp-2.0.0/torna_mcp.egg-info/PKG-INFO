Metadata-Version: 2.4
Name: torna-mcp
Version: 2.0.0
Summary: ä¸€ä¸ªç”¨äºä¸ Torna æ¥å£æ–‡æ¡£ç®¡ç†å¹³å°äº¤äº’çš„ MCPï¼ˆæ¨¡å‹ä¸Šä¸‹æ–‡åè®®ï¼‰æœåŠ¡å™¨
Author-email: é˜¿æ‹‰ä¸ç¥ç¯ <li7hai26@gmail.com>
License: MIT
Project-URL: Homepage, https://github.com/li7hai26/torna-mcp
Project-URL: Bug Reports, https://github.com/li7hai26/torna-mcp/issues
Project-URL: Source, https://github.com/li7hai26/torna-mcp
Keywords: mcp,torna,api-documentation,claude,llm
Classifier: Development Status :: 5 - Production/Stable
Classifier: Intended Audience :: Developers
Classifier: License :: OSI Approved :: MIT License
Classifier: Operating System :: OS Independent
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.8
Classifier: Programming Language :: Python :: 3.9
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: Programming Language :: Python :: 3.12
Requires-Python: >=3.8
Description-Content-Type: text/markdown
License-File: LICENSE
Requires-Dist: httpx>=0.25.0
Requires-Dist: pydantic>=2.0.0
Requires-Dist: fastmcp>=0.3.0
Dynamic: license-file

# Torna MCP Server

[![PyPI](https://img.shields.io/pypi/v/torna-mcp)](https://pypi.org/project/torna-mcp/)
[![Python](https://img.shields.io/pypi/pyversions/torna-mcp)](https://pypi.org/project/torna-mcp/)
[![License](https://img.shields.io/pypi/l/torna-mcp)](https://github.com/li7hai26/torna-mcp/blob/main/LICENSE)
[![GitHub](https://img.shields.io/github/stars/li7hai26/torna-mcp)](https://github.com/li7hai26/torna-mcp)

ä¸€ä¸ªç”¨äºä¸ Torna æ¥å£æ–‡æ¡£ç®¡ç†å¹³å°äº¤äº’çš„ MCPï¼ˆæ¨¡å‹ä¸Šä¸‹æ–‡åè®®ï¼‰æœåŠ¡å™¨ã€‚è¯¥æœåŠ¡å™¨åŸºäºçœŸå®çš„ Torna OpenAPI è§„èŒƒï¼Œæä¾›äº†2ä¸ªæ ¸å¿ƒå·¥å…·ï¼Œå…è®¸ LLM é€šè¿‡æ ‡å‡†åŒ–çš„æ¥å£æ¥ç®¡ç† Torna ä¸­çš„ API æ–‡æ¡£ã€‚

**åŸºäºçœŸå® Torna API è§„èŒƒ**: http://localhost:7700/api

## ğŸ‰ å‘å¸ƒçŠ¶æ€

**é¡¹ç›®å·²æˆåŠŸå‘å¸ƒåˆ°PyPIï¼**  
- **åŒ…å**: `torna-mcp`  
- **ç‰ˆæœ¬**: `1.0.0`  
- **PyPIé¡µé¢**: https://pypi.org/project/torna-mcp/  
- **è®¸å¯è¯**: MIT  
- **Pythonæ”¯æŒ**: >=3.8

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å®‰è£…

#### æ–¹æ³•1ï¼šé€šè¿‡PyPIå®‰è£…ï¼ˆæ¨èï¼‰

```bash
# ä½¿ç”¨ pip
pip install toma-mcp

# æˆ–ä½¿ç”¨ uvï¼ˆæ¨èï¼‰
uv pip install toma-mcp
```

#### æ–¹æ³•2ï¼šä»æºç å®‰è£…

```bash
git clone https://github.com/li7hai26/torna-mcp.git
cd torna-mcp
pip install -e .
# æˆ–ä½¿ç”¨ uv
uv pip install -e .
```

### é…ç½®ç¯å¢ƒå˜é‡

```bash
# è®¾ç½®TornaæœåŠ¡å™¨åœ°å€
export TORNA_URL="http://localhost:7700/api"

# è®¾ç½®æ¨¡å—è®¿é—®ä»¤ç‰Œ
export TORNA_TOKEN="your-module-token-here"
```

**è·å–Tokenæ–¹æ³•:**
1. ç™»å½• Torna ç®¡ç†åå°
2. é€‰æ‹©é¡¹ç›®
3. é€‰æ‹©æ¨¡å—
4. ç‚¹å‡» OpenAPI æ ‡ç­¾
5. å¤åˆ¶ token

**ç¯å¢ƒå˜é‡æ–‡ä»¶:** å¦‚æœæ‚¨ä½¿ç”¨ç¯å¢ƒå˜é‡æ–‡ä»¶ï¼š

```bash
cp .env.example .env
# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œè®¾ç½®æ‚¨çš„ TORNA_URL å’Œ TORNA_TOKEN
```



### å¯åŠ¨MCPæœåŠ¡å™¨

```bash
torna-mcp
```

å¯åŠ¨åï¼ŒæœåŠ¡å™¨å°†åœ¨æ ‡å‡†è¾“å‡ºæ˜¾ç¤ºè¿æ¥ä¿¡æ¯ï¼Œæ‚¨å¯ä»¥å°†å…¶é…ç½®åˆ°MCPå®¢æˆ·ç«¯ä¸­ä½¿ç”¨ã€‚

## ğŸ“š åŠŸèƒ½ç‰¹æ€§

### æ ¸å¿ƒ API æ¥å£ (2ä¸ªå·¥å…·)

åŸºäºçœŸå®çš„ Torna OpenAPI è§„èŒƒå®ç°ï¼š

- **æ¨é€æ–‡æ¡£** (`torna_push_document`) - å‘ Torna æ¨é€ API æ–‡æ¡£
  - æ”¯æŒåˆ›å»ºåˆ†ç±»/æ–‡ä»¶å¤¹
  - æ”¯æŒè¯·æ±‚/å“åº”å‚æ•°å®šä¹‰
  - æ”¯æŒé”™è¯¯ç é…ç½®
  - æ”¯æŒè°ƒè¯•ç¯å¢ƒè®¾ç½®

- **è·å–æ–‡æ¡£** (`torna_get_document`) - è·å–å•ä¸ªæ–‡æ¡£è¯¦ç»†ä¿¡æ¯
  - è·å–æ–‡æ¡£å®Œæ•´ä¿¡æ¯
  - åŒ…æ‹¬è¯·æ±‚/å“åº”å‚æ•°
  - åŒ…æ‹¬é”™è¯¯ç ä¿¡æ¯

**API è§„èŒƒ**: åŸºäº [Torna å®˜æ–¹ OpenAPI](https://torna.cn/dev/openapi.html) å®ç°

## ğŸ› ï¸ MCPå®¢æˆ·ç«¯é…ç½®

### Cursor
1. æ‰“å¼€Cursorè®¾ç½®
2. æ‰¾åˆ°MCP Serversé…ç½®
3. æ·»åŠ æ–°æœåŠ¡å™¨ï¼š
```json
{
  "mcpServers": {
    "torna-mcp": {
      "command": "torna-mcp",
      "env": {
        "TORNA_URL": "http://localhost:7700/api",
        "TORNA_TOKEN": "your-module-token-here"
      }
    }
  }
}
```

### Claude Desktop
1. ç¼–è¾‘Claudeé…ç½®æ–‡ä»¶
2. æ·»åŠ MCPæœåŠ¡å™¨é…ç½®ï¼š
```json
{
  "mcpServers": {
    "torna-mcp": {
      "command": "torna-mcp"
    }
  }
}
```
3. é‡å¯Claude Desktop

### IFlow CLI
```bash
# æ·»åŠ åˆ°MCPé…ç½®
iflow mcp add toma-mcp
```

è¯¦ç»†çš„å®¢æˆ·ç«¯é…ç½®è¯´æ˜è¯·å‚è§ [MCP_CLIENTS.md](./MCP_CLIENTS.md)

## ğŸ“ ä½¿ç”¨ç¤ºä¾‹

### æ¨é€ API æ–‡æ¡£
```
å·¥å…·: toma_push_document
å‚æ•°:
{
  "name": "ç”¨æˆ·ç™»å½•",
  "description": "ç”¨æˆ·ç™»å½•æ¥å£",
  "url": "/api/auth/login",
  "http_method": "POST",
  "content_type": "application/json",
  "request_params": [
    {
      "name": "username",
      "type": "string",
      "description": "ç”¨æˆ·å",
      "required": true,
      "example": "john_doe"
    },
    {
      "name": "password", 
      "type": "string",
      "description": "å¯†ç ",
      "required": true,
      "example": "123456"
    }
  ],
  "response_params": [
    {
      "name": "token",
      "type": "string",
      "description": "è®¿é—®ä»¤ç‰Œ"
    },
    {
      "name": "userId",
      "type": "string", 
      "description": "ç”¨æˆ·ID"
    }
  ],
  "author": "å¼ ä¸‰"
}
```

### è·å–æ–‡æ¡£è¯¦æƒ…
```
å·¥å…·: toma_get_document
å‚æ•°:
{
  "doc_id": "doc_123"
}
```

### åˆ›å»ºåˆ†ç±»ï¼ˆæ–‡ä»¶å¤¹ï¼‰
```
å·¥å…·: toma_push_document
å‚æ•°:
{
  "name": "ç”¨æˆ·ç®¡ç†",
  "description": "ç”¨æˆ·ç›¸å…³çš„APIæ¥å£",
  "url": "",
  "http_method": "GET",
  "is_folder": true
}
```

### å¸¦è°ƒè¯•ç¯å¢ƒçš„æ–‡æ¡£
```
å·¥å…·: toma_push_document
å‚æ•°:
{
  "name": "å•†å“æŸ¥è¯¢",
  "description": "æŸ¥è¯¢å•†å“ä¿¡æ¯",
  "url": "/api/products/{id}",
  "http_method": "GET",
  "content_type": "application/json",
  "path_params": [
    {
      "name": "id",
      "type": "int",
      "description": "å•†å“ID",
      "required": true,
      "example": "123"
    }
  ],
  "debug_env_name": "æµ‹è¯•ç¯å¢ƒ",
  "debug_env_url": "http://localhost:8080"
}
```

## ğŸ”§ ç³»ç»Ÿè¦æ±‚

### ç¯å¢ƒè¦æ±‚
- **Python**: 3.8 æˆ–æ›´é«˜ç‰ˆæœ¬
- **Torna**: ç§æœ‰åŒ–éƒ¨ç½²ç‰ˆæœ¬
- **MCPå®¢æˆ·ç«¯**: Cursorã€Claude Desktopã€VS Codeç­‰

### å®‰è£…Pythonç¯å¢ƒ
- **pip** (æ ‡å‡†Pythonå®‰è£…)
- **uv** (æ¨è - æ›´å¿«æ›´ç°ä»£çš„åŒ…ç®¡ç†å™¨)
  ```bash
  # å®‰è£…uv
  curl -LsSf https://astral.sh/uv/install.sh | sh
  ```

## ğŸ“– è¯¦ç»†æ–‡æ¡£

- **[å¿«é€Ÿå¼€å§‹](./QUICKSTART.md)** - è¯¦ç»†çš„å¿«é€Ÿå…¥é—¨æŒ‡å—
- **[å®‰è£…æŒ‡å—](./INSTALL.md)** - å¤šç§å®‰è£…æ–¹æ³•
- **[MCPå®¢æˆ·ç«¯é…ç½®](./MCP_CLIENTS.md)** - å„ç§MCPå®¢æˆ·ç«¯çš„é…ç½®æ–¹æ³•
- **[éƒ¨ç½²æŒ‡å—](./DEPLOYMENT.md)** - ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²è¯´æ˜

## ğŸ› é—®é¢˜åé¦ˆ

å¦‚æœæ‚¨åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜ï¼Œè¯·ï¼š

1. æŸ¥çœ‹ [GitHub Issues](https://github.com/li7hai26/torna-mcp/issues)
2. åœ¨PyPIé¡µé¢æäº¤åé¦ˆ
3. å‘é€é‚®ä»¶è‡³: li7hai26@gmail.com

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ï¼Œè¯¦æƒ…è¯·å‚è§ [LICENSE](./LICENSE) æ–‡ä»¶ã€‚

## ğŸ‘¨â€ğŸ’» å¼€å‘è€…

- **ä½œè€…**: é˜¿æ‹‰ä¸ç¥ç¯
- **é‚®ç®±**: li7hai26@gmail.com
- **GitHub**: [@li7hai26](https://github.com/li7hai26)

---

**ğŸ”— ç›¸å…³é“¾æ¥**
- [PyPIåŒ…](https://pypi.org/project/torna-mcp/)
- [GitHubä»“åº“](https://github.com/li7hai26/torna-mcp)
- [Tornaé¡¹ç›®](https://gitee.com/dromara/Torna)
