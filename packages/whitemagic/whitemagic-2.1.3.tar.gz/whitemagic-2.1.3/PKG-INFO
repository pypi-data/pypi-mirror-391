Metadata-Version: 2.4
Name: whitemagic
Version: 2.1.3
Summary: Tiered memory management system for AI agents with native MCP support
Author: WhiteMagic Contributors
License: MIT
Project-URL: Homepage, https://github.com/lbailey94/whitemagic
Project-URL: Documentation, https://github.com/lbailey94/whitemagic#readme
Project-URL: Repository, https://github.com/lbailey94/whitemagic
Project-URL: Bug Tracker, https://github.com/lbailey94/whitemagic/issues
Keywords: memory,ai,mcp,context,llm,agents
Classifier: Development Status :: 4 - Beta
Classifier: Intended Audience :: Developers
Classifier: License :: OSI Approved :: MIT License
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: Programming Language :: Python :: 3.12
Classifier: Topic :: Software Development :: Libraries :: Python Modules
Classifier: Topic :: Scientific/Engineering :: Artificial Intelligence
Requires-Python: >=3.10
Description-Content-Type: text/markdown
License-File: LICENSE
Requires-Dist: pydantic>=2.0.0
Provides-Extra: dev
Requires-Dist: pytest>=7.0.0; extra == "dev"
Requires-Dist: pytest-asyncio>=0.21.0; extra == "dev"
Requires-Dist: pytest-cov>=4.1.0; extra == "dev"
Requires-Dist: black>=23.0.0; extra == "dev"
Requires-Dist: mypy>=1.0.0; extra == "dev"
Requires-Dist: ruff>=0.1.6; extra == "dev"
Requires-Dist: openai>=1.0.0; extra == "dev"
Provides-Extra: api
Requires-Dist: fastapi>=0.104.0; extra == "api"
Requires-Dist: uvicorn[standard]>=0.24.0; extra == "api"
Requires-Dist: python-multipart>=0.0.6; extra == "api"
Requires-Dist: numpy>=1.24.0; extra == "api"
Requires-Dist: sqlalchemy>=2.0.0; extra == "api"
Requires-Dist: aiosqlite>=0.19.0; extra == "api"
Requires-Dist: asyncpg>=0.29.0; extra == "api"
Requires-Dist: alembic>=1.13.0; extra == "api"
Requires-Dist: redis>=5.0.0; extra == "api"
Requires-Dist: httpx>=0.25.0; extra == "api"
Requires-Dist: python-json-logger>=2.0.7; extra == "api"
Requires-Dist: pyyaml>=6.0.0; extra == "api"
Provides-Extra: embeddings
Requires-Dist: openai>=1.0.0; extra == "embeddings"
Requires-Dist: pgvector>=0.2.0; extra == "embeddings"
Requires-Dist: numpy>=1.24.0; extra == "embeddings"
Requires-Dist: scipy>=1.10.0; extra == "embeddings"
Dynamic: license-file

# WhiteMagic üß†‚ú®

**Tiered Memory Management for AI Agents with Native MCP + REST Support**

[![Version](https://img.shields.io/badge/version-2.1.3-blue.svg)](https://github.com/lbailey94/whitemagic/releases)
[![npm](https://img.shields.io/badge/npm-2.1.3-red.svg)](https://www.npmjs.com/package/whitemagic-mcp)
[![Python](https://img.shields.io/badge/python-3.10%2B-blue.svg)](https://www.python.org/)
[![License](https://img.shields.io/badge/license-MIT-green.svg)](LICENSE)
[![Tests](https://img.shields.io/badge/tests-223%20passing-brightgreen.svg)](#testing)
[![Grade](https://img.shields.io/badge/grade-A%2B%20(99%2F100)-success.svg)](docs/reviews/v2.1.3/PRODUCTION_TEST_RESULTS.md)

[![CodeQL](https://github.com/lbailey94/whitemagic/workflows/CodeQL%20Security%20Scan/badge.svg)](https://github.com/lbailey94/whitemagic/actions/workflows/codeql.yml)
[![Docker Security](https://github.com/lbailey94/whitemagic/workflows/Docker%20Security%20Scan/badge.svg)](https://github.com/lbailey94/whitemagic/actions/workflows/docker-security.yml)
[![Security Policy](https://img.shields.io/badge/security-policy-blue.svg)](SECURITY.md)
[![Dependabot](https://img.shields.io/badge/dependabot-enabled-success.svg)](https://github.com/lbailey94/whitemagic/network/updates)

WhiteMagic ships a production-ready memory OS for AI agents: a Python SDK + CLI, FastAPI backend with Whop-based auth/monetization, and native MCP integration for Cursor/Windsurf/Claude.

## ‚ú® Features

- **Tiered Memory**: Short-term, long-term, and archive storage
- **MCP Integration**: 7 tools + 4 resources for Cursor/Windsurf/Claude
- **Smart Search**: Full-text search with tag filtering
- **Context Generation**: 3-tier context system
- **Type-Safe**: 100% type hints with Pydantic V2
- **CLI + API**: Command-line and Python library
- **Automated Tests**: 223 passing tests (196 Python + 27 MCP)
- **Production Grade**: A+ (99/100) - All security vulnerabilities patched

## üöÄ Quick Start

### Install MCP Server (Published!)
```bash
# Install from npm
npm install -g whitemagic-mcp

# Package: https://www.npmjs.com/package/whitemagic-mcp
```

### Local Development
```bash
# Clone and install
git clone https://github.com/lbailey94/whitemagic.git
cd whitemagic
pip install -e ".[api,dev]"

# Or install the SDK directly
pip install whitemagic==2.1.3

# Quick smoke test
python -c "from whitemagic import MemoryManager; print('Ready:', MemoryManager().metadata['version'])"
```

### Run the full stack locally

```bash
docker compose up -d
# API:       http://localhost:8000
# Dashboard: http://localhost:3000
# Caddy:     http://localhost (reverse proxy for dashboard + API)
```

### Recommended production hosting

- **Frontend (dashboard + landing)**: Deploy the `dashboard/` directory to Vercel (static build). Set `NEXT_PUBLIC_API_URL` (or `meta[name="whitemagic-api-base"]`) to your Railway API URL.
- **Backend (API + Postgres + Redis)**: Deploy `compose.yaml` services to Railway‚Äîone service for FastAPI, managed Postgres + Redis, and Caddy if you want TLS out of the box.  
Follow the step-by-step instructions in [`NEXT_STEPS.md`](NEXT_STEPS.md) and [`DEPLOYMENT_GUIDE.md`](DEPLOYMENT_GUIDE.md).

## üì¶ MCP Server (Windsurf/Cursor)

```bash
cd whitemagic-mcp && npm install && npm run build
```

Add to `~/.codeium/windsurf/mcp_config.json`:
```json
{
  "mcpServers": {
    "whitemagic": {
      "command": "node",
      "args": ["/path/to/whitemagic-mcp/dist/index.js"],
      "env": {"WM_BASE_PATH": "/path/to/whitemagic"}
    }
  }
}
```

## üìö Documentation

**New here?** Start with [DOCUMENTATION_MAP.md](DOCUMENTATION_MAP.md) - your navigation guide

### Core Docs
- [docs/INDEX.md](docs/INDEX.md) - Complete documentation index
- [INSTALL.md](INSTALL.md) - Installation guide
- [whitemagic-mcp/README.md](whitemagic-mcp/README.md) - MCP setup for Cursor/Windsurf/Claude
- [ROADMAP.md](ROADMAP.md) - Development roadmap

### Deployment
- [NEXT_STEPS.md](NEXT_STEPS.md) - One-day launch checklist (npm + MCP registry + Vercel/Railway) ‚≠ê
- [DEPLOYMENT_GUIDE.md](DEPLOYMENT_GUIDE.md) - Comprehensive production deployment
- [DEPLOY_NOW.md](DEPLOY_NOW.md) - Quick 45-minute deploy

### Reference
- [TEST_COVERAGE_SUMMARY.md](TEST_COVERAGE_SUMMARY.md) - 65+ tests, 85% coverage
- [COMPREHENSIVE_REVIEW_ASSESSMENT.md](COMPREHENSIVE_REVIEW_ASSESSMENT.md) - Latest project review
- [docs/production/OPTIONAL_INTEGRATIONS.md](docs/production/OPTIONAL_INTEGRATIONS.md) - Optional add-ons (Sentry, metrics)
- [requirements-plugins.txt](requirements-plugins.txt) - Install optional integrations

## üß™ Testing

**223 automated tests (196 Python + 27 MCP)** - See [TEST_COVERAGE_SUMMARY.md](TEST_COVERAGE_SUMMARY.md)

```bash
# Python tests (install with extras first)
pip install -e ".[api,dev]"  # dev extra now pulls in openai for semantic-search tests
python3 -m pytest tests -v

# MCP tests (25+ tests)
cd whitemagic-mcp && npm test

# With coverage
python3 -m pytest --cov=whitemagic --cov-report=html
```

## üîå Optional Integrations

Need Sentry, Prometheus instrumentation, or JWT tooling? Install the plugin extras the moment you need them:

```bash
pip install -r requirements-plugins.txt
```

Then follow the relevant instructions in `docs/production/OPTIONAL_INTEGRATIONS.md`.

**Configurable API base:** set `window.WHITEMAGIC_API_BASE` (or the `<meta name="whitemagic-api-base">` tag) before loading `dashboard/app.js` to point the dashboard at a different backend (staging, preview, etc.).

## üõ°Ô∏è Guardrails

Security checks run locally and in CI to prevent regressions (e.g., wildcard CORS defaults). You can run them manually:

```bash
# No wildcard CORS regressions
python scripts/check_security_guards.py
# Dependency manifest sanity
python scripts/check_dependencies.py
# or via pre-commit
pre-commit run security-guards
pre-commit run dependency-guards
```

- **Rate limiting** requires Redis. Leave `REDIS_URL` unset in development to disable limits; set it (e.g., Railway Redis) before production so quotas actually apply.
- The terminal execution API is **disabled by default**. Only set `WM_ENABLE_EXEC_API=true` after you deploy it behind strong isolation/monitoring‚Äîit shells into your host.

## üìä Stats

- **2,300+** lines Python
- **770+** lines TypeScript  
- **40+** automated tests (CLI + API + integrations)
- **Minimal deps**: FastAPI, SQLAlchemy, Pydantic, Redis, httpx

## üó∫Ô∏è Roadmap

- ‚úÖ Phase 1A: Python API
- ‚úÖ Phase 1B: MCP Integration
- ‚úÖ Phase 2A: Whop + REST API
- üìÖ Phase 2B: Semantic search
- üìÖ Phase 3: Extensions

## üìÑ License

MIT - See [LICENSE](LICENSE)

## üîó Links

- Issues: https://github.com/lbailey94/whitemagic/issues
- Discussions: https://github.com/lbailey94/whitemagic/discussions
