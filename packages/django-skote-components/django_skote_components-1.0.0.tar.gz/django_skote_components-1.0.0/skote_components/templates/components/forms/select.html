<div class="mb-3">
    {% if label %}
    <label for="{{ name }}" class="form-label">
        {{ label }}
        {% if required %}<span class="text-danger">*</span>{% endif %}
    </label>
    {% endif %}

    {% if field %}
    <select class="form-select {{ select_class }}{% if field.errors %} is-invalid{% endif %}"
            id="{{ field.id_for_label }}"
            name="{{ name }}"
            {% if required %}required{% endif %}>
        <option value="">-- Select --</option>
        {% for value, text in choices %}
        <option value="{{ value }}" {% if value == selected %}selected{% endif %}>{{ text }}</option>
        {% endfor %}
    </select>
    {% if field.errors %}
    <div class="invalid-feedback">
        {% for error in field.errors %}{{ error }}{% endfor %}
    </div>
    {% endif %}
    {% if field.help_text %}
    <div class="form-text">{{ field.help_text }}</div>
    {% endif %}
    {% else %}
    <select class="form-select {{ select_class }}"
            id="{{ name }}"
            name="{{ name }}"
            {% if required %}required{% endif %}>
        <option value="">-- Select --</option>
        {% for value, text in choices %}
        <option value="{{ value }}" {% if value == selected %}selected{% endif %}>{{ text }}</option>
        {% endfor %}
    </select>
    {% if help_text %}
    <div class="form-text">{{ help_text }}</div>
    {% endif %}
    {% endif %}
</div>
