<div class="mb-3">
    {% if label %}
    <label class="form-label">{{ label }}</label>
    {% endif %}

    {% for value, text in choices %}
    <div class="form-check{% if inline %} form-check-inline{% endif %}">
        {% if field %}
        <input class="form-check-input{% if field.errors %} is-invalid{% endif %}"
               type="radio"
               name="{{ name }}"
               id="{{ name }}_{{ forloop.counter }}"
               value="{{ value }}"
               {% if value == selected %}checked{% endif %}>
        <label class="form-check-label" for="{{ name }}_{{ forloop.counter }}">
            {{ text }}
        </label>
        {% else %}
        <input class="form-check-input"
               type="radio"
               name="{{ name }}"
               id="{{ name }}_{{ forloop.counter }}"
               value="{{ value }}"
               {% if value == selected %}checked{% endif %}>
        <label class="form-check-label" for="{{ name }}_{{ forloop.counter }}">
            {{ text }}
        </label>
        {% endif %}
    </div>
    {% endfor %}

    {% if field %}
    {% if field.errors %}
    <div class="invalid-feedback d-block">
        {% for error in field.errors %}{{ error }}{% endfor %}
    </div>
    {% endif %}
    {% if field.help_text %}
    <div class="form-text">{{ field.help_text }}</div>
    {% endif %}
    {% else %}
    {% if help_text %}
    <div class="form-text">{{ help_text }}</div>
    {% endif %}
    {% endif %}
</div>
