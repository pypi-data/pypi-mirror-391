"use strict";(self.webpackChunkjupyterlab_makefile_file_type_extension=self.webpackChunkjupyterlab_makefile_file_type_extension||[]).push([[207],{207:(e,t,a)=>{a.r(t),a.d(t,{default:()=>o,makefileIcon:()=>f});var n=a(337),i=a(694),l=a(84);const s={name:"makefile",startState:()=>({parenDepth:0,lastLineStart:-1,lastLineText:"",lineTokens:[]}),token:(e,t)=>{const a=e.peek(),n=e.pos,i=e.string||"",l=e.lineStart||0;l!==t.lastLineStart&&(t.parenDepth=0,t.lastLineStart=l,t.lastLineText=i,t.lineTokens=[]);let s=null;if("#"===a)e.skipToEnd(),s="comment";else if(e.sol()&&e.match(/^\t@[a-zA-Z_][a-zA-Z0-9_-]*/,!1))e.match(/^\t/),e.match(/^@/),e.match(/^[a-zA-Z_][a-zA-Z0-9_-]*/),s="builtin";else if(e.sol()&&e.match(/^\.[A-Z_]+/,!1))e.match(/^\.[A-Z_]+/),s="builtin";else if(e.sol()&&e.match(/^(ifeq|ifneq|ifdef|ifndef|else|endif)\b/,!1))e.match(/^(ifeq|ifneq|ifdef|ifndef|else|endif)\b/),s="builtin";else if(e.sol()&&e.match(/^[A-Z_][A-Z0-9_]*/,!1))e.match(/^[A-Z_][A-Z0-9_]*/)&&e.match(/\s*[:?+]?=/,!1)?(e.match(/\s*[:?+]?=/),s="variableName.definition strong"):s=null;else if(e.sol()&&e.match(/^[a-zA-Z0-9_\-\.]+:/,!1))s=e.match(/^[a-zA-Z0-9_\-\.]+/)?"keyword.control strong":null;else if(e.sol()||!i.match(/^[a-zA-Z0-9_\-\.]+:/)||"#"===a||e.eol())if(e.match(/[:?+]?=/))s="operator";else if(e.match(/:/))s="operator";else if("$"===a&&e.match(/\$\$\(\(/,!1))e.next(),e.next(),e.next(),e.next(),t.parenDepth+=2,s="property";else if("$"===a&&e.match(/\$\$\(/,!1))e.next(),e.next(),e.next(),t.parenDepth++,s="property";else if("$"===a&&e.match(/\$\(/,!1))e.next(),e.next(),t.parenDepth++,s="property";else if("$"===a&&e.match(/\$\$[a-zA-Z_][a-zA-Z0-9_]*/,!1))e.match(/\$\$[a-zA-Z_][a-zA-Z0-9_]*/),s="property";else if("("===a&&t.parenDepth>0)t.parenDepth++,e.next(),s=null;else if(")"===a&&t.parenDepth>0)t.parenDepth--,e.next(),s="property";else if(t.parenDepth>0)if('"'===a){for(e.next();!e.eol();){const t=e.next();if('"'===t)break;if("\\"===t){if(e.eol()){e.backUp(1);break}e.next()}}s="property"}else if("'"===a){for(e.next();!e.eol();){const t=e.next();if("'"===t)break;if("\\"===t){if(e.eol()){e.backUp(1);break}e.next()}}s="property"}else e.next(),s="property";else if('"'===a){for(e.next();!e.eol();){const t=e.next();if('"'===t)break;if("\\"===t){if(e.eol()){e.backUp(1);break}e.next()}}s="string"}else if("'"===a){for(e.next();!e.eol();){const t=e.next();if("'"===t)break;if("\\"===t){if(e.eol()){e.backUp(1);break}e.next()}}s="string"}else"\\"===a?(e.next(),s=e.eol()?"builtin":null):(e.next(),s=null);else{const t=i.indexOf(":");t>=0&&n>t?"#"===a?s=null:(e.next(),s="processingInstruction"):(e.next(),s=null)}const f=e.pos,o={start:n,end:f,text:i.slice(n,f),type:s};return t.lineTokens.push(o),e.eol()&&(t.lineTokens=[]),s}},f=new i.LabIcon({name:"makefile:icon",svgstr:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n  <text x="12" y="18" font-size="20" font-weight="900" text-anchor="middle" fill="#d84a4a" font-family="Arial, sans-serif">M</text>\n</svg>'}),o={id:"jupyterlab_makefile_file_type_extension:plugin",description:"Jupyterlab extension to add handling of Makefiles and syntax colouring support",autoStart:!0,requires:[n.IEditorLanguageRegistry],activate:(e,t)=>{console.log("[jupyterlab_makefile_file_type_extension v1.0.31-debug] Extension activated!"),t.addLanguage({name:"makefile",displayName:"Makefile",mime:"text/x-makefile",extensions:[".mk",".mak",".make",".makefile"],filename:/^(Makefile|makefile|GNUmakefile|makefile\..*|.*\.(mk|mak|make|makefile))$/,support:new l.LanguageSupport(l.StreamLanguage.define(s))}),e.docRegistry.addFileType({name:"makefile",displayName:"Makefile",mimeTypes:["text/x-makefile"],extensions:[".mk",".mak",".make",".makefile"],pattern:"^(Makefile|makefile|GNUmakefile|makefile\\..*|.*\\.(mk|mak|make|makefile))$",fileFormat:"text",contentType:"file",icon:f})}}}}]);