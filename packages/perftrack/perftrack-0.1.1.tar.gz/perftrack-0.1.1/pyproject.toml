[build-system]
build-backend = "setuptools.build_meta"
requires = [ "setuptools>=77.0.3" ]

[project]
name = "perftrack"
description = "Lightweight CLI tool to detect performance regressions by comparing local benchmark snapshots."
readme = "README.md"
keywords = [ "benchmark", "cli", "performance", "regression" ]
license = "MIT"
license-files = [ "LICENSE" ]
authors = [
  { name = "Pravin", email = "p-r-a-v-i-n@users.noreply.github.com" },
]
requires-python = ">=3.9"
classifiers = [
  "Intended Audience :: Developers",
  "Operating System :: OS Independent",
  "Programming Language :: Python :: 3 :: Only",
  "Programming Language :: Python :: 3.9",
  "Programming Language :: Python :: 3.10",
  "Programming Language :: Python :: 3.11",
  "Programming Language :: Python :: 3.12",
  "Programming Language :: Python :: 3.13",
  "Programming Language :: Python :: 3.14",
]
dynamic = [ "version" ]

dependencies = [
  "psutil>=7.1.3,<8",
]

optional-dependencies.dev = [
  "pre-commit",
  "pytest",
  "pytest-cov",
  "ruff",
]
urls.Homepage = "https://github.com/p-r-a-v-i-n/perftrack"
urls.Issues = "https://github.com/p-r-a-v-i-n/perftrack/issues"
scripts.perftrack = "perftrack.cli:main"

[tool.setuptools]

[tool.setuptools.dynamic]
version = { attr = "perftrack.__version__" }

[tool.setuptools.packages.find]
include = [ "perftrack*" ]

[tool.ruff]
target-version = "py39"
line-length = 88
exclude = [
  ".env",
  ".git",
  ".venv",
  "__pycache__",
  "build",
  "dist",
  "env",
  "venv",
]

format.indent-style = "space"
format.quote-style = "double"
format.docstring-code-format = true
lint.select = [ "D", "E", "F", "I", "N", "W" ]
lint.ignore = [
  "D100",
  "D104",
  "D107",
]
lint.pydocstyle.convention = "pep257"

[tool.pyproject-fmt]
max_supported_python = "3.14"

[tool.pytest.ini_options]
testpaths = [ "tests" ]
addopts = "--cov=perftrack --cov-report=term-missing"
