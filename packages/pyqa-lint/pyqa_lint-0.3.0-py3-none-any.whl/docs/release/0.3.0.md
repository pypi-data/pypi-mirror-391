<!-- SPDX-License-Identifier: MIT -->

<!-- Copyright (c) 2025 Blackcat Informatics® Inc. -->

# PyQA 0.3.0 – Provenance + Distribution Rename

## Highlights

* Renamed the published distribution from `py_qa` to `pyqa_lint` to avoid the
  existing namespace collision on PyPI. The import namespace remains `pyqa`, so
  existing code can continue to `import pyqa` after installing the new package.
* Added `--explain-tools-json` to the CLI so explain mode can emit structured
  JSON (or `stdout`) for machine consumption and tests now verify the structured
  output.
* spaCy’s `en_core_web_sm` model is no longer bundled as an unconditional
  dependency. Instead, PyQA automatically downloads the model at runtime (using
  `uv`/`python -m spacy download`) and emits a prominent warning whenever the
  model is missing or the download fails. This allows fresh clones and CI jobs
  to succeed without pre-install steps while still making failures obvious.

## Supply Chain & Release Pipeline

* Added `.github/workflows/release.yml`, which builds the sdist/wheel with `uv`,
  generates a GitHub attestation (`actions/attest-build-provenance@v1`), and
  publishes to PyPI using OIDC attestations via
  `pypa/gh-action-pypi-publish@release/v1`. Create a `v0.3.0` tag (and future
  `v*` tags) to trigger the release workflow.
* The workflow expects a `PYPI_API_TOKEN` repository secret with publishing
  rights to `pyqa_lint`.

## Migration Notes

* Update consumer documentation to install the renamed package:

  ```bash
  pip install pyqa_lint
  ```

* No namespace changes are required—users still `import pyqa` and the CLI entry
  point remains `pyqa`.

* If you previously installed `pyqa_lint` with `pip install pyqa_lint[spacy]`
  (or manually added the model wheel), you can now rely on PyQA to download
  `en_core_web_sm` the first time `pyqa` runs. Should the automated download
  fail, follow the warning instructions and run:

  ```bash
  uv run python -m spacy download en_core_web_sm
  ```
