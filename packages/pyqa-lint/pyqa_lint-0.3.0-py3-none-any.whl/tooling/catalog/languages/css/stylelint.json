{
  "schemaVersion": "1.0.0",
  "name": "stylelint",
  "description": "CSS and preprocessor linting via stylelint.",
  "extends": ["npm_runtime"],
  "languages": ["css"],
  "phase": "lint",
  "automatically_fix": true,
  "fileExtensions": [".css", ".scss", ".sass", ".less"],
  "runtime": {
    "type": "npm",
    "package": "stylelint",
    "versionCommand": ["stylelint", "--version"]
  },
  "options": [
    {
      "name": "args",
      "type": "list[str]",
      "description": "Additional arguments appended to the stylelint command."
    },
    {
      "name": "config",
      "type": "path",
      "description": "Custom stylelint configuration file path."
    },
    {
      "name": "ignore-path",
      "type": "path",
      "description": "Path to stylelint ignore file."
    },
    {
      "name": "custom-syntax",
      "type": "str",
      "description": "Custom syntax module passed to --custom-syntax."
    },
    {
      "name": "allow-empty-input",
      "type": "bool",
      "description": "Allow empty input without treating it as an error."
    },
    {
      "name": "disable-default-ignores",
      "type": "bool",
      "description": "Disable the built-in ignore patterns."
    },
    {
      "name": "quiet",
      "type": "bool",
      "description": "Suppress non-error output."
    },
    {
      "name": "max-warnings",
      "type": "int",
      "description": "Maximum warnings allowed before stylelint exits non-zero."
    }
  ],
  "actions": [
    {
      "name": "lint",
      "command": {
        "strategy": "command_option_map",
        "config": {
          "base": ["stylelint", "--formatter", "json"],
          "options": [
            { "setting": "config", "type": "path", "flag": "--config" },
            { "setting": "ignore-path", "type": "path", "flag": "--ignore-path" },
            { "setting": "custom-syntax", "type": "value", "flag": "--custom-syntax" },
            { "setting": "allow-empty-input", "type": "flag", "flag": "--allow-empty-input" },
            {
              "setting": "disable-default-ignores",
              "type": "flag",
              "flag": "--disable-default-ignores"
            },
            { "setting": "quiet", "type": "flag", "flag": "--quiet" },
            {
              "setting": "max-warnings",
              "type": "value",
              "flag": "--max-warnings",
              "defaultFrom": "severity.max_warnings"
            },
            { "setting": "args", "type": "args" }
          ]
        }
      },
      "parser": {
        "strategy": "parser_json",
        "config": {
          "transform": "pyqa.parsers.javascript.parse_stylelint"
        }
      }
    },
    {
      "name": "fix",
      "isFix": true,
      "command": {
        "strategy": "command_option_map",
        "config": {
          "base": ["stylelint", "--fix"],
          "options": [
            { "setting": "config", "type": "path", "flag": "--config" },
            { "setting": "ignore-path", "type": "path", "flag": "--ignore-path" },
            { "setting": "custom-syntax", "type": "value", "flag": "--custom-syntax" },
            { "setting": "allow-empty-input", "type": "flag", "flag": "--allow-empty-input" },
            {
              "setting": "disable-default-ignores",
              "type": "flag",
              "flag": "--disable-default-ignores"
            },
            { "setting": "quiet", "type": "flag", "flag": "--quiet" },
            {
              "setting": "max-warnings",
              "type": "value",
              "flag": "--max-warnings",
              "defaultFrom": "severity.max_warnings"
            },
            { "setting": "args", "type": "args" }
          ]
        }
      }
    }
  ],
  "documentation": {
    "help": {
      "path": "docs/stylelint_help.txt",
      "format": "text"
    },
    "commandHelp": {
      "path": "docs/stylelint_cmd_help.txt",
      "format": "text"
    }
  }
}
