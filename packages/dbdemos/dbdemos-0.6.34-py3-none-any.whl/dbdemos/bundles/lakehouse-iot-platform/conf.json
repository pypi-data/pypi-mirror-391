{"name": "lakehouse-iot-platform", "category": "lakehouse", "serverless_supported": true, "custom_schema_supported": true, "default_schema": "dbdemos_iot_platform", "default_catalog": "main", "title": "Data Intelligence Platform for IoT & Prescriptive Maintenance", "description": "Detect faulty wind turbine and generate work orders: Ingestion (SDP), BI, Predictive Maintenance (ML), Prescriptive Maintenance (GenAI), Governance (UC), Orchestration", "fullDescription": "The Databricks Data Intelligence Platform allows your entire organization to use data and AI. It\u2019s built on a lakehouse to provide an open, unified foundation for all data and governance, and is powered by a Data Intelligence Engine that understands the uniqueness of your data. In this demo, we'll show you how to build an IOT platform for prescriptive maintenance, ingesting sensor data from our wind turbine farm in realtime. We'll be able to deliver data and insights that would typically take months of effort on legacy platforms. <br/><br/>This demo covers the end to end data intelligence platform: <ul><li>Ingest data from external systems in streaming (sensors/ERP and then transform it using Spark Declarative Pipelines (SDP), a declarative ETL framework for building reliable, maintainable, and testable data processing pipelines. </li><li>Secure your ingested data to ensure governance and security</li><li>Leverage Databricks SQL and the warehouse endpoints to build dashboards to analyze the ingested data and our wind farm productivity</li><li>Build a Machine Learning model with Databricks AutoML to detect faulty wind turbines and trigger predictive maintenance operations</li><li Build an AI agent with the Mosaic AI Agent Framework to generate prescriptive work orders for wind turbines detected to be faulty</li><li>Orchestrate all these steps with Databricks Workflow</li></ul>", "usecase": "Data Intelligence Platform", "products": ["Spark Declarative Pipelines", "Databricks SQL", "MLFLow", "Auto ML", "Unity Catalog", "Spark"], "related_links": [{"title": "View all Product demos", "url": "<TBD: LINK TO A FILTER WITH ALL DBDEMOS CONTENT>"}, {"title": "Databricks for Manufacturing", "url": "https://www.databricks.com/solutions/industries/manufacturing-industry-solutions"}], "recommended_items": ["lakehouse-fsi-credit", "lakehouse-fsi-fraud", "lakehouse-retail-c360"], "demo_assets": [{"title": "Spark Declarative Pipelines pipeline", "url": "https://www.dbdemos.ai/assets/img/dbdemos/lakehouse-iot-platform-dlt-0.png"}, {"title": "Databricks SQL Dashboard: Wind Turbine predictive Maintenance", "url": "https://www.dbdemos.ai/assets/img/dbdemos/lakehouse-iot-platform-dashboard-0.png"}, {"title": "Databricks SQL Dashboard: Turbine Analysis", "url": "https://www.dbdemos.ai/assets/img/dbdemos/lakehouse-iot-platform-dashboard-1.png"}], "bundle": true, "tags": [{"dlt": "Spark Declarative Pipelines"}, {"ds": "Data Science"}, {"uc": "Unity Catalog"}, {"dbsql": "BI/DW/DBSQL"}], "notebooks": [{"path": "_resources/00-setup", "pre_run": false, "publish_on_website": false, "add_cluster_setup_cell": false, "title": "Dbsql data", "description": "Prep data for dbsql dashboard.", "object_type": "NOTEBOOK"}, {"path": "_resources/01-load-data", "pre_run": false, "publish_on_website": false, "add_cluster_setup_cell": false, "title": "Load raw data", "description": "Load raw data in dbfs.", "object_type": "NOTEBOOK"}, {"path": "config", "pre_run": false, "publish_on_website": false, "add_cluster_setup_cell": false, "title": "Configuration file", "description": "Define the database and volume folder.", "object_type": "NOTEBOOK"}, {"path": "00-IOT-wind-turbine-introduction-DI-platform", "pre_run": false, "publish_on_website": true, "add_cluster_setup_cell": false, "title": "Data Intelligence Platform - IOT Platform introduction", "description": "Start here to explore the Data Intelligence Platform.", "object_type": "NOTEBOOK"}, {"path": "01-Data-ingestion/01.1-SDP-SQL/01.1-SDP-Wind-Turbine-SQL", "pre_run": false, "publish_on_website": true, "add_cluster_setup_cell": false, "title": "SDP SQL - Main notebook", "description": "SQL SDP pipeline to ingest data & build clean tables.", "object_type": "NOTEBOOK"}, {"path": "01-Data-ingestion/01.1-SDP-SQL/explorations/sample_exploration", "pre_run": false, "publish_on_website": true, "add_cluster_setup_cell": false, "title": "SDP SQL - Sample exploration", "description": "Sample exploration notebook for SQL pipeline.", "object_type": "NOTEBOOK"}, {"path": "01-Data-ingestion/01.1-SDP-SQL/transformations/01-bronze.sql", "pre_run": false, "publish_on_website": true, "add_cluster_setup_cell": false, "title": "SDP SQL - Bronze transformations", "description": "Bronze layer transformations.", "object_type": "FILE"}, {"path": "01-Data-ingestion/01.1-SDP-SQL/transformations/02-silver.sql", "pre_run": false, "publish_on_website": true, "add_cluster_setup_cell": false, "title": "SDP SQL - Silver transformations", "description": "Silver layer transformations.", "object_type": "FILE"}, {"path": "01-Data-ingestion/01.1-SDP-SQL/transformations/03-gold.sql", "pre_run": false, "publish_on_website": true, "add_cluster_setup_cell": false, "title": "SDP SQL - Gold transformations", "description": "Gold layer transformations.", "object_type": "FILE"}, {"path": "01-Data-ingestion/01.1-SDP-SQL/transformations/04-Wind-Turbine-UDF.py", "pre_run": false, "publish_on_website": true, "add_cluster_setup_cell": false, "title": "SDP SQL - UDF", "description": "Wind turbine UDF for predictions.", "object_type": "FILE"}, {"path": "01-Data-ingestion/01.2-SDP-python/01.1-SDP-Wind-Turbine-Python", "pre_run": false, "publish_on_website": true, "add_cluster_setup_cell": false, "title": "SDP Python - Main notebook", "description": "Python SDP pipeline to ingest data & build clean tables.", "object_type": "NOTEBOOK"}, {"path": "01-Data-ingestion/01.2-SDP-python/explorations/sample_exploration", "pre_run": false, "publish_on_website": true, "add_cluster_setup_cell": false, "title": "SDP Python - Sample exploration", "description": "Sample exploration notebook for Python pipeline.", "object_type": "NOTEBOOK"}, {"path": "01-Data-ingestion/01.2-SDP-python/transformations/01-bronze.py", "pre_run": false, "publish_on_website": true, "add_cluster_setup_cell": false, "title": "SDP Python - Bronze transformations", "description": "Bronze layer transformations.", "object_type": "FILE"}, {"path": "01-Data-ingestion/01.2-SDP-python/transformations/02-silver.py", "pre_run": false, "publish_on_website": true, "add_cluster_setup_cell": false, "title": "SDP Python - Silver transformations", "description": "Silver layer transformations.", "object_type": "FILE"}, {"path": "01-Data-ingestion/01.2-SDP-python/transformations/03-gold.py", "pre_run": false, "publish_on_website": true, "add_cluster_setup_cell": false, "title": "SDP Python - Gold transformations", "description": "Gold layer transformations.", "object_type": "FILE"}, {"path": "01-Data-ingestion/plain-spark-delta-pipeline/01.5-Delta-pipeline-spark-iot-turbine", "pre_run": true, "publish_on_website": true, "add_cluster_setup_cell": false, "title": "Alternative: Ingest data with Spark+Delta", "description": "Build a complete ingestion pipeline using spark API (alternative to SDP)"}, {"path": "02-Data-governance/02-UC-data-governance-security-iot-turbine", "pre_run": true, "publish_on_website": true, "add_cluster_setup_cell": true, "title": "Governance with Unity Catalog", "description": "Secure your tables, lineage, auditlog..."}, {"path": "03-BI-data-warehousing/03-BI-Datawarehousing-iot-turbine", "pre_run": false, "publish_on_website": true, "add_cluster_setup_cell": false, "title": "Datawarehousing & BI / Dashboarding", "description": "Run interactive queries on top of your data", "object_type": "NOTEBOOK"}, {"path": "04-Data-Science-ML/04.1-automl-iot-turbine-predictive-maintenance", "pre_run": true, "publish_on_website": true, "add_cluster_setup_cell": true, "title": "Build predictive maintenance model (AutoML)", "description": "Leverage Databricks AutoML to create a predictive maintenance model in a few clicks"}, {"path": "04-Data-Science-ML/04.2-automl-generated-notebook-iot-turbine", "pre_run": true, "publish_on_website": true, "add_cluster_setup_cell": true, "title": "Explore predictive maintenance generated model", "description": "Explore the best predictive maintenance model generated by AutoML and deploy it in production.", "parameters": {"shap_enabled": "false"}}, {"path": "04-Data-Science-ML/04.3-running-inference-iot-turbine", "pre_run": true, "publish_on_website": true, "add_cluster_setup_cell": true, "title": "Infer default probability in batch or realtime serverless", "description": "Once your model is deployed, run low latency inferences."}, {"path": "05-Generative-AI/05.1-ai-tools-iot-turbine-prescriptive-maintenance", "pre_run": false, "publish_on_website": true, "add_cluster_setup_cell": false, "title": "Build AI agent tools with UC functions", "description": "Use tools to enable the AI agent to perform actions besides language generation.", "object_type": "NOTEBOOK"}, {"path": "05-Generative-AI/05.2-agent-creation-guide", "pre_run": true, "publish_on_website": true, "add_cluster_setup_cell": false, "title": "Deploy your agents.", "description": "Use Databricks Playground to test and deploy your agent."}, {"path": "06-Workflow-orchestration/06-Workflow-orchestration-iot-turbine", "pre_run": false, "publish_on_website": true, "add_cluster_setup_cell": false, "title": "Orchestrate predictive maintenance with Workflow", "description": "Orchestrate all tasks in a job and schedule your data/model refresh", "object_type": "NOTEBOOK"}, {"path": "_resources/00-global-setup-v2", "title": "Global init", "description": "Global init", "pre_run": false, "publish_on_website": false, "add_cluster_setup_cell": false, "parameters": {}, "depends_on_previous": true, "libraries": [], "warehouse_id": null, "object_type": null}], "init_job": {"settings": {"name": "dbdemos_data_intelligence_platform_iot_turbine_init_{{CURRENT_USER_NAME}}", "email_notifications": {"no_alert_for_skipped_runs": false}, "timeout_seconds": 0, "max_concurrent_runs": 1, "tasks": [{"task_key": "init_data", "notebook_task": {"notebook_path": "{{DEMO_FOLDER}}/_resources/01-load-data", "source": "WORKSPACE"}, "job_cluster_key": "Shared_job_cluster", "timeout_seconds": 0, "email_notifications": {}}, {"task_key": "start_sdp_pipeline", "pipeline_task": {"pipeline_id": "{{DYNAMIC_SDP_ID_sdp-sql}}", "full_refresh": true}, "timeout_seconds": 0, "email_notifications": {}, "depends_on": [{"task_key": "init_data"}]}, {"task_key": "create_feature_and_automl_run", "notebook_task": {"notebook_path": "{{DEMO_FOLDER}}/04-Data-Science-ML/04.1-automl-iot-turbine-predictive-maintenance", "source": "WORKSPACE"}, "job_cluster_key": "Shared_job_cluster", "timeout_seconds": 0, "email_notifications": {}, "depends_on": [{"task_key": "start_sdp_pipeline"}]}, {"task_key": "deploy_best_model", "notebook_task": {"notebook_path": "{{DEMO_FOLDER}}/04-Data-Science-ML/04.2-automl-generated-notebook-iot-turbine", "source": "WORKSPACE"}, "job_cluster_key": "Shared_job_cluster", "timeout_seconds": 0, "email_notifications": {}, "depends_on": [{"task_key": "create_feature_and_automl_run"}]}, {"task_key": "deploy_endpoint", "notebook_task": {"notebook_path": "{{DEMO_FOLDER}}/04-Data-Science-ML/04.3-running-inference-iot-turbine", "source": "WORKSPACE"}, "job_cluster_key": "Shared_job_cluster", "timeout_seconds": 0, "email_notifications": {}, "depends_on": [{"task_key": "deploy_best_model"}]}], "job_clusters": [{"job_cluster_key": "Shared_job_cluster", "new_cluster": {"spark_version": "16.4.x-cpu-ml-scala2.12", "spark_conf": {"spark.master": "local[*, 4]", "spark.databricks.cluster.profile": "singleNode"}, "custom_tags": {"ResourceClass": "SingleNode"}, "spark_env_vars": {"PYSPARK_PYTHON": "/databricks/python3/bin/python3"}, "enable_elastic_disk": true, "data_security_mode": "SINGLE_USER", "runtime_engine": "STANDARD", "num_workers": 0}}], "format": "MULTI_TASK"}}, "cluster": {"spark_version": "16.4.x-cpu-ml-scala2.12", "spark_conf": {"spark.master": "local[*]", "spark.databricks.cluster.profile": "singleNode"}, "custom_tags": {"ResourceClass": "SingleNode"}, "single_user_name": "{{CURRENT_USER}}", "data_security_mode": "SINGLE_USER", "num_workers": 0}, "pipelines": [{"id": "sdp-sql", "run_after_creation": false, "definition": {"clusters": [{"label": "default", "autoscale": {"min_workers": 1, "max_workers": 2, "mode": "LEGACY"}}], "name": "dbdemos_sdp_iot_{{CATALOG}}_{{SCHEMA}}", "libraries": [{"glob": {"include": "{{DEMO_FOLDER}}/01-Data-ingestion/01.1-SDP-SQL/transformations/**"}}], "schema": "{{SCHEMA}}", "continuous": false, "development": true, "edition": "ADVANCED", "photon": false, "channel": "PREVIEW", "catalog": "{{CATALOG}}", "root_path": "{{DEMO_FOLDER}}/01-Data-ingestion/01.1-SDP-SQL", "environment": {"dependencies": ["mlflow==3.1.0"]}}}], "dashboards": [{"name": "[dbdemos] IOT - Turbine analysis", "id": "turbine-analysis"}, {"name": "[dbdemos] IOT - Wind Turbine predictive maintenance", "id": "turbine-predictive"}]}