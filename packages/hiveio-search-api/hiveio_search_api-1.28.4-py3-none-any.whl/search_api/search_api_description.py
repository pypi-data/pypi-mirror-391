# generated by datamodel-codegen:
#   filename:  openapi_flattened.json
#   timestamp: 2025-11-12T20:58:11+00:00

from __future__ import annotations

from typing import Any, Optional, Union

from msgspec import Struct, field

class Beneficiary(Struct):
    account: str
    weight: int

class Hive(Struct):
    close: Union[str, int]
    """
    The closing price of the asset.
    """
    high: Union[str, int]
    """
    The highest price of the asset.
    """
    low: Union[str, int]
    """
    The lowest price of the asset.
    """
    open: Union[str, int]
    """
    The opening price of the asset.
    """
    volume: Union[str, int]
    """
    The trading volume of the asset.
    """

class FindText(Struct):
    pattern: str
    """
    The search pattern to look for in posts.
    """
    sort: str
    """
    The sorting method for the results, e.g., "relevance", "trending", "created".
    """
    author: Optional[str] = None
    """
    Filter results by author name.
    """
    start_author: Optional[str] = None
    """
    The author to start from, used for pagination.
    """
    start_permlink: Optional[str] = None
    """
    The permlink to start from, used for pagination.
    """
    limit: Optional[int] = None
    """
    The maximum number of posts to return.
    """
    observer: Optional[str] = None
    """
    The observer account to use for the query.
    """
    truncate_body: Optional[int] = None
    """
    If greater than 0, truncates the body of the post to this length.
    """

class ActiveVote7(Struct):
    rshares: Union[str, int]
    """
    The number of rshares associated with the vote.
    """
    voter: str
    """
    The name of the voter.
    """

class Stats5(Struct):
    hide: bool
    """
    Indicates whether the post is hidden.
    """
    gray: bool
    """
    Indicates whether the post is grayed out.
    """
    total_votes: int
    """
    The total number of votes on the post.
    """
    flag_weight: float
    """
    The weight of the flag on the post.
    """
    muted_reasons: Optional[list[int]] = None
    """
    An array of reasons for muting the post, represented as integers.
    """
    is_pinned: Optional[bool] = None
    """
    Indicates whether the post is pinned.
    """

class PostBridgeApi(Struct):
    post_id: int
    """
    The unique identifier for the post.
    """
    author: str
    """
    The name of the account that created the post.
    """
    permlink: str
    """
    The permanent link to the post.
    """
    category: str
    """
    The category under which the post is classified.
    """
    title: str
    """
    The title of the post.
    """
    body: str
    """
    The body content of the post.
    """
    created: str
    """
    The date and time when the post was created.
    """
    updated: str
    """
    The date and time when the post was last updated.
    """
    depth: int
    """
    The depth of the post in the comment hierarchy.
    """
    children: int
    """
    The number of direct replies (children) to the post.
    """
    net_rshares: Union[str, int]
    """
    The net rshares (relative shares) of the post, indicating its popularity.
    """
    is_paidout: bool
    """
    Indicates whether the post has been paid out.
    """
    payout_at: str
    """
    The date and time when the payout for the post will occur.
    """
    replies: list[str]
    """
    An array of replies to the post.
    """
    reblogs: int
    """
    The number of times the post has been reblogged.
    """
    url: str
    """
    The URL of the post.
    """
    beneficiaries: list[list[Beneficiary]]
    """
    An array of beneficiary objects associated with the post.
    """
    max_accepted_payout: str
    """
    The maximum accepted payout for the post.
    """
    percent_hbd: int
    """
    The percentage of the payout that will be in HBD (Hive Backed Dollars).
    """
    json_metadata: dict[str, Any]
    """
    JSON metadata associated with the post, containing additional information like tags and application used.
    """
    stats: Stats5
    """
    Statistics object containing various metrics related to the post.
    """
    payout: float
    """
    The payout amount for the post, in HIVE.
    """
    author_reputation: float
    """
    The reputation score of the author, indicating their standing in the Hive community.
    """
    active_votes: list[ActiveVote7]
    """
    An array of active votes on the post, containing information about the voters and their vote weight.
    """
    blacklists: list[str]
    """
    An array of blacklists associated with the post, indicating accounts that have blacklisted it.
    """
    reblogged_by: Optional[list[str]] = None
    """
    An array of accounts that have reblogged the post.
    """
    community: Optional[str] = None
    """
    The community to which the post belongs, if applicable.
    """
    community_title: Optional[str] = None
    """
    The title of the community associated with the post.
    """
    author_title: Optional[str] = None
    """
    The title of the author, if applicable.
    """
    author_role: Optional[str] = None
    """
    The role of the author in the Hive ecosystem.
    """
    curator_payout_value: Optional[str] = None
    """
    The value of the curator payout for the post.
    """
    author_payout_value: Optional[str] = None
    """
    The value of the author payout for the post.
    """
    pending_payout_value: Optional[str] = None
    """
    The pending payout value for the post, which is the total payout that has not yet been processed.
    """
    parent_author: Optional[str] = None
    """
    The author of the parent post, if this post is a reply.
    """
    parent_permlink: Optional[str] = None
    """
    The permlink of the parent post, if this post is a reply.
    """

search_api_description = {
    "search-api": {
        "find_text": {"params": FindText, "result": PostBridgeApi, "description": "", "response_array": True}
    }
}
