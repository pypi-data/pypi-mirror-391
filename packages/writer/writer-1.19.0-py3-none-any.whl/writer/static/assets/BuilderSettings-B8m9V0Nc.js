function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["./BuilderTemplateEditor-DcLAkHG1.js","./index-DZ8PiSXb.js","./index-Bt4yHWqS.css","./useComponentDescription-Cg8w4dyb.js","./WdsDropdownMenu-Dc8UGklu.js","./WdsCheckbox-Df8SEZV9.js","./WdsCheckbox-DKvpPA4D.css","./WdsDropdownMenu-DdTGpUxu.css","./useKeyValueEditor-Bab29cUl.js","./useKeyValueEditor-CsemOh8D.css","./BuilderTemplateEditor-CYSDeWgV.css","./BuilderEmbeddedCodeEditor-CcK6bUxU.js","./BuilderEmbeddedCodeEditor-CXloIist.css","./BuilderGraphSelect-BJGU7UFw.js","./useListResources-BLctoWLd.js","./BuilderGraphSelect-D7B61d5s.css","./BuilderApplicationSelect-BdTr3JrG.js","./BuilderApplicationSelect-XaM1D5fv.css","./BuilderModelSelect-DF-gx_tL.js","./BuilderModelSelect-Dc4IPLp2.css","./BuilderSettingsArtifactAPITriggerDetails-BY7SoAK3.js","./BuilderSettingsArtifactAPITriggerDetails-DnX66iRg.css","./BuilderSettingsHandlers-D3wmSFRL.js","./BuilderApp-DPO1BUtK.js","./marked.esm-273vDTCT.js","./BuilderApp-z8ZY-cd4.css","./useBlueprintRun-BeqSKC4J.js","./BuilderSettingsHandlers-DJPeASfz.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{c as k,aV as Be,R as p,$ as Ze,aW as et,C as tt,d as D,i as R,a as W,r as X,o as s,b as $,au as nt,z as O,x,W as H,aq as le,y as N,ax as Ce,an as ie,ap as fe,aJ as M,at as se,f as w,D as L,g as C,S as E,E as ee,_ as U,ao as Y,Q as G,m as K,q as re,G as Ee,aX as Ke,K as je,s as ce,a6 as lt,aO as ot,w as ve,aY as at,a8 as Le,aP as it,L as oe,aZ as rt,a_ as st,J as Ne,A as ue,t as te,aC as J,a$ as ye,Z as ut,b0 as ke,a7 as me,a3 as Oe,l as we,aw as Q,v as he,b1 as Te,b2 as dt,b3 as Ve,b4 as P,b5 as ct,b6 as pt,b7 as vt,b8 as mt,aI as ze,F as z,a4 as Ye,u as qe,b9 as Ge,ba as Fe,aM as pe,aU as ft,bb as yt,bc as gt,bd as _t,a2 as bt}from"./index-DZ8PiSXb.js";import{u as Je}from"./useComponentDescription-Cg8w4dyb.js";import{a as Ie,W as ht}from"./WdsDropdownMenu-Dc8UGklu.js";import{W as Z,u as St}from"./useKeyValueEditor-Bab29cUl.js";import{W as He}from"./WdsCheckbox-Df8SEZV9.js";function*kt(e,r){const n=new Set;function*d(i){var l;if(n.has(i))return;n.add(i);const o=e.getComponentById(i);if(o)for(const g of e.getComponentsNested(o.parentId))(l=g.outs)!=null&&l.some(m=>m.toNodeId===i)&&(yield g,yield*d(g.id))}yield*d(r)}function It(e,r=void 0,n=Ze()){const d=k(()=>new Set(Be(e.userStateInitial.value))),i=k(()=>{try{return Et(e,d.value)}catch(g){return n.error("Cannot compute blueprintsSetStates",g),{}}}),o=k(()=>{try{return Ct(e,d.value)}catch(g){return n.error("Cannot compute bindings",g),{}}}),l=k(()=>{try{return Bt(e,p(r))}catch(g){return n.error("Cannot compute blueprintsResults",g),{}}});return{blueprintsSetStates:i,bindings:o,blueprintsResults:l}}function Bt(e,r,n=new Set){var i;const d={};for(const o of kt(e,r)){const l=o.type,g=e.getComponentDefinition(o.type);if(!g||!(o.type&&!et.has(l)&&o.type.startsWith("blueprints_")&&((i=g==null?void 0:g.outs)==null?void 0:i.success)!==void 0))continue;const c=`results.${o.id}`;c&&!n.has(c)&&(d[c]??(d[c]={components:[]}),d[c].components.push(o))}return d}function Ct(e,r=new Set){var d;const n={};for(const i of tt)for(const o of e.getComponentsNested(i)){const l=(d=o.binding)==null?void 0:d.stateRef;l&&!r.has(l)&&(n[l]??(n[l]={components:[]}),n[l].components.push(o))}return n}function Et(e,r=new Set){var i;function*n(){for(const o of e.getComponentsNested("blueprints_root"))o.type==="blueprints_setstate"&&o.content&&(yield o)}const d={};for(const o of n()){const l=(i=o.content)==null?void 0:i.element;!l||typeof l!="string"||r.has(l)||(d[l]??(d[l]={components:[]}),d[l].components.push(o))}return d}const xe=D({__name:"BuilderStateSelectorDropdownComponent",props:{componentId:{type:String,required:!0},path:{type:String,required:!0},selected:{type:Boolean,required:!1}},setup(e){const r=e,n=R(W.core),d=R(W.builderManager),i=X(!1),o=k(()=>n.getComponentById(r.componentId)),{name:l,possibleImageUrls:g,previewText:m}=Je(n,o),c=k(()=>({icon:g.value,label:r.path,detail:m.value||l.value,value:r.path})),{goToComponentParentPage:S}=Ce(n,d);async function b(){await S(r.componentId),d.setSelection(r.componentId)}return(u,v)=>(s(),$(Ie,{class:"BuilderStateSelectorDropdownItemComponent",option:c.value,selected:e.selected,"show-custom-action":"",onMousemove:v[1]||(v[1]=f=>i.value=!0),onMouseout:v[2]||(v[2]=f=>i.value=!1)},nt({_:2},[i.value?{name:"action",fn:O(()=>[x(H,{variant:"neutral",size:"smallIcon","data-writer-tooltip":"Jump to this block",onClick:le(b,["prevent"]),onMousemove:v[0]||(v[0]=f=>i.value=!0)},{default:O(()=>[x(N,{name:"square-dashed-mouse-pointer"})]),_:1})]),key:"0"}:void 0]),1032,["option","selected"]))}}),wt={class:"BuilderStateSelectorDropdown"},xt={key:1,class:"BuilderStateSelectorDropdown__empty"},$t={key:2,class:"BuilderStateSelectorDropdown__section"},Tt={key:3,class:"BuilderStateSelectorDropdown__section"},Vt={key:4,class:"BuilderStateSelectorDropdown__section"},Ft={key:5,class:"BuilderStateSelectorDropdown__section"},Ot={key:6,class:"BuilderStateSelectorDropdown__section"},qt=D({__name:"BuilderStateSelectorDropdown",props:ie({componentId:{type:String,required:!1,default:void 0},query:{type:String,required:!1,default:""},allowCreate:{type:Boolean,required:!1},hideSecrets:{type:Boolean,required:!1},hideBlueprintResults:{type:Boolean,required:!1}},{modelValue:{type:String},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const r=e,n=R(W.core),d=R(W.secretsManager),i=fe(e,"modelValue"),o=It(n,M(r,"componentId")),l=k(()=>{const f=[];for(const _ of Be(n.userStateInitial.value))r.query&&!_.includes(r.query)||f.push({value:_,label:_,icon:"code",iconBgColor:se.Green2});return f.sort((_,B)=>_.label.localeCompare(B.label))}),g=k(()=>{if(r.hideSecrets)return[];const f=[];for(const _ of Be(d.secrets.value)){const B=`vault.${_}`;r.query&&!B.includes(r.query)||f.push({value:`vault.${_}`,label:_,icon:"key-round",iconBgColor:se.Yellow2})}return f.sort((_,B)=>_.label.localeCompare(B.label))}),m=k(()=>b(o.bindings.value)),c=k(()=>b(o.blueprintsSetStates.value)),S=k(()=>r.hideBlueprintResults?[]:b(o.blueprintsResults.value));function b(f){return Object.entries(f).map(([_,{components:B}])=>{for(const q of B)if(q.id!==r.componentId)return{componentId:q.id,path:_}}).filter(_=>!(!_||r.query&&!_.path.includes(r.query)))}const u=k(()=>!r.allowCreate||!r.query||r.query.endsWith(".")?!1:!(l.value.some(_=>_.value===r.query)||g.value.some(_=>_.value===r.query)||S.value.some(_=>_.path===r.query)||m.value.some(_=>_.path===r.query))),v=k(()=>!!(l.value.length||c.value.length||m.value.length||S.value.length||g.value.length));return(f,_)=>(s(),w("div",wt,[u.value?(s(),w(L,{key:0},[_[1]||(_[1]=C("p",{class:"BuilderStateSelectorDropdown__section__title"}," Add new variable ",-1)),x(Ie,{option:{value:e.query,label:e.query,icon:"plus",iconBgColor:p(se).Blue4,iconColor:p(se).White},onClick:_[0]||(_[0]=le(B=>i.value=e.query,["stop"]))},null,8,["option"])],64)):v.value?E("",!0):(s(),w("div",xt," No result ")),c.value.length?(s(),w("div",$t,[_[2]||(_[2]=C("p",{class:"BuilderStateSelectorDropdown__section__title"}," Set states ",-1)),(s(!0),w(L,null,ee(c.value,B=>(s(),$(xe,{key:B.path,path:B.path,"component-id":B.componentId,selected:B.path===i.value,onClick:le(q=>i.value=B.path,["stop"])},null,8,["path","component-id","selected","onClick"]))),128))])):E("",!0),m.value.length?(s(),w("div",Tt,[_[3]||(_[3]=C("p",{class:"BuilderStateSelectorDropdown__section__title"}," Interface variables ",-1)),(s(!0),w(L,null,ee(m.value,B=>(s(),$(xe,{key:B.path,path:B.path,"component-id":B.componentId,selected:B.path===i.value,onClick:le(q=>i.value=B.path,["stop"])},null,8,["path","component-id","selected","onClick"]))),128))])):E("",!0),!e.hideBlueprintResults&&S.value.length?(s(),w("div",Vt,[_[4]||(_[4]=C("p",{class:"BuilderStateSelectorDropdown__section__title"}," block results ",-1)),(s(!0),w(L,null,ee(S.value,B=>(s(),$(xe,{key:B.path,path:B.path,"component-id":B.componentId,selected:B.path===i.value,onClick:le(q=>i.value=B.path,["stop"])},null,8,["path","component-id","selected","onClick"]))),128))])):E("",!0),!e.hideSecrets&&g.value.length?(s(),w("div",Ft,[_[5]||(_[5]=C("p",{class:"BuilderStateSelectorDropdown__section__title"},"Secrets",-1)),(s(!0),w(L,null,ee(g.value,B=>(s(),$(Ie,{key:B.value,option:B,selected:B.value===i.value,onClick:le(q=>i.value=B.value,["stop"])},null,8,["option","selected","onClick"]))),128))])):E("",!0),l.value.length?(s(),w("div",Ot,[_[6]||(_[6]=C("p",{class:"BuilderStateSelectorDropdown__section__title"}," main.py variables ",-1)),(s(!0),w(L,null,ee(l.value,B=>(s(),$(Ie,{key:B.value,option:B,selected:B.value===i.value,onClick:le(q=>i.value=B.value,["stop"])},null,8,["option","selected","onClick"]))),128))])):E("",!0)]))}}),Mt=U(qt,[["__scopeId","data-v-d28f7ad6"]]),At=D({__name:"BuilderTemplateInputTemplate",props:ie({leftIcon:{type:String,required:!1,default:void 0},rightIcon:{type:String,required:!1,default:void 0},invalid:{type:Boolean,required:!1},variant:{type:String,default:void 0},autofocus:{type:Boolean},multiline:{type:Boolean,required:!1}},{modelValue:{type:String},modelModifiers:{}}),emits:ie({rightIconClick:()=>!0,input:e=>!!e},["update:modelValue"]),setup(e,{expose:r,emit:n}){const d=Y({loader:()=>G(()=>import("./BuilderTemplateEditor-DcLAkHG1.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10]),import.meta.url)}),i=fe(e,"modelValue"),o=e,l=n;r({focus:u,getSelection:b,value:i,setSelectionEnd:S,setSelectionStart:c});const g=K("input");re(()=>{o.autofocus&&u()});async function m(v){i.value=v,l("input",{target:{value:v}})}function c(v){var f;(f=g.value)==null||f.setSelectionStart(v)}function S(v){var f;(f=g.value)==null||f.setSelectionEnd(v)}function b(){var v;return(v=g.value)==null?void 0:v.getSelection()}function u(){var v;(v=g.value)==null||v.focus()}return(v,f)=>(s(),$(Ke,{"left-icon":e.leftIcon,"right-icon":e.rightIcon,invalid:e.invalid,variant:e.variant,class:Ee(["BuilderTemplateInputTemplate",{"BuilderTemplateInputTemplate--singleline":!e.multiline,"BuilderTemplateInputTemplate--multiline":e.multiline}]),onRightIconClick:f[0]||(f[0]=_=>v.$emit("rightIconClick")),onClick:u},{default:O(()=>[x(p(d),{ref_key:"input",ref:g,class:"BuilderTemplateInputTemplate__input",multiline:e.multiline,"model-value":i.value,"onUpdate:modelValue":m},null,8,["multiline","model-value"])]),_:1},8,["left-icon","right-icon","invalid","variant","class"]))}}),Dt=U(At,[["__scopeId","data-v-2789dd2e"]]),Rt={class:"BuilderTemplateInputState__content"},Wt=D({__name:"BuilderTemplateInputState",props:ie({rightIcon:{type:String,required:!1,default:void 0}},{modelValue:{type:String},modelModifiers:{}}),emits:ie({rightIconClick:()=>!0},["update:modelValue"]),setup(e,{expose:r}){r({focus:u,setSelectionStart:c,setSelectionEnd:S,getSelection:b});const n=R(W.core),d=K("input"),i=fe(e,"modelValue"),o=X(!1),l=k(()=>!i.value&&!o.value),g=k(()=>new Set(Be(n.userStateInitial.value))),m=k(()=>({opacity:l.value?0:void 0,backgroundColor:g.value.has(i.value)?se.Green2:se.Gray1}));function c(v){d.value&&(d.value.selectionStart=v)}function S(v){d.value&&(d.value.selectionEnd=v)}function b(){var v,f;return{selectionStart:(v=d.value)==null?void 0:v.selectionStart,selectionEnd:(f=d.value)==null?void 0:f.selectionEnd}}function u(){var v;(v=d.value)==null||v.focus()}return(v,f)=>(s(),$(Ke,{class:"BuilderTemplateInputState","left-icon":l.value?"at-sign":void 0,"right-icon":e.rightIcon,onRightIconClick:f[3]||(f[3]=_=>v.$emit("rightIconClick")),onClick:f[4]||(f[4]=_=>p(d).focus())},{default:O(()=>[C("div",Rt,[C("div",{class:"BuilderTemplateInputState__content__tag",style:je(m.value)},[f[5]||(f[5]=C("span",null,"@",-1)),ce(C("input",{ref_key:"input",ref:d,"onUpdate:modelValue":f[0]||(f[0]=_=>i.value=_),type:"text",onFocus:f[1]||(f[1]=_=>o.value=!0),onBlur:f[2]||(f[2]=_=>o.value=!1)},null,544),[[lt,i.value]])],4)])]),_:1},8,["left-icon","right-icon"]))}}),Pt=U(Wt,[["__scopeId","data-v-f03927da"]]);function Ut(e,r){const n=e.lastIndexOf("@");if(n!==-1){let d=n;const o=e.slice(n).indexOf("{");return o!==-1&&(d+=o+1),e.indexOf("}",d)!==-1?e.substring(0,n)+`@{${r}}`:e.slice(0,n)+`@{${r}}`}return e+`@{${r}}`}function Kt(e){const r=e.lastIndexOf("@");if(r===-1)return"";const n=e.slice(r);return n.includes("}")||n.includes(`
`)||!n.startsWith("@{")&&n.includes(" ")?"":n.replace(/^@{?/,"")}function jt(e,r){return function(d){var m;if(!e.value)return;let i=0;if(d.key==="ArrowDown"?i=1:d.key==="ArrowUp"&&(i=-1),i===0)return;const o=Array.from(e.value.querySelectorAll("button")).filter(c=>!c.hasAttribute("disabled")&&c.offsetParent!==null);let l=i===1?o[0]:o.at(-1);const g=o.indexOf(document.activeElement);g!==-1&&(l=o[g+i]),l?(l.focus(),d.preventDefault()):(m=r==null?void 0:r.nextFocusNotFound)==null||m.call(r)}}const Lt=D({__name:"BuilderTemplateInput",props:{inputId:{type:String,required:!1,default:void 0},componentId:{type:String,required:!1,default:void 0},value:{type:String,required:!1,default:void 0},multiline:{type:Boolean,required:!1},variant:{type:String,required:!1,default:void 0},type:{type:String,required:!1,default:"template"},options:{type:Object,required:!1,default:void 0},placeholder:{type:String,required:!1,default:void 0},error:{type:String,required:!1,default:void 0},autofocus:{type:Boolean},readonly:{type:Boolean}},emits:["input","update:value"],setup(e,{expose:r,emit:n}){const d=e,i=n,o=K("root"),l=K("input"),g=K("dropdown"),m=X(),{floatingStyles:c,update:S}=ot(o,g,{placement:"bottom-start",middleware:[rt(),st({apply({rects:t,elements:a}){Object.assign(a.floating.style,{minWidth:`${t.reference.width}px`,maxWidth:`${t.reference.width}px`})}})],strategy:"fixed"});b();function b(){let t;function a(){t&&t(),t=void 0}ve(g,()=>{a(),g.value&&(t=at(l,g.value,S))}),Le(()=>a())}r({focus:()=>{var t;return(t=l.value)==null?void 0:t.focus()}});const u=k(()=>d.options?Object.entries(d.options).reduce((t,[a,V])=>(a.includes(d.value)&&t.push({value:a,label:V}),t),[]):[]),v=jt(g,{nextFocusNotFound:()=>{var t;m.value=void 0,(t=l.value)==null||t.focus()}});function f(){u.value.length>0&&(m.value="static")}const _=k(()=>{var I,T;if(d.type==="state")return d.value;let t=((I=l.value)==null?void 0:I.value)??"";if(!t)return"";const{selectionStart:a}=((T=l.value)==null?void 0:T.getSelection())??{},V=t.slice(0,a);return Kt(V)}),B=it(o);ve(B,async()=>{B.value||(await oe(),setTimeout(()=>{m.value=void 0},300))});async function q(t){var A,j;let a=((A=l.value)==null?void 0:A.value)??"";const{selectionStart:V,selectionEnd:I}=((j=l.value)==null?void 0:j.getSelection())??{};let T=V??a.length;if(d.type==="template"){const _e=a.slice(0,V),be=a.slice(I).replace(/^(\})+/,""),de=Ut(_e,t);a=`${de}${be}`,T=de.length}else a=t,T=t.length;i("input",{target:{value:a}}),i("update:value",a),l.value&&(l.value.focus(),m.value=void 0,await oe(),l.value.setSelectionStart(T))}async function F(t){i("input",{target:{value:t}}),i("update:value",t),l.value&&(l.value.focus(),m.value=void 0,await oe(),l.value.setSelectionStart(t.length))}function h(t){y({target:{value:t}})}function y(t){var A;let a=String(t.target.value??"");if(i("input",t),i("update:value",a),d.type==="state"){m.value="template";return}if(u.value.some(j=>j.value.includes(a))){m.value="static";return}const{selectionStart:V}=((A=l.value)==null?void 0:A.getSelection())??{},I=a.slice(0,V),T=!!I.match(/@\{([^}{@]*)$/)||I.endsWith("@")||!!_.value;m.value=T?"template":void 0}return(t,a)=>(s(),w("div",{ref_key:"root",ref:o,class:"BuilderTemplateInput",onKeydown:a[2]||(a[2]=le((...V)=>p(v)&&p(v)(...V),["stop"]))},[e.type==="template"?(s(),$(Dt,{key:0,ref_key:"input",ref:l,"model-value":d.value,placeholder:d.placeholder,list:d.options?`list-${d.inputId}`:void 0,invalid:e.error!==void 0,autofocus:e.autofocus,readonly:e.readonly,multiline:e.multiline,onInput:y,onClick:f},null,8,["model-value","placeholder","list","invalid","autofocus","readonly","multiline"])):E("",!0),e.type==="state"?(s(),$(Pt,{key:1,ref_key:"input",ref:l,"right-icon":m.value?"chevron-up":"chevron-down","model-value":d.value,onRightIconClick:a[0]||(a[0]=V=>m.value=m.value?void 0:"template"),"onUpdate:modelValue":h,onClick:a[1]||(a[1]=V=>p(l).focus())},null,8,["right-icon","model-value"])):E("",!0),m.value?(s(),w("div",{key:2,ref_key:"dropdown",ref:g,class:"BuilderTemplateInput__dropdown",style:je(p(c))},[m.value==="template"?(s(),$(Mt,{key:0,"hide-secrets":e.type==="state","hide-blueprint-results":e.type==="state","allow-create":e.type==="state",query:_.value,"component-id":e.componentId,"onUpdate:modelValue":q},null,8,["hide-secrets","hide-blueprint-results","allow-create","query","component-id"])):u.value.length?(s(),$(ht,{key:1,options:u.value,onSelect:F},null,8,["options"])):E("",!0)],4)):E("",!0)],544))}}),ne=U(Lt,[["__scopeId","data-v-8594b4ef"]]),Nt=["disabled","data-writer-tooltip"],zt={key:0,class:"WdsTab__indicator"},Yt=D({__name:"WdsTab",props:{disabled:{type:[Boolean,String],default:void 0},selected:{type:Boolean},variant:{type:String,required:!0}},emits:{click:()=>!0},setup(e){const r=e,n=k(()=>typeof r.disabled=="string"?r.disabled:void 0);return(d,i)=>(s(),w("button",{class:Ee(["WdsTab",{"WdsTab--disabled":e.disabled,"WdsTab--selected":e.selected,"WdsTab--variant-bar":e.variant==="bar","WdsTab--variant-chip":e.variant==="chip"}]),type:"button",disabled:!!e.disabled,"data-writer-tooltip":n.value,onClick:i[0]||(i[0]=o=>d.$emit("click"))},[Ne(d.$slots,"default",{},void 0,!0),e.variant==="bar"?(s(),w("div",zt)):E("",!0)],10,Nt))}}),Gt=U(Yt,[["__scopeId","data-v-db73c62c"]]),Jt=D({__name:"WdsTabs",props:ie({tabs:{type:Array,required:!0},variant:{type:String,default:"chip"}},{modelValue:{type:String},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const r=fe(e,"modelValue");return(n,d)=>(s(),w("div",{class:Ee(["WdsTabs",{"WdsTabs--variant-bar":e.variant==="bar","WdsTabs--variant-chip":e.variant==="chip"}])},[(s(!0),w(L,null,ee(e.tabs,i=>(s(),$(Gt,{key:i.value,value:i.value,variant:e.variant,disabled:i.disabled,selected:i.value===r.value,onClick:o=>r.value=i.value},{default:O(()=>[ue(te(i.label),1)]),_:2},1032,["value","variant","disabled","selected","onClick"]))),128))],2))}}),ae=U(Jt,[["__scopeId","data-v-6e6e5572"]]),ge=Object.freeze([{label:"Default",value:"default"},{label:"CSS",value:"css"},{label:"Pick",value:"pick"}]),Ht=["data-automation-key"],Xt={key:0,class:"main"},Qt={key:0,class:"pickerContainer"},Zt=D({__name:"BuilderFieldsAlign",props:{componentId:{type:String,required:!0},fieldKey:{type:String,required:!0},direction:{type:String,required:!0},error:{type:String,required:!1,default:void 0}},setup(e){const r=Y({loader:()=>G(()=>import("./index-DZ8PiSXb.js").then(h=>h.bo),__vite__mapDeps([1,2]),import.meta.url)}),n=K("rootEl"),d=K("pickerEl"),i=K("freehandInputEl"),o=[{key:"start",label:"Left",match:h=>h=="start",default:"start",icon:"align-left"},{key:"center",label:"Center",match:h=>h=="center",default:"center",icon:"align-center"},{key:"end",label:"Right",match:h=>h=="end",default:"end",icon:"align-right"}],l=[{key:"start",label:"Top",match:h=>h=="start",default:"start",icon:"arrow-up-to-line"},{key:"center",label:"Center",match:h=>h=="center",default:"center",icon:"fold-vertical"},{key:"end",label:"Bottom",match:h=>h=="end",default:"end",icon:"arrow-down-to-line"}],g={pick:d,css:i,default:null},m=e,c=J({componentId:M(m,"componentId"),fieldKey:M(m,"fieldKey")}),S=k(()=>m.direction=="vertical"?l:m.direction=="horizontal"?o:l),b=k(()=>S.value.map(h=>({value:h.key,label:h.label,icon:h.icon}))),u=k(()=>{const h=c.value;for(const y in S.value)if(h&&S.value[y].match(h))return S.value[y].key;return null}),f=X((()=>{if(!c.value)return"default";for(const h in S.value)if(S.value[h].match(c.value))return"pick";return"css"})()),_=()=>{var y;const h=(y=g[f.value])==null?void 0:y.value;h&&(h.focus(),typeof h.selectionStart=="number"&&(h.selectionStart=h.selectionEnd=h.value.length))},B=async h=>{f.value!=h&&(f.value=h,await oe(),_(),h==="default"&&(c.value=""))},q=h=>{for(const y in S.value)S.value[y].key==h&&(c.value=S.value[y].default)},F=h=>{c.value=h.target.value};return re(()=>{n.value.addEventListener("focus",_)}),ye(()=>{n.value.removeEventListener("focus",_)}),(h,y)=>(s(),w("div",{ref_key:"rootEl",ref:n,class:"BuilderFieldsAlign",tabindex:"-1","data-automation-key":m.fieldKey},[x(ae,{tabs:p(ge),"model-value":f.value,"onUpdate:modelValue":B},null,8,["tabs","model-value"]),f.value=="pick"||f.value=="css"?(s(),w("div",Xt,[f.value=="pick"?(s(),w("div",Qt,[x(p(r),{ref_key:"pickerEl",ref:d,"model-value":u.value,options:b.value,"onUpdate:modelValue":q},null,8,["model-value","options"])])):E("",!0),f.value=="css"?(s(),$(ne,{key:1,ref_key:"freehandInputEl",ref:i,value:p(c),error:e.error,onInput:F},null,8,["value","error"])):E("",!0)])):E("",!0)],8,Ht))}}),We=U(Zt,[["__scopeId","data-v-6a36fb0b"]]),en=["data-automation-key"],tn={key:0,class:"main"},nn={key:0,class:"pickerContainer"},ln=["value"],on=D({__name:"BuilderFieldsColor",props:{componentId:{type:String,required:!0},fieldKey:{type:String,required:!0},error:{type:String,required:!1,default:void 0}},setup(e){const r=K("rootEl"),n=K("pickerEl"),d=K("freehandInputEl"),i={pick:n,css:d,default:null},o=e,l=J({componentId:M(o,"componentId"),fieldKey:M(o,"fieldKey")}),m=X((()=>{const u=l.value;return u?/#[A-Fa-f0-9]{6}/.test(u)?"pick":"css":"default"})()),c=()=>{var v;const u=(v=i[m.value])==null?void 0:v.value;u&&(u.focus(),typeof u.selectionStart=="number"&&(u.selectionStart=u.selectionEnd=u.value.length))},S=async u=>{m.value!=u&&(m.value=u,await oe(),c(),u==="default"&&(l.value=""))},b=u=>l.value=u.target.value;return re(()=>{r.value.addEventListener("focus",c)}),ye(()=>{r.value.removeEventListener("focus",c)}),(u,v)=>(s(),w("div",{ref_key:"rootEl",ref:r,class:"BuilderFieldsColor",tabindex:"-1","data-automation-key":e.fieldKey},[x(ae,{tabs:p(ge),"model-value":m.value,"onUpdate:modelValue":S},null,8,["tabs","model-value"]),m.value=="pick"||m.value=="css"?(s(),w("div",tn,[m.value=="pick"?(s(),w("div",nn,[C("input",{ref_key:"pickerEl",ref:n,type:"color",value:p(l),onInput:b},null,40,ln)])):E("",!0),m.value=="css"?(s(),$(ne,{key:1,ref_key:"freehandInputEl",ref:d,value:p(l),error:e.error,onInput:b},null,8,["value","error"])):E("",!0)])):E("",!0)],8,en))}}),an=U(on,[["__scopeId","data-v-5432e5c5"]]);function $e(e){return typeof e=="string"&&e.startsWith("@{")&&e.endsWith("}")}function Xe({fieldViewModel:e}){const r=X($e(e.value)),n=X({binding:$e(e.value)?e.value:"",noneBinding:r.value?"":e.value});function d(){r.value?($e(e.value)&&(n.value.binding=e.value),e.value=n.value.noneBinding,r.value=!1):(n.value.noneBinding=e.value,e.value=n.value.binding,r.value=!0)}return{isBindingMode:ut(r),toggleBindingMode:d}}const rn=["data-automation-key"],sn=D({__name:"BuilderFieldsText",props:{componentId:{type:String,required:!0},fieldKey:{type:String,required:!0},fieldControl:{type:String,required:!1,default:ke.Text},defaultValue:{type:String,default:void 0},error:{type:String,required:!1,default:void 0},autofocus:{type:Boolean},type:{type:String,required:!1,default:"template"}},setup(e){const r=R(W.core),n=e,d=J({componentId:M(n,"componentId"),fieldKey:M(n,"fieldKey"),defaultValue:M(n,"defaultValue")}),i=k(()=>`${n.componentId}-${n.fieldKey}`),o={uiComponents:()=>{const u=r.getComponents(void 0,{sortedByPosition:!0}).filter(f=>r.isChildOf("root",f.id)),v={};return u.forEach(f=>{v[f.id]=f.id}),v},uiComponentsWithEvents:()=>r.getComponents(void 0,{sortedByPosition:!0}).filter(u=>r.isChildOf("root",u.id)).filter(u=>!!r.getComponentDefinition(u.type).events).reduce((u,v)=>(u[v.id]=v.id,u),{}),eventTypes:(u,v)=>{var F;const f=(F=u.getComponentById(v).content)==null?void 0:F.refComponentId,_=r.getComponentById(f);if(!_)return{};const B=u.getComponentDefinition(_.type);return Object.fromEntries(Object.keys(B.events??{}).map(h=>[h,h]))}},l=k(()=>{const u=r.getComponentById(n.componentId),f=r.getComponentDefinition(u.type).fields[n.fieldKey];return f.options?typeof f.options=="function"?f.options(r,n.componentId):typeof f.options=="string"?o==null?void 0:o[f.options](r,n.componentId):f.options:{}}),g=k(()=>["state","state-template"].includes(n.type)?"state":"template"),m=k(()=>b(d.value)),c=u=>{d.value=S(u.target.value)};function S(u){return typeof u!="string"?"":n.type==="state-template"?`@{${u}}`:u}function b(u){return typeof u!="string"?"":n.type==="state-template"?u.replace(/^@{/,"").replace(/}$/,""):u}return(u,v)=>(s(),w("div",{class:"BuilderFieldsText","data-automation-key":n.fieldKey},[e.fieldControl==p(ke).Text?(s(),$(ne,{key:0,class:"content","component-id":e.componentId,"input-id":i.value,value:m.value,placeholder:e.defaultValue,type:g.value,options:l.value,error:e.error,autofocus:e.autofocus,onInput:c},null,8,["component-id","input-id","value","placeholder","type","options","error","autofocus"])):e.fieldControl==p(ke).Textarea?(s(),$(ne,{key:1,multiline:"",variant:"text",class:"content","input-id":i.value,"component-id":e.componentId,value:m.value,placeholder:e.defaultValue,type:g.value,error:e.error,autofocus:e.autofocus,onInput:c},null,8,["input-id","component-id","value","placeholder","type","error","autofocus"])):E("",!0)],8,rn))}}),Me=U(sn,[["__scopeId","data-v-aa053130"]]),un=["data-automation-key"],dn=D({__name:"BuilderFieldsCheckbox",props:{componentId:{type:String,required:!0},fieldKey:{type:String,required:!0},label:{type:String,default:void 0},unit:{type:String,default:void 0},hint:{type:String,default:void 0},error:{type:String,default:void 0}},setup(e){const r=e,n=J({componentId:M(r,"componentId"),fieldKey:M(r,"fieldKey")}),{isBindingMode:d,toggleBindingMode:i}=Xe({fieldViewModel:n}),o=k({get:()=>n.value==="yes",set:l=>{n.value=l?"yes":"no"}});return(l,g)=>p(d)?(s(),$(Z,{key:0,"is-binding-button-shown":"","is-binding-enabled":p(d),label:e.label,unit:e.unit,hint:e.hint,error:e.error,"data-automation-key":r.fieldKey,"onUpdate:isBindingEnabled":p(i)},{default:O(()=>[x(Me,{type:"state-template","component-id":e.componentId,"field-key":e.fieldKey,error:e.error,"default-value":""},null,8,["component-id","field-key","error"])]),_:1},8,["is-binding-enabled","label","unit","hint","error","data-automation-key","onUpdate:isBindingEnabled"])):(s(),w("div",{key:1,class:"BuilderFieldsCheckbox","data-automation-key":r.fieldKey},[x(He,{modelValue:o.value,"onUpdate:modelValue":g[0]||(g[0]=m=>o.value=m),label:e.label,detail:e.hint,invalid:!!e.error},null,8,["modelValue","label","detail","invalid"]),x(H,{size:"smallIcon",variant:"neutral","data-writer-tooltip-placement":"left","data-writer-tooltip":"Bind to a variable",onClick:p(i)},{default:O(()=>[x(N,{name:"at-sign"})]),_:1},8,["onClick"])],8,un))}}),cn=U(dn,[["__scopeId","data-v-d540f2ac"]]),pn={key:1,class:"BuilderFieldsKeyValueModal__assistedEntries"},vn={key:0,class:"BuilderFieldsKeyValueModal__assistedEntries__form"},mn=D({__name:"BuilderFieldsKeyValueModal",props:{data:{type:String,required:!0}},emits:{submit:e=>typeof e=="string",close:()=>!0},setup(e,{emit:r}){const n=Y({loader:()=>G(()=>import("./BuilderEmbeddedCodeEditor-CcK6bUxU.js").then(q=>q.B),__vite__mapDeps([11,1,2,12]),import.meta.url)}),d=e,{mode:i,assistedEntries:o,freehandValue:l,isValid:g,currentValue:m,addAssistedEntry:c,updateAssistedEntryValue:S,updateAssistedEntryKey:b,removeAssistedEntry:u,getAssistedEntryError:v}=St(d.data),f=r,_=k(()=>[{desc:"Save",fn:()=>f("submit",m.value),disabled:d.data===m.value||!g.value}]),B=[{label:"List",value:"assisted"},{label:"JSON",value:"freehand"}];return(q,F)=>(s(),$(Oe,{title:"Category key values","display-close-button":"",actions:_.value,onClose:F[2]||(F[2]=h=>q.$emit("close"))},{titleActions:O(()=>[x(ae,{modelValue:p(i),"onUpdate:modelValue":F[0]||(F[0]=h=>me(i)?i.value=h:null),class:"BuilderFieldsKeyValueModal__tabs",tabs:B},null,8,["modelValue"])]),default:O(()=>[p(i)==="freehand"?(s(),$(p(n),{key:0,modelValue:p(l),"onUpdate:modelValue":F[1]||(F[1]=h=>me(l)?l.value=h:null),class:"BuilderFieldsKeyValueModal__freehand",variant:"minimal",language:"json"},null,8,["modelValue"])):E("",!0),p(i)==="assisted"?(s(),w("div",pn,[p(i)==="assisted"?(s(),w("div",vn,[F[3]||(F[3]=C("p",{class:"BuilderFieldsKeyValueModal__assistedEntries__form__labelKey"}," Key ",-1)),F[4]||(F[4]=C("p",{class:"BuilderFieldsKeyValueModal__assistedEntries__form__labelValue"}," Value ",-1)),(s(!0),w(L,null,ee(p(o),(h,y)=>(s(),w(L,{key:y},[x(Z,{error:p(v)(y)},{default:O(()=>[x(ne,{placeholder:"Type a key...",value:h.key,error:p(v)(y),"onUpdate:value":t=>p(b)(y,t)},null,8,["value","error","onUpdate:value"])]),_:2},1032,["error"]),x(Z,null,{default:O(()=>[x(ne,{placeholder:"Type a value...",value:h.value,"onUpdate:value":t=>p(S)(y,t)},null,8,["value","onUpdate:value"])]),_:2},1024),C("div",null,[x(H,{variant:"neutral",size:"smallIcon",class:"BuilderFieldsKeyValueModal__assistedEntries__form__deleteBtn",onClick:t=>p(u)(y)},{default:O(()=>[x(N,{name:"trash-2"})]),_:2},1032,["onClick"])])],64))),128))])):E("",!0),x(H,{variant:"special",size:"small",onClick:p(c)},{default:O(()=>[x(N,{name:"plus"}),F[5]||(F[5]=ue(" Add a pair "))]),_:1},8,["onClick"])])):E("",!0)]),_:1},8,["actions"]))}}),fn=U(mn,[["__scopeId","data-v-4e74be91"]]),yn=["data-automation-key"],gn={class:"BuilderFieldsKeyValue__toolbar"},_n={key:1,class:"BuilderFieldsKeyValue__listEmpty"},bn={key:2,class:"BuilderFieldsKeyValue__list"},hn=["data-writer-tooltip"],Sn=["data-writer-tooltip"],kn=D({__name:"BuilderFieldsKeyValue",props:{componentId:{type:String,required:!0},fieldKey:{type:String,required:!0},instancePath:{type:Array,required:!0},error:{type:String,required:!1,default:void 0}},setup(e){const r=e,n=J({componentId:M(r,"componentId"),fieldKey:M(r,"fieldKey")}),d=R(W.core),i=R(W.secretsManager),{getEvaluatedFields:o}=we(d,i),l=X(!1),g=k(()=>{var S;return((S=o(r.instancePath))==null?void 0:S[r.fieldKey].value)??{}}),m=k(()=>n.value||JSON.stringify(g.value));function c(S){l.value=!1,n.value=S}return(S,b)=>(s(),w("div",{class:"BuilderFieldsKeyValue",tabindex:"-1","data-automation-key":r.fieldKey},[C("div",gn,[x(H,{variant:"neutral",size:"smallIcon","data-automation-key":"openAssistedMode",onClick:b[0]||(b[0]=u=>l.value=!0)},{default:O(()=>[x(N,{name:"pencil"})]),_:1})]),l.value?(s(),$(fn,{key:0,data:m.value,onSubmit:c,onClose:b[1]||(b[1]=u=>l.value=!1)},null,8,["data"])):E("",!0),Object.keys(g.value).length===0?(s(),w("div",_n,[b[4]||(b[4]=C("p",null,"There are no key value categories defined",-1)),x(H,{variant:"special",size:"small",onClick:b[2]||(b[2]=u=>l.value=!0)},{default:O(()=>[x(N,{name:"pencil"}),b[3]||(b[3]=ue(" Edit "))]),_:1})])):(s(),w("ul",bn,[(s(!0),w(L,null,ee(g.value,(u,v)=>(s(),w("li",{key:v,class:"BuilderFieldsKeyValue__list__item"},[C("p",{class:"BuilderFieldsKeyValue__list__item__key","data-writer-tooltip":v,"data-writer-tooltip-strategy":"overflow"},te(v),9,hn),C("p",{class:"BuilderFieldsKeyValue__list__item__value","data-writer-tooltip":u,"data-writer-tooltip-strategy":"overflow"},te(u||"<empty value>"),9,Sn)]))),128))]))],8,yn))}}),In=U(kn,[["__scopeId","data-v-43bf3550"]]),Bn=D({__name:"BuilderFieldsObject",props:{componentId:{type:String,required:!0},fieldKey:{type:String,required:!0},defaultValue:{type:String,required:!1,default:void 0},error:{type:String,required:!1,default:void 0}},setup(e){const r=e,n=J({componentId:M(r,"componentId"),fieldKey:M(r,"fieldKey"),defaultValue:M(r,"defaultValue")}),d=i=>{n.value=i.target.value};return(i,o)=>(s(),$(ne,{class:"BuilderFieldsObject","data-automation-key":r.fieldKey,multiline:"",variant:"code",value:p(n),placeholder:e.defaultValue,error:e.error,onInput:d},null,8,["data-automation-key","value","placeholder","error"]))}}),Cn=U(Bn,[["__scopeId","data-v-efbda4e8"]]),En=["data-automation-key"],wn={key:0,class:"main"},xn={key:0,class:"pickerContainer"},$n={class:"BuilderFieldsPadding__options"},Tn=D({__name:"BuilderFieldsPadding",props:{componentId:{type:String,required:!0},fieldKey:{type:String,required:!0},error:{type:String,required:!1,default:void 0}},setup(e){const r=Y({loader:()=>G(()=>import("./index-DZ8PiSXb.js").then(t=>t.bo),__vite__mapDeps([1,2]),import.meta.url)}),n=K("rootEl"),d=K("pickerEl"),i=K("freehandInputEl"),o=K("fixedEl"),l=[{key:"all_sides",label:"All sides",match:t=>t.split(" ").length==1&&t.endsWith("px"),default:()=>v.value?v.value[0]:"0px"},{key:"XY sides",label:"XY sides",match:t=>t.split(" ").length==2&&t.endsWith("px"),default:()=>v.value?v.value[2]+" "+v.value[0]:"0px 0px"},{key:"Per side",label:"Per side",match:t=>t.split(" ").length==4&&t.endsWith("px"),default:()=>v.value?[v.value[3],v.value[1],v.value[2],v.value[0]].join(" "):"0px 0px 0px 0px"}],g={pick:d,css:i,default:null},m=e,c=J({componentId:M(m,"componentId"),fieldKey:M(m,"fieldKey")}),S=k(()=>l.map(t=>({value:t.key,label:t.label,icon:"panel-top-dashed"}))),b=k(()=>{const t=c.value;for(const a in l)if(t&&l[a].match(t))return l[a].key;return null}),u=k(()=>{const t=v.value;return t?[t[0].substring(0,t[0].length-2),t[1].substring(0,t[1].length-2),t[2].substring(0,t[2].length-2),t[3].substring(0,t[3].length-2)]:["0","0","0","0"]}),v=k(()=>{const t=c.value;if(t){const a=t.split(" ");if(a.length==1&&a[0].endsWith("px"))return[a[0],a[0],a[0],a[0]];if(a.length==2&&a[0].endsWith("px")&&a[0].endsWith("px"))return[a[1],a[1],a[0],a[0]];if(a.length==4&&a[0].endsWith("px")&&a[1].endsWith("px")&&a[2].endsWith("px")&&a[3].endsWith("px"))return[a[3],a[1],a[0],a[2]]}else return null;return null}),_=X((()=>{if(!c.value)return"default";for(const t in l)if(l[t].match(c.value))return"pick";return"css"})()),B=()=>{var a;const t=(a=g[_.value])==null?void 0:a.value;t&&(t.focus(),typeof t.selectionStart=="number"&&(t.selectionStart=t.selectionEnd=t.value.length))},q=async t=>{_.value!=t&&(_.value=t,await oe(),B(),t==="default"&&(c.value=""))},F=t=>{for(const a in l)l[a].key==t&&(c.value=l[a].default());oe(()=>{var a;(a=o.value)==null||a.focus()})},h=t=>{c.value=t.target.value},y=(t,a,V)=>{const I=Number(t),T=c.value;if(a=="all_sides")c.value=I+"px";else if(a=="XY sides"){const A=T.split(" ");V=="x"?A[1]=I+"px":V=="y"&&(A[0]=I+"px"),c.value=A.join(" ")}else if(a=="Per side"){const A=T.split(" ");V=="top"?A[0]=I+"px":V=="right"?A[1]=I+"px":V=="bottom"?A[2]=I+"px":V=="left"&&(A[3]=I+"px"),c.value=A.join(" ")}};return re(()=>{n.value.addEventListener("focus",B)}),ye(()=>{n.value.removeEventListener("focus",B)}),(t,a)=>(s(),w("div",{ref_key:"rootEl",ref:n,class:"BuilderFieldsPadding",tabindex:"-1","data-automation-key":m.fieldKey},[x(ae,{tabs:p(ge),"model-value":_.value,"onUpdate:modelValue":q},null,8,["tabs","model-value"]),_.value=="pick"||_.value=="css"?(s(),w("div",wn,[_.value=="pick"?(s(),w("div",xn,[x(p(r),{ref_key:"pickerEl",ref:d,"model-value":b.value,options:S.value,"onUpdate:modelValue":F},null,8,["model-value","options"]),C("div",$n,[b.value=="all_sides"?(s(),w(L,{key:0},[a[7]||(a[7]=C("i",null,"All",-1)),x(Q,{ref_key:"fixedEl",ref:o,type:"number","model-value":u.value[0],"onUpdate:modelValue":a[0]||(a[0]=V=>y(V,b.value))},null,8,["model-value"]),a[8]||(a[8]=C("div",null,"px",-1))],64)):E("",!0),b.value=="XY sides"?(s(),w(L,{key:1},[a[9]||(a[9]=C("i",null,"X",-1)),x(Q,{type:"number","model-value":u.value[0],"onUpdate:modelValue":a[1]||(a[1]=V=>y(V,b.value,"x"))},null,8,["model-value"]),a[10]||(a[10]=C("div",null,"px",-1)),a[11]||(a[11]=C("i",null,"Y",-1)),x(Q,{type:"number","model-value":u.value[2],"onUpdate:modelValue":a[2]||(a[2]=V=>y(V,b.value,"y"))},null,8,["model-value"]),a[12]||(a[12]=C("div",null,"px",-1))],64)):E("",!0),b.value=="Per side"?(s(),w(L,{key:2},[a[13]||(a[13]=C("i",null,"Left",-1)),x(Q,{type:"number","model-value":u.value[0],"onUpdate:modelValue":a[3]||(a[3]=V=>y(V,b.value,"left"))},null,8,["model-value"]),a[14]||(a[14]=C("div",null,"px",-1)),a[15]||(a[15]=C("i",null,"Right",-1)),x(Q,{type:"number","model-value":u.value[1],"onUpdate:modelValue":a[4]||(a[4]=V=>y(V,b.value,"right"))},null,8,["model-value"]),a[16]||(a[16]=C("div",null,"px",-1)),a[17]||(a[17]=C("i",null,"Top",-1)),x(Q,{type:"number","model-value":u.value[2],"onUpdate:modelValue":a[5]||(a[5]=V=>y(V,b.value,"top"))},null,8,["model-value"]),a[18]||(a[18]=C("div",null,"px",-1)),a[19]||(a[19]=C("i",null,"Bottom",-1)),x(Q,{type:"number","model-value":u.value[3],"onUpdate:modelValue":a[6]||(a[6]=V=>y(V,b.value,"bottom"))},null,8,["model-value"]),a[20]||(a[20]=C("div",null,"px",-1))],64)):E("",!0)])])):E("",!0),_.value=="css"?(s(),$(ne,{key:1,ref_key:"freehandInputEl",ref:i,value:p(c),error:e.error,onInput:h},null,8,["value","error"])):E("",!0)])):E("",!0)],8,En))}}),Vn=U(Tn,[["__scopeId","data-v-e122e664"]]),Fn=["data-automation-key"],On={key:0,class:"main"},qn={key:0,class:"pickerContainer"},Mn={class:"param"},An={class:"header"},Dn=["value"],Rn={class:"param"},Wn={class:"header"},Pn=["value"],Un={class:"param"},Kn={class:"header"},jn=["value"],Ln={class:"param"},Nn={class:"header"},zn=["value"],Yn={class:"param"},Gn=["value"],Jn=D({__name:"BuilderFieldsShadow",props:{componentId:{type:String,required:!0},fieldKey:{type:String,required:!0},error:{type:String,required:!1,default:void 0}},setup(e){const r=K("rootEl"),n=K("freehandInputEl"),d=K("paramOffsetXEl"),i=K("paramOffsetYEl"),o=K("paramBlurRadiusEl"),l=K("paramSpreadRadiusEl"),g=K("paramColorEl"),m={pick:d,css:n,default:null},c=e,S=J({componentId:M(c,"componentId"),fieldKey:M(c,"fieldKey")}),b=/^(?<offsetX>[0-9]+)px (?<offsetY>[0-9]+)px (?<blurRadius>[0-9]+)px (?<spreadRadius>[0-9-]+)px (?<color>#[A-Fa-f0-9]{6})$/,v=X((()=>{const h=S.value;return h?b.test(h)?"pick":"css":"default"})()),f=()=>{var y;const h=(y=m[v.value])==null?void 0:y.value;h&&(h.focus(),typeof h.selectionStart=="number"&&(h.selectionStart=h.selectionEnd=h.value.length))},_=async h=>{v.value!=h&&(v.value=h,await oe(),f(),h==="default"&&(S.value=""))},B=()=>{const h=d.value.value,y=i.value.value,t=o.value.value,a=l.value.value,V=g.value.value,I=`${h}px ${y}px ${t}px ${a}px ${V}`;S.value=I},q=h=>{S.value=h.target.value},F=k(()=>{const h=S.value.match(b);return(h==null?void 0:h.groups)??{}});return re(()=>{r.value.addEventListener("focus",f)}),ye(()=>{r.value.removeEventListener("focus",f)}),(h,y)=>{var t,a,V,I,T,A,j,_e,be,de,Ae,De,Re;return s(),w("div",{ref_key:"rootEl",ref:r,class:"BuilderFieldsShadow",tabindex:"-1","data-automation-key":c.fieldKey},[x(ae,{tabs:p(ge),"model-value":v.value,"onUpdate:modelValue":_},null,8,["tabs","model-value"]),v.value=="pick"||v.value=="css"?(s(),w("div",On,[v.value=="pick"?(s(),w("div",qn,[C("div",Mn,[C("div",An,[y[0]||(y[0]=C("div",{class:"name"},"Offset X",-1)),ce(C("div",{class:"value"},te((t=F.value)==null?void 0:t.offsetX)+"px ",513),[[he,(a=F.value)==null?void 0:a.offsetX]])]),C("input",{ref_key:"paramOffsetXEl",ref:d,type:"range",min:"0",max:"32",value:(V=F.value)==null?void 0:V.offsetX,onInput:B},null,40,Dn)]),C("div",Rn,[C("div",Wn,[y[1]||(y[1]=C("div",{class:"name"},"Offset Y",-1)),ce(C("div",{class:"value"},te((I=F.value)==null?void 0:I.offsetY)+"px ",513),[[he,(T=F.value)==null?void 0:T.offsetY]])]),C("input",{ref_key:"paramOffsetYEl",ref:i,type:"range",min:"0",max:"32",value:(A=F.value)==null?void 0:A.offsetY,onInput:B},null,40,Pn)]),C("div",Un,[C("div",Kn,[y[2]||(y[2]=C("div",{class:"name"},"Blur radius",-1)),ce(C("div",{class:"value"},te((j=F.value)==null?void 0:j.blurRadius)+"px ",513),[[he,(_e=F.value)==null?void 0:_e.blurRadius]])]),C("input",{ref_key:"paramBlurRadiusEl",ref:o,type:"range",min:"0",max:"32",value:(be=F.value)==null?void 0:be.blurRadius,onInput:B},null,40,jn)]),C("div",Ln,[C("div",Nn,[y[3]||(y[3]=C("div",{class:"name"},"Spread radius",-1)),ce(C("div",{class:"value"},te((de=F.value)==null?void 0:de.spreadRadius)+"px ",513),[[he,(Ae=F.value)==null?void 0:Ae.spreadRadius]])]),C("input",{ref_key:"paramSpreadRadiusEl",ref:l,type:"range",min:"-16",max:"32",value:(De=F.value)==null?void 0:De.spreadRadius,onInput:B},null,40,zn)]),C("div",Yn,[y[4]||(y[4]=C("div",{class:"header"},[C("div",{class:"name"},"Color")],-1)),C("input",{ref_key:"paramColorEl",ref:g,type:"color",value:(Re=F.value)==null?void 0:Re.color,onInput:B},null,40,Gn)])])):E("",!0),v.value=="css"?(s(),$(ne,{key:1,ref_key:"freehandInputEl",ref:n,value:p(S),error:e.error,onInput:q},null,8,["value","error"])):E("",!0)])):E("",!0)],8,Fn)}}}),Hn=U(Jn,[["__scopeId","data-v-c59dcd63"]]),Xn=["data-automation-key"],Qn={key:0,class:"main"},Zn={key:0,class:"pickerContainer"},el={key:0,class:"fixedContainer"},tl=D({__name:"BuilderFieldsWidth",props:{componentId:{type:String,required:!0},fieldKey:{type:String,required:!0},error:{type:String,required:!1,default:void 0}},setup(e){const r=Y({loader:()=>G(()=>import("./index-DZ8PiSXb.js").then(y=>y.bo),__vite__mapDeps([1,2]),import.meta.url)}),n=K("rootEl"),d=K("pickerEl"),i=K("freehandInputEl"),o=K("fixedEl"),l=[{key:"fixed",label:"Fixed",match:y=>y.endsWith("px"),default:"160px"},{key:"fit-content",label:"Fit Content",match:y=>y=="fit-content",default:"fit-content"},{key:"full",label:"Full",match:y=>y=="100%",default:"100%"}],g={pick:d,css:i,default:null},m=e,c=J({componentId:M(m,"componentId"),fieldKey:M(m,"fieldKey")}),S=k(()=>l.map(y=>({value:y.key,label:y.label,icon:"move-horizontal"}))),b=k(()=>{const y=c.value;for(const t in l)if(y&&l[t].match(y))return l[t].key;return null}),u=k(()=>{const y=c.value;if(y){if(y.endsWith("px"))return y.substring(0,y.length-2)}else return null;return null}),f=X((()=>{if(!c.value)return"default";for(const y in l)if(l[y].match(c.value))return"pick";return"css"})()),_=()=>{var t;const y=(t=g[f.value])==null?void 0:t.value;y&&(y.focus(),typeof y.selectionStart=="number"&&(y.selectionStart=y.selectionEnd=y.value.length))},B=async y=>{f.value!=y&&(f.value=y,await oe(),_(),y==="default"&&(c.value=""))},q=y=>{for(const t in l)if(l[t].key==y){const a=l[t].default;c.value=a}y=="fixed"&&oe(()=>{o.value.focus()})},F=y=>{c.value=y.target.value},h=y=>{c.value=`${y}px`};return re(()=>{n.value.addEventListener("focus",_)}),ye(()=>{n.value.removeEventListener("focus",_)}),(y,t)=>(s(),w("div",{ref_key:"rootEl",ref:n,class:"BuilderFieldsWidth",tabindex:"-1","data-automation-key":m.fieldKey},[x(ae,{tabs:p(ge),"model-value":f.value,"onUpdate:modelValue":B},null,8,["tabs","model-value"]),f.value=="pick"||f.value=="css"?(s(),w("div",Qn,[f.value=="pick"?(s(),w("div",Zn,[x(p(r),{ref_key:"pickerEl",ref:d,"model-value":b.value,options:S.value,"onUpdate:modelValue":q},null,8,["model-value","options"]),b.value=="fixed"?(s(),w("div",el,[x(Q,{ref_key:"fixedEl",ref:o,type:"number","model-value":u.value,invalid:e.error!==void 0,"onUpdate:modelValue":h},null,8,["model-value","invalid"]),t[0]||(t[0]=C("div",null,"px",-1))])):E("",!0)])):E("",!0),f.value=="css"?(s(),$(ne,{key:1,ref_key:"freehandInputEl",ref:i,value:p(c),onInput:F},null,8,["value"])):E("",!0)])):E("",!0)],8,Xn))}}),nl=U(tl,[["__scopeId","data-v-55a31bea"]]),ll=["data-automation-key"],ol={class:"tools"},al=["onClick"],il={class:"toolName"},rl={class:"addToolForm"},sl=D({__name:"BuilderFieldsTools",props:{componentId:{},fieldKey:{}},setup(e){const r=Y({loader:()=>G(()=>import("./BuilderGraphSelect-BJGU7UFw.js"),__vite__mapDeps([13,1,2,14,15]),import.meta.url)}),n=Y({loader:()=>G(()=>import("./BuilderEmbeddedCodeEditor-CcK6bUxU.js").then(y=>y.B),__vite__mapDeps([11,1,2,12]),import.meta.url)}),i={isShown:!1,type:"function",name:"new_tool",code:`
{
	"description": "Gets info for an employee, given an employee id",
    "parameters": {
      "id": {"type": "string", "description": "Id of the employee"}
    }
}
`.trim(),graphIds:"",binding:!1,includeDomains:"",excludeDomains:"",includeRawContent:!1},o=X(i),l=k(()=>{switch(o.value.type){case"function":return!o.value.code;case"graph":return!o.value.graphIds;case"web_search":return!1;default:return!0}}),g=k({get:()=>o.value.graphIds.split(",").filter(y=>!y.startsWith("@{")),set(y){o.value={...o.value,graphIds:y.join(",")}}}),m=k({get:()=>{const y=Te.exec(o.value.graphIds);return(y==null?void 0:y[1])??""},set(y){o.value={...o.value,graphIds:`@{${y}}`}}}),c=e,S=J({componentId:M(c,"componentId"),fieldKey:M(c,"fieldKey")}),b=k(()=>{try{return JSON.parse(S.value)}catch{return{}}});function u(){o.value={...i,isShown:!0}}function v(){const{type:y,code:t,graphIds:a,includeDomains:V,excludeDomains:I,includeRawContent:T}=o.value;if(y=="function")return{...JSON.parse(t),type:y};if(y=="graph"){const A=a.split(",").map(j=>j.trim());return{type:y,graph_ids:A}}if(y=="web_search"){const A={type:y};return V.trim()&&(A.include_domains=V.split(",").map(j=>j.trim()).filter(j=>j)),I.trim()&&(A.exclude_domains=I.split(",").map(j=>j.trim()).filter(j=>j)),T&&(A.include_raw_content=T),A}throw"Unexpected tool type."}function f(y){let t=[];const{originalName:a,name:V}=y;return V||t.push("The name cannot be empty."),Object.keys(b.value).includes(V)&&!(a||a==V)&&t.push("An existing tool with the specified name already exists."),t}function _(){const y=f(o.value);if(y.length>0){y.forEach(alert);return}let t;try{t=v()}catch{alert("Incorrect tool definition");return}S.value=JSON.stringify({...b.value,...o.value.originalName?{[o.value.originalName]:void 0}:{},[o.value.name]:t}),o.value.isShown=!1}function B(y,t){var V,I,T,A;const{type:a}=t;if(a=="function")return{isShown:!0,type:"function",binding:!1,originalName:y,name:y,graphIds:"",code:JSON.stringify(t,void 0,2),includeDomains:"",excludeDomains:"",includeRawContent:!1};if(a=="graph"){const j=Te.test(((V=t.graph_ids)==null?void 0:V.at(0))??"");return{isShown:!0,type:"graph",originalName:y,name:y,binding:j,graphIds:((I=t.graph_ids)==null?void 0:I.join(","))??"",code:"",includeDomains:"",excludeDomains:"",includeRawContent:!1}}if(a=="web_search")return{isShown:!0,type:"web_search",originalName:y,name:y,graphIds:"",binding:!1,code:"",includeDomains:((T=t.include_domains)==null?void 0:T.join(", "))??"",excludeDomains:((A=t.exclude_domains)==null?void 0:A.join(", "))??"",includeRawContent:t.include_raw_content??!1};throw"Unexpected tool type;"}function q(y){var a;const t=(a=b.value)==null?void 0:a[y];t&&(o.value=B(y,t))}function F(y){S.value=JSON.stringify({...b.value,[y]:void 0})}const h=k(()=>[{desc:"cancel",fn:()=>o.value.isShown=!1},{desc:"Save",disabled:l.value,fn:_}]);return(y,t)=>(s(),w("div",{class:"BuilderFieldsTools colorTransformer","data-automation-key":c.fieldKey},[C("div",ol,[(s(!0),w(L,null,ee(b.value,(a,V)=>(s(),w("div",{key:V,class:"tool",onClick:I=>q(V)},[C("div",il,te(V),1),x(H,{variant:"primary",size:"smallIcon",class:"delete",onClick:le(I=>F(V),["stop"])},{default:O(()=>[x(N,{name:"trash-2"})]),_:2},1032,["onClick"])],8,al))),128))]),x(H,{size:"small",onClick:u},{default:O(()=>[x(N,{name:"plus"}),t[9]||(t[9]=ue(" Add tool "))]),_:1}),o.value.isShown?(s(),$(Oe,{key:0,actions:h.value,title:"Add tool","allow-overflow":""},{default:O(()=>[C("div",rl,[x(Z,{label:"Tool type"},{default:O(()=>[x(dt,{modelValue:o.value.type,"onUpdate:modelValue":t[0]||(t[0]=a=>o.value.type=a)},{default:O(()=>t[10]||(t[10]=[C("option",{value:"function"},"Function",-1),C("option",{value:"graph"},"Knowledge graph",-1),C("option",{value:"web_search"},"Web search",-1)])),_:1},8,["modelValue"])]),_:1}),x(Z,{label:"Tool name"},{default:O(()=>[x(Q,{modelValue:o.value.name,"onUpdate:modelValue":t[1]||(t[1]=a=>o.value.name=a)},null,8,["modelValue"])]),_:1}),o.value.type=="function"?(s(),$(Z,{key:0,"frame-slot":!0,label:"Function tool definition"},{default:O(()=>[x(p(n),{modelValue:o.value.code,"onUpdate:modelValue":t[2]||(t[2]=a=>o.value.code=a),class:"addToolForm__codeEditor",variant:"minimal",language:"json"},null,8,["modelValue"])]),_:1})):E("",!0),o.value.type=="graph"?(s(),$(Z,{key:1,"is-binding-enabled":o.value.binding,"onUpdate:isBindingEnabled":t[5]||(t[5]=a=>o.value.binding=a),label:"Graph id(s)",hint:"Specify the id of the knowledge graph you want to use. If multiple, separate the ids using commas.","is-binding-button-shown":""},{default:O(()=>[o.value.binding?(s(),$(ne,{key:0,type:"state",value:m.value,"onUpdate:value":t[3]||(t[3]=a=>m.value=a)},null,8,["value"])):(s(),$(p(r),{key:1,modelValue:g.value,"onUpdate:modelValue":t[4]||(t[4]=a=>g.value=a),"enable-multi-selection":""},null,8,["modelValue"]))]),_:1},8,["is-binding-enabled"])):E("",!0),o.value.type=="web_search"?(s(),$(Z,{key:2,label:"Include domains (optional)",hint:"Comma-separated list of domains to search within (e.g., wikipedia.org, docs.python.org)"},{default:O(()=>[x(Q,{modelValue:o.value.includeDomains,"onUpdate:modelValue":t[6]||(t[6]=a=>o.value.includeDomains=a),placeholder:"domain1.com, domain2.org"},null,8,["modelValue"])]),_:1})):E("",!0),o.value.type=="web_search"?(s(),$(Z,{key:3,label:"Exclude domains (optional)",hint:"Comma-separated list of domains to exclude from results"},{default:O(()=>[x(Q,{modelValue:o.value.excludeDomains,"onUpdate:modelValue":t[7]||(t[7]=a=>o.value.excludeDomains=a),placeholder:"spam.com, ads.net"},null,8,["modelValue"])]),_:1})):E("",!0),o.value.type=="web_search"?(s(),$(Z,{key:4,label:"Include raw content",hint:"Include full page content in search results"},{default:O(()=>[x(He,{modelValue:o.value.includeRawContent,"onUpdate:modelValue":t[8]||(t[8]=a=>o.value.includeRawContent=a),label:"Include raw content"},null,8,["modelValue"])]),_:1})):E("",!0)])]),_:1},8,["actions"])):E("",!0)],8,ll))}}),ul=U(sl,[["__scopeId","data-v-2470800e"]]),dl=D({__name:"BuilderFieldsCode",props:{componentId:{type:String,required:!0},fieldKey:{type:String,required:!0},error:{type:String,required:!1,default:void 0},isExpanded:{type:Boolean,required:!0},inputLanguage:{type:String,required:!0}},setup(e){const r=Y({loader:()=>G(()=>import("./BuilderEmbeddedCodeEditor-CcK6bUxU.js").then(i=>i.B),__vite__mapDeps([11,1,2,12]),import.meta.url)}),n=e,d=J({componentId:M(n,"componentId"),fieldKey:M(n,"fieldKey")});return(i,o)=>(s(),$(p(r),{modelValue:p(d),"onUpdate:modelValue":o[0]||(o[0]=l=>me(d)?d.value=l:null),language:e.inputLanguage,variant:e.isExpanded?"half-screen":"minimal",class:"BuilderFieldsCode"},null,8,["modelValue","language","variant"]))}}),Pe=U(dl,[["__scopeId","data-v-6379f7e6"]]),cl=["data-automation-key"],pl=D({__name:"BuilderFieldsBlueprintKey",props:{componentId:{type:String,required:!0},fieldKey:{type:String,required:!0}},setup(e){const r=Y({loader:()=>G(()=>import("./index-DZ8PiSXb.js").then(c=>c.bo),__vite__mapDeps([1,2]),import.meta.url)}),n=R(W.core),d=R(W.builderManager),i=e,o=J({componentId:M(i,"componentId"),fieldKey:M(i,"fieldKey")}),l=k(()=>{const c=new Set;for(const u of n.getComponents("blueprints_root"))u.content.key&&c.add(u.content.key);const S=[...c].sort((u,v)=>u.localeCompare(v)).map(u=>({value:u,label:u,icon:"wds-blueprints"})),b=[{value:"",label:"(No blueprint)",icon:"block"},...S];if(!b.some(u=>u.value===o.value)){const u=o.value;b.push({value:u,label:u})}return b}),g=k(()=>{const c=n.getComponents("blueprints_root").find(S=>S.content.key===o.value);return c==null?void 0:c.id});function m(){g.value&&(d.setSelection(g.value,null,"click"),n.setActivePageId(g.value))}return(c,S)=>(s(),w("div",{class:"BuilderFieldsBlueprintKey","data-automation-key":i.fieldKey},[x(p(r),{modelValue:p(o),"onUpdate:modelValue":S[0]||(S[0]=b=>me(o)?o.value=b:null),options:l.value},null,8,["modelValue","options"]),g.value?(s(),$(H,{key:0,variant:"neutral",size:"smallIcon","data-writer-tooltip":"Jump to the blueprint",onClick:m},{default:O(()=>[x(N,{name:"square-dashed-mouse-pointer"})]),_:1})):E("",!0)],8,cl))}}),vl=U(pl,[["__scopeId","data-v-f1beb9af"]]),ml=["data-automation-key"],fl=D({__name:"BuilderFieldsBlueprintId",props:{componentId:{type:String,required:!0},fieldKey:{type:String,required:!0}},setup(e){const r=R(W.core),n=e,d=k(()=>r.getComponentById(n.componentId)),i=k(()=>{var o;return((o=d.value)==null?void 0:o.parentId)??""});return(o,l)=>(s(),w("div",{class:"BuilderFieldsBlueprintId","data-automation-key":n.fieldKey},[x(Q,{"model-value":i.value,disabled:""},null,8,["model-value"])],8,ml))}}),yl=U(fl,[["__scopeId","data-v-23c33b8b"]]),gl=["data-automation-key"],_l=D({__name:"BuilderFieldsHandler",props:{componentId:{type:String,required:!0},fieldKey:{type:String,required:!0}},setup(e){const r=Y({loader:()=>G(()=>import("./index-DZ8PiSXb.js").then(l=>l.bo),__vite__mapDeps([1,2]),import.meta.url)}),n=R(W.core),d=e,i=J({componentId:M(d,"componentId"),fieldKey:M(d,"fieldKey")}),o=k(()=>{const l=n.userFunctions.value.map(m=>m.name).sort((m,c)=>m.localeCompare(c)).map(m=>({value:m,label:m,icon:"wds-function"})),g=[{value:"",label:"(No handler)",icon:"ban"},...l];if(!g.some(m=>m.value===i.value)){const m=i.value;g.push({value:m,label:m})}return g});return(l,g)=>(s(),w("div",{class:"BuilderFieldsHandler","data-automation-key":d.fieldKey},[x(p(r),{modelValue:p(i),"onUpdate:modelValue":g[0]||(g[0]=m=>me(i)?i.value=m:null),options:o.value},null,8,["modelValue","options"])],8,gl))}}),bl=["data-automation-key"],hl=["href","data-writer-tooltip"],Sl=D({__name:"BuilderFieldsWriterResourceId",props:{componentId:{type:String,required:!0},fieldKey:{type:String,required:!0},label:{type:String,required:!1,default:void 0},unit:{type:String,required:!1,default:void 0},hint:{type:String,required:!1,default:void 0},error:{type:String,required:!1,default:void 0},resourceType:{type:String,required:!0},enableMultiSelection:{type:Boolean,required:!1,default:!1},isBindingButtonShown:{type:Boolean,required:!1,default:!1}},setup(e){const r=Y({loader:()=>G(()=>import("./BuilderApplicationSelect-BdTr3JrG.js"),__vite__mapDeps([16,1,2,14,17]),import.meta.url)}),n=Y({loader:()=>G(()=>import("./BuilderGraphSelect-BJGU7UFw.js"),__vite__mapDeps([13,1,2,14,15]),import.meta.url)}),d=Y({loader:()=>G(()=>import("./BuilderModelSelect-DF-gx_tL.js"),__vite__mapDeps([18,1,2,14,19]),import.meta.url)}),i=e,o=J({componentId:M(i,"componentId"),fieldKey:M(i,"fieldKey")}),{isBindingMode:l,toggleBindingMode:g}=Xe({fieldViewModel:o}),m=J({componentId:M(i,"componentId"),fieldKey:"appInputs"}),c=K("selectorEl"),S=k(()=>{switch(i.resourceType){case"model":return d;case"graph":return n;case"application":return r;default:throw new Error(`Unexpected resourceType: ${i.resourceType}`)}}),b=k(()=>{switch(i.resourceType){case"graph":return"Edit knowledge graph";case"application":return"Edit agent";case"model":return"About models";default:return}}),u=k(()=>{var q,F;if(Array.isArray(v.value))return;const _=v.value;if(!_)return;const B=(F=(q=c.value)==null?void 0:q.selectedData)==null?void 0:F.organization_id;if(B)switch(i.resourceType){case"graph":{const h=new URLSearchParams({graphId:_});return`https://app.writer.com/aistudio/organization/${B}/knowledge-graph?${h}`}case"application":return`https://app.writer.com/aistudio/organization/${B}/app/${_}`;case"model":return"https://dev.writer.com/home/models#model-overview";default:return}}),v=k({get(){if(i.enableMultiSelection){const _=o.value||"[]";try{return JSON.parse(_)}catch{return[]}}return o.value},set(_){o.value=i.enableMultiSelection?JSON.stringify(_):String(_)}});function f(_){i.resourceType!=="application"||!_||!_.inputs||typeof _.inputs!="object"||(m.value=JSON.stringify(_.inputs))}return(_,B)=>(s(),$(Z,{"is-binding-button-shown":e.isBindingButtonShown,"is-binding-enabled":p(l),label:e.label,unit:e.unit,hint:e.hint,error:e.error,"data-automation-key":e.fieldKey,"onUpdate:isBindingEnabled":p(g)},{default:O(()=>[C("div",{class:"BuilderFieldsWriterResourceId","data-automation-key":e.fieldKey},[p(l)?(s(),$(Me,{key:0,type:"state-template","component-id":e.componentId,"field-key":e.fieldKey,error:e.error,"default-value":""},null,8,["component-id","field-key","error"])):(s(),$(Ve(S.value),{key:1,ref_key:"selectorEl",ref:c,modelValue:v.value,"onUpdate:modelValue":B[0]||(B[0]=q=>v.value=q),"enable-multi-selection":e.enableMultiSelection,onSelectedData:f},null,40,["modelValue","enable-multi-selection"])),u.value?(s(),w("a",{key:2,class:"BuilderFieldsWriterResourceId__link",href:u.value,target:"_blank","data-writer-tooltip":b.value},[x(N,{name:"external-link"})],8,hl)):E("",!0)],8,bl)]),_:1},8,["is-binding-button-shown","is-binding-enabled","label","unit","hint","error","data-automation-key","onUpdate:isBindingEnabled"]))}}),Se=U(Sl,[["__scopeId","data-v-59e28cc4"]]),kl=["data-automation-key"],Il=D({__name:"BuilderFieldsComponentId",props:{componentId:{type:String,required:!0},fieldKey:{type:String,required:!0},error:{type:String,required:!1,default:void 0}},setup(e){const r=Y({loader:()=>G(()=>import("./index-DZ8PiSXb.js").then(u=>u.bo),__vite__mapDeps([1,2]),import.meta.url)}),n=R(W.core),d=R(W.builderManager),i=e,o=J({componentId:M(i,"componentId"),fieldKey:M(i,"fieldKey")});function*l(){yield n.getComponentById("root"),yield*n.getComponentsNested("root")}const g=k(()=>{const u=[];for(const v of l()){const f=n.getComponentDefinition(v==null?void 0:v.type);if(!(f!=null&&f.events)||Object.keys(f.events).length===0)continue;const{name:_,previewText:B,possibleImageUrls:q}=Je(n,v),F=q.value,h=v.id;u.push({value:h,label:B.value||_.value,detail:B.value?_.value:void 0,icon:F})}return u}),m=k({get:()=>o.value,set(u){o.value=String(u)}}),c=k(()=>{let u=m.value;for(;u;){const v=n.getComponentById(u);if(v.type==="page")return v.id;u=v.parentId}}),S=k(()=>n.getComponentById(m.value));function b(){!m.value||!S.value||(c.value&&(d.mode.value="ui",n.setActivePageId(c.value)),d.setSelection(m.value,null,"click"))}return(u,v)=>(s(),w("div",{class:"BuilderFieldsComponentId","data-automation-key":i.fieldKey},[x(p(r),{modelValue:m.value,"onUpdate:modelValue":v[0]||(v[0]=f=>m.value=f),options:g.value,"enable-search":""},null,8,["modelValue","options"]),m.value?(s(),$(H,{key:0,variant:"neutral",size:"smallIcon","data-writer-tooltip":"Jump to the element",disabled:!S.value,onClick:b},{default:O(()=>[x(N,{name:"square-dashed-mouse-pointer"})]),_:1},8,["disabled"])):E("",!0)],8,kl))}}),Bl=U(Il,[["__scopeId","data-v-fcce992f"]]),Cl=["data-automation-key"],El=D({__name:"BuilderFieldsComponentEventType",props:{componentId:{type:String,required:!0},fieldKey:{type:String,required:!0},error:{type:String,required:!1,default:void 0}},setup(e){const r=Y({loader:()=>G(()=>import("./index-DZ8PiSXb.js").then(c=>c.bo),__vite__mapDeps([1,2]),import.meta.url)}),n=R(W.core),d=e,i=J({componentId:M(d,"componentId"),fieldKey:M(d,"fieldKey")}),o=k(()=>n.getComponentById(d.componentId)),l=k(()=>{var c;return n.getComponentDefinition((c=o.value)==null?void 0:c.type)}),g=k(()=>{var v,f;const c=(f=Object.entries(((v=l.value)==null?void 0:v.fields)??{}).find(([,_])=>_.type===P.ComponentId))==null?void 0:f.at(0);if(c===void 0)return[];const S=o.value.content[String(c)],b=n.getComponentById(S),u=n.getComponentDefinition(b==null?void 0:b.type);return u!=null&&u.events?Object.keys(u.events).map(_=>({value:_,label:_})):[]}),m=k({get:()=>i.value,set(c){i.value=String(c)}});return(c,S)=>(s(),w("div",{class:"BuilderFieldsComponentEventType","data-automation-key":d.fieldKey},[g.value.length?(s(),$(p(r),{key:0,modelValue:m.value,"onUpdate:modelValue":S[0]||(S[0]=b=>m.value=b),options:g.value,"hide-icons":""},null,8,["modelValue","options"])):(s(),$(Q,{key:1,modelValue:m.value,"onUpdate:modelValue":S[1]||(S[1]=b=>m.value=b)},null,8,["modelValue"]))],8,Cl))}});function wl(e,r,n){const{getEvaluatedFields:d}=we(e,n);function i(c){return!!Te.exec(c)}const o=k(()=>{var c;return(c=r.value.at(-1))==null?void 0:c.componentId}),l=k(()=>{if(o.value!==void 0)return e.getComponentById(o.value)}),g=k(()=>{var c,S;return(c=l.value)!=null&&c.type?((S=e.getComponentDefinition(l.value.type))==null?void 0:S.fields)??{}:{}}),m=k(()=>d(r.value));return k(()=>Object.entries(g.value).reduce((c,[S,b])=>{var f;const u=((f=l.value.content)==null?void 0:f[S])??"";if(i(u))return c;const v=m.value[S].value;return c[S]=xl(e,o.value,b,v),c},{}))}function xl(e,r,n,d){let i=n.validator;if(i===void 0&&typeof n.options=="object"&&n.options!==null&&Object.keys(n.options).length>0?i=ct(Object.keys(n.options)):typeof i=="function"&&(i=i(e,r)),i===void 0)return;const o=pt(i);if(!(o(d)||o.errors===void 0))return Tl(o.errors)}function $l(e){var n;if(e.keyword==="format"&&Object.values(vt).includes(e.params.format))return mt[e.params.format].errorMessage;let r="";return e.instancePath&&(r+=`${e.instancePath} `),r+=e.message,Array.isArray((n=e.params)==null?void 0:n.allowedValues)&&(r+=`: ${e.params.allowedValues.join(", ")}`),r}function Tl(e){return e.map($l).join(`
`)}const Vl={key:0,class:"BuilderSettingsProperties"},Fl=["inert"],Ol=D({__name:"BuilderSettingsProperties",props:{isReadOnly:{type:Boolean}},setup(e){const r=R(W.core),n=R(W.builderManager),d=R(W.secretsManager),i=X(new Set),o=k(()=>{var t,a;return ze((a=(t=n.firstSelectedItem)==null?void 0:t.value)==null?void 0:a.instancePath)}),l=k(()=>r.getComponentById(n.firstSelectedId.value)),g=k(()=>{var t;return r.getComponentDefinition((t=l.value)==null?void 0:t.type)}),{getEvaluatedFields:m}=we(r,d),c=k(()=>m(o.value)),S=k(()=>{var a;const t=Object.entries(((a=g.value)==null?void 0:a.fields)??{}).filter(([V,I])=>I.isArtifactField?!1:I.enabled===void 0?!0:I.enabled({evaluatedFields:c.value}));return Object.fromEntries(t)});function b(t){return t.type===P.Code||t.type===P.JSONInput||t.type===P.Object||t.control===ke.Textarea}const u=wl(r,o,d),v=X(z.General),f=Object.freeze({[z.General]:"Configure",[z.Style]:"Style",[z.Tools]:"Tools"}),_=k(()=>B.value.map(t=>({label:f[t]??t,value:t}))),B=k(()=>[z.General,z.Style,z.Tools].filter(t=>{var a;return(a=q.value[t])==null?void 0:a.length})),q=k(()=>{const t={[z.General]:[],[z.Style]:[],[z.Tools]:[]};return Object.entries(S.value).forEach(([a,V])=>{const I=V.category||z.General;t[I]&&t[I].push([a,V])}),{[z.General]:F(t[z.General]),[z.Style]:F(t[z.Style]),[z.Tools]:F(t[z.Tools])}});function F(t){return t.map((a,V)=>[a,V]).sort(([a,V],[I,T])=>{const A=a[1].order??0;return(I[1].order??0)-A||V-T}).map(([a])=>a)}function h(t){i.value.add(t)}function y(t){i.value.delete(t)}return(t,a)=>p(n).isSingleSelectionActive?(s(),w("div",Vl,[B.value.length>1?(s(),$(ae,{key:0,modelValue:v.value,"onUpdate:modelValue":a[0]||(a[0]=V=>v.value=V),variant:"bar",tabs:_.value},null,8,["modelValue","tabs"])):E("",!0),(s(!0),w(L,null,ee(B.value.length>1?[v.value]:B.value,V=>(s(),w("div",{key:V,inert:e.isReadOnly,class:"BuilderSettingsProperties__category"},[(s(!0),w(L,null,ee(q.value[V],([I,T])=>(s(),w("div",{key:I,class:"BuilderSettingsProperties__category__field"},[T.type===p(P).Boolean?(s(),$(cn,{key:0,"field-key":I,"component-id":l.value.id,label:T.name??I,hint:T.desc,unit:T.type,error:p(u)[I]},null,8,["field-key","component-id","label","hint","unit","error"])):T.type===p(P).WriterGraphId?(s(),$(Se,{key:1,"is-binding-button-shown":"","field-key":I,"component-id":l.value.id,label:T.name??I,hint:T.desc,unit:T.type,error:p(u)[I],"resource-type":"graph"},null,8,["field-key","component-id","label","hint","unit","error"])):T.type===p(P).WriterGraphIds?(s(),$(Se,{key:2,"is-binding-button-shown":"","field-key":I,"component-id":l.value.id,label:T.name??I,hint:T.desc,unit:T.type,error:p(u)[I],"resource-type":"graph","enable-multi-selection":""},null,8,["field-key","component-id","label","hint","unit","error"])):T.type===p(P).WriterAppId?(s(),$(Se,{key:3,"field-key":I,"component-id":l.value.id,label:T.name??I,hint:T.desc,unit:T.type,error:p(u)[I],"resource-type":"application"},null,8,["field-key","component-id","label","hint","unit","error"])):T.type===p(P).WriterModelId?(s(),$(Se,{key:4,"field-key":I,"component-id":l.value.id,label:T.name??I,hint:T.desc,unit:T.type,error:p(u)[I],"resource-type":"model"},null,8,["field-key","component-id","label","hint","unit","error"])):(s(),$(Z,{key:5,label:V==="Tools"?void 0:T.name??I,hint:T.desc,unit:T.type,error:p(u)[I],"is-expansible":b(T),onExpand:A=>h(I),onShrink:A=>y(I)},{default:O(()=>[T.type==p(P).Color?(s(),$(an,{key:0,"field-key":I,"component-id":l.value.id,error:p(u)[I]},null,8,["field-key","component-id","error"])):E("",!0),T.type==p(P).Shadow?(s(),$(Hn,{key:1,"field-key":I,"component-id":l.value.id,error:p(u)[I]},null,8,["field-key","component-id","error"])):E("",!0),T.type==p(P).KeyValue?(s(),$(In,{key:2,"field-key":I,"component-id":l.value.id,"instance-path":o.value,error:p(u)[I]},null,8,["field-key","component-id","instance-path","error"])):E("",!0),T.type==p(P).Text||T.type==p(P).Number||T.type==p(P).Binding||T.type==p(P).IdKey?(s(),$(Me,{key:3,type:T.type==p(P).Binding?"state":"template","field-key":I,"field-control":T.control,"component-id":l.value.id,"default-value":T.default,error:p(u)[I]},null,8,["type","field-key","field-control","component-id","default-value","error"])):E("",!0),T.type==p(P).BlueprintId?(s(),$(yl,{key:4,"field-key":I,"component-id":l.value.id},null,8,["field-key","component-id"])):E("",!0),T.type==p(P).BlueprintKey?(s(),$(vl,{key:5,"field-key":I,"component-id":l.value.id},null,8,["field-key","component-id"])):E("",!0),T.type==p(P).Handler?(s(),$(_l,{key:6,"field-key":I,"component-id":l.value.id},null,8,["field-key","component-id"])):E("",!0),T.type==p(P).Object?(s(),$(Cn,{key:7,"field-key":I,"component-id":l.value.id,"default-value":T.default,error:p(u)[I]},null,8,["field-key","component-id","default-value","error"])):E("",!0),T.type==p(P).JSONInput?(s(),$(Pe,{key:8,"field-key":I,"component-id":l.value.id,"is-expanded":i.value.has(I),"input-language":"json"},null,8,["field-key","component-id","is-expanded"])):E("",!0),T.type==p(P).Width?(s(),$(nl,{key:9,"field-key":I,"component-id":l.value.id,error:p(u)[I]},null,8,["field-key","component-id","error"])):E("",!0),T.type==p(P).HAlign?(s(),$(We,{key:10,direction:"horizontal","field-key":I,"component-id":l.value.id,error:p(u)[I]},null,8,["field-key","component-id","error"])):E("",!0),T.type==p(P).VAlign?(s(),$(We,{key:11,direction:"vertical","field-key":I,"component-id":l.value.id,error:p(u)[I]},null,8,["field-key","component-id","error"])):E("",!0),T.type==p(P).Padding?(s(),$(Vn,{key:12,"field-key":I,"component-id":l.value.id,error:p(u)[I]},null,8,["field-key","component-id","error"])):E("",!0),T.type==p(P).Tools?(s(),$(ul,{key:13,"field-key":I,"component-id":l.value.id},null,8,["field-key","component-id"])):E("",!0),T.type==p(P).Code?(s(),$(Pe,{key:14,"field-key":I,"component-id":l.value.id,"is-expanded":i.value.has(I),"input-language":"python"},null,8,["field-key","component-id","is-expanded"])):E("",!0),T.type==p(P).ComponentId?(s(),$(Bl,{key:15,"field-key":I,"component-id":l.value.id,error:p(u)[I]},null,8,["field-key","component-id","error"])):E("",!0),T.type==p(P).ComponentEventType?(s(),$(El,{key:16,"field-key":I,"component-id":l.value.id,error:p(u)[I]},null,8,["field-key","component-id","error"])):E("",!0)]),_:2},1032,["label","hint","unit","error","is-expansible","onExpand","onShrink"]))]))),128))],8,Fl))),128))])):E("",!0)}}),ql=U(Ol,[["__scopeId","data-v-6fa8dfdf"]]),Ml={},Al={class:"WdsTitle"};function Dl(e,r){return s(),w("h2",Al,[Ne(e.$slots,"default",{},void 0,!0)])}const Qe=U(Ml,[["render",Dl],["__scopeId","data-v-3b68d589"]]),Rl=["inert"],Wl="Connect the result of this block to a dynamic variable you can use across this agent",Pl=D({__name:"BuilderSettingsBinding",props:{isReadOnly:{type:Boolean}},setup(e){const r=R(W.core),n=R(W.builderManager),d=R(W.secretsManager),i=Ce(r,n),{getEvaluatedFields:o}=we(r,d),l=k(()=>{var b,u;return ze((u=(b=n.firstSelectedItem)==null?void 0:b.value)==null?void 0:u.instancePath)}),g=k(()=>r.getComponentById(n.firstSelectedId.value)),m=k(()=>o(l.value)),c=k(()=>{const b=r.getComponentDefinition(g.value.type);return b?Object.entries(b.events).filter(([,f])=>f.bindable?f.enabled===void 0?!0:f.enabled({evaluatedFields:m.value}):!1).map(([f])=>f)[0]:void 0});function S(b){i.setBinding(n.firstSelectedId.value,b,c.value)}return ve(c,()=>{var u;if(!c.value)return;const b=(u=g.value)==null?void 0:u.binding;b!=null&&b.stateRef&&c.value!==b.eventType&&S(b.stateRef)}),(b,u)=>p(n).isSingleSelectionActive?(s(),w("div",{key:0,inert:e.isReadOnly,class:"BuilderSettingsBinding"},[x(Qe,null,{default:O(()=>u[1]||(u[1]=[ue("Binding")])),_:1}),x(Z,{class:"BuilderSettingsBinding__main",label:"Link Variable",hint:Wl},{default:O(()=>{var v;return[x(ne,{type:"state",value:(v=g.value.binding)==null?void 0:v.stateRef,"component-id":p(n).firstSelectedId.value,onInput:u[0]||(u[0]=f=>S(f.target.value))},null,8,["value","component-id"])]}),_:1})],8,Rl)):E("",!0)}}),Ul=U(Pl,[["__scopeId","data-v-f92e4a05"]]),Kl=["inert"],jl={class:"main"},Ll={class:"flexRow"},Nl=["checked"],zl='Reference a state or context element that will evaluate to true or false. Reference the element directly, i.e. use "my_var" instead of "@{my_var}".',Yl=D({__name:"BuilderSettingsVisibility",props:{isReadOnly:{type:Boolean}},setup(e){const r=[{label:"Yes",value:"yes"},{label:"No",value:"no"},{label:"Custom",value:"custom"}],n=k({get(){const g=l.value.visible;return(g==null?void 0:g.expression)==="custom"?"custom":g===void 0||g.expression===!0?"yes":"no"},set(g){var m,c;g==="custom"?o(l.value.id,"custom",(m=l.value.visible)==null?void 0:m.binding,(c=l.value.visible)==null?void 0:c.reversed):o(l.value.id,g==="yes")}}),d=R(W.core),i=R(W.builderManager),{setVisibleValue:o}=Ce(d,i),l=k(()=>d.getComponentById(i.firstSelectedId.value));return(g,m)=>p(i).isSingleSelectionActive?(s(),w("div",{key:0,inert:e.isReadOnly,class:"BuilderSettingsVisibility"},[x(Qe,null,{default:O(()=>m[3]||(m[3]=[ue("Visibility")])),_:1}),C("div",jl,[x(ae,{modelValue:n.value,"onUpdate:modelValue":m[0]||(m[0]=c=>n.value=c),tabs:r},null,8,["modelValue"]),typeof l.value.visible<"u"&&l.value.visible.expression==="custom"?(s(),$(Z,{key:0,hint:zl},{default:O(()=>[x(ne,{value:l.value.visible.binding,type:"state",placeholder:"my_visibility_state_value",onInput:m[1]||(m[1]=c=>p(o)(l.value.id,"custom",c.target.value,l.value.visible.reversed))},null,8,["value"]),C("div",Ll,[C("input",{type:"checkbox",checked:l.value.visible.reversed,onInput:m[2]||(m[2]=c=>p(o)(l.value.id,"custom",l.value.visible.binding,c.target.checked))},null,40,Nl),m[4]||(m[4]=C("span",null,"Reverse",-1))])]),_:1})):E("",!0)])],8,Kl)):E("",!0)}}),Gl=U(Yl,[["__scopeId","data-v-c4316bf1"]]),Ue={apiTriggerDetails:Y({loader:()=>G(()=>import("./BuilderSettingsArtifactAPITriggerDetails-BY7SoAK3.js"),__vite__mapDeps([20,1,2,8,9,3,4,5,6,7,21]),import.meta.url)})},Jl={class:"BuilderSettingsMain"},Hl={key:0,class:"BuilderSettingsMain__description"},Xl={key:1,class:"BuilderSettingsMain__warning cmc-warning"},Ql={class:"BuilderSettingsMain__section"},Zl={class:"BuilderSettingsMain__componentId"},eo=D({__name:"BuilderSettingsMain",setup(e){const r=Y({loader:()=>G(()=>import("./BuilderSettingsHandlers-D3wmSFRL.js"),__vite__mapDeps([22,1,2,23,5,6,24,25,26,3,4,7,8,9,27]),import.meta.url)}),n=R(W.core),d=R(W.builderManager),i=k(()=>n.getComponentById(d.firstSelectedId.value)),o=k(()=>i.value.isCodeManaged),l=k(()=>d.isSingleSelectionActive.value?!g.value.toolkit||g.value.toolkit=="core":!1),g=k(()=>{const{type:f}=i.value;return n.getComponentDefinition(f)});ve(i,f=>{f||d.setSelection(null)});const{copy:m,copied:c}=Ye();function S(){m(d.firstSelectedId.value)}const b=k(()=>{var f;return Object.values(((f=g.value)==null?void 0:f.events)??{}).some(_=>_.bindable)}),u=k(()=>{var f;return(((f=g.value)==null?void 0:f.settingsArtifacts)??[]).filter(_=>_.position!=="bottom")}),v=k(()=>{var f;return(((f=g.value)==null?void 0:f.settingsArtifacts)??[]).filter(_=>_.position==="bottom")});return(f,_)=>(s(),w("div",Jl,[g.value.description?(s(),w("p",Hl,te(g.value.description),1)):E("",!0),o.value?(s(),w("p",Xl,[C("span",null,[x(N,{name:"triangle-alert"})]),_[0]||(_[0]=C("span",null," This component is instantiated in code. All settings in this panel are read-only and cannot be edited. ",-1))])):E("",!0),C("div",Ql,[x(ql,{"is-read-only":o.value},null,8,["is-read-only"]),(s(!0),w(L,null,ee(u.value,B=>(s(),$(Ve(p(Ue)[B.key]),{key:B.key,inert:o.value},null,8,["inert"]))),128)),l.value?(s(),w(L,{key:0},[b.value?(s(),$(Ul,{key:0,"is-read-only":o.value},null,8,["is-read-only"])):E("",!0),x(p(r),{"is-read-only":o.value},null,8,["is-read-only"]),x(Gl,{"is-read-only":o.value},null,8,["is-read-only"])],64)):E("",!0),(s(!0),w(L,null,ee(v.value,B=>(s(),$(Ve(p(Ue)[B.key]),{key:B.key,inert:o.value},null,8,["inert"]))),128))]),_[1]||(_[1]=C("div",{class:"BuilderSettingsMain__spacer"},null,-1)),C("div",Zl,[C("p",{class:"BuilderSettingsMain__componentId__text",onClick:S},te(p(d).firstSelectedId.value),1),x(H,{class:"BuilderSettingsMain__componentId__btn",size:"smallIcon",variant:"tertiary","data-writer-tooltip":p(c)?"Copied!":"Copy block id","data-automation-action":"copy-component-id",onClick:S},{default:O(()=>[x(N,{name:p(c)?"check":"clipboard"},null,8,["name"])]),_:1},8,["data-writer-tooltip"])])]))}}),to=U(eo,[["__scopeId","data-v-aa8c395b"]]),no=["data-writer-id"],lo=D({__name:"BuilderSettingsActions",setup(e){const r=R(W.core),n=R(W.builderManager),d=qe(r),{dropdownOptions:i,handleDropdownSelect:o}=Ge(r,n,d);function l(){o(Fe.Delete)}const g=k(()=>{const c=i.value.find(S=>S.value===Fe.Delete);return c?c.disabled:!0}),m=n.firstSelectedId;return(c,S)=>(s(),w("div",{class:"BuilderSettingsActions","data-writer-id":p(m)},[p(n).selectionStatus.value===p(pe).Multiple?(s(),$(H,{key:0,class:"BuilderSettingsActions__btn",variant:"neutral",size:"smallIcon","data-automation-action":"clear-selection","data-writer-tooltip":"Clear selection","data-writer-tooltip-placement":"left",onClick:S[0]||(S[0]=b=>p(n).setSelection(null))},{default:O(()=>[x(N,{name:"x"})]),_:1})):E("",!0),x(H,{class:"BuilderSettingsActions__btn BuilderSettingsActions__btn--delete",variant:"neutral",size:"smallIcon","data-automation-action":"delete","data-writer-tooltip":"Delete (Del)","data-writer-tooltip-placement":"left",disabled:g.value,onClick:l},{default:O(()=>[x(N,{name:"trash-2"})]),_:1},8,["disabled"])],8,no))}}),oo=U(lo,[["__scopeId","data-v-08efde31"]]),ao=["id"],io=["value"],ro=D({__name:"BuilderSettingsAddComponentModal",props:ie({selectedId:{type:String,required:!0}},{isOpen:{type:Boolean,default:!1},isOpenModifiers:{}}),emits:["update:isOpen"],setup(e){const r=R(W.core),n=R(W.builderManager),d=ft(),i=qe(r),{createAndInsertComponent:o}=Ce(r,n,i),l=e,g=k(()=>r.getContainableTypes(l.selectedId).reduce((b,u)=>(b[u]=r.getComponentDefinition(u),b),{})),m=fe(e,"isOpen");function c(){m.value=!1}function S(b){const u=b.target.value;if(!u)return;const v=Object.entries(g.value).find(([_,B])=>B.name==u);if(!v)return;const f=v[0];o(f,l.selectedId),c()}return(b,u)=>m.value?(s(),$(Oe,{key:0,title:"Add child component","display-close-button":"",onClose:c},{default:O(()=>[x(Q,{type:"text",list:p(d),placeholder:"Component...",onChange:S},null,8,["list"]),C("datalist",{id:p(d)},[(s(!0),w(L,null,ee(g.value,(v,f)=>(s(),w("option",{key:f,value:v.name},te(v.name),9,io))),128))],8,ao)]),_:1})):E("",!0)}});function so(e,r=500){const n=X(0);let d=null;function i(){e.value&&(n.value=e.value.clientHeight)}return re(()=>{i(),d=setInterval(i,r)}),Le(()=>{d&&clearInterval(d)}),n}const uo={key:0,class:"BuilderSettings__collapser"},co={key:1,class:"BuilderSettings__titleBar"},po={class:"BuilderSettings__titleBar__title"},vo={class:"BuilderSettings__titleBar__actions"},mo=["data-writer-tooltip"],fo=D({__name:"BuilderSettings",setup(e){yt(h=>({baa1d07a:p(n).getMode()=="blueprints"?"82px":"20px","1e1ab0af":o.value}));const r=R(W.core),n=R(W.builderManager),d=K("root"),i=so(d,1e3),o=k(()=>{if(!i.value)return"unset";const h=i.value-42;return h>0?`${h}px`:"unset"}),{component:l,definition:g}=gt(r,n.firstSelectedId),m=_t(l,g),{copy:c,copied:S}=Ye();function b(){c(m.value)}const u=qe(r),v=X(!1),{dropdownOptions:f,handleDropdownSelect:_}=Ge(r,n,u,{[Fe.Add]:()=>v.value=!0}),B=k(()=>n.selectionStatus.value===pe.Multiple?!0:n.isSettingsBarCollapsed.value),q=k(()=>n.selection.value.length);function F(){n.isSettingsBarCollapsed.value=!n.isSettingsBarCollapsed.value}return ve(l,h=>{h||n.setSelection(null)}),(h,y)=>p(n).selectionStatus.value!==p(pe).None?(s(),w("div",{key:0,ref_key:"root",ref:d,class:Ee(["BuilderSettings",{"BuilderSettings--collapsed":B.value}])},[p(n).isSingleSelectionActive.value?(s(),w("div",uo,[B.value?(s(),$(H,{key:0,class:"BuilderSettings__collapser__btn",size:"smallIcon",variant:"neutral","data-writer-tooltip-placement":"left","data-writer-tooltip":"Expand settings","data-automation-action":"expand-settings",onClick:F},{default:O(()=>[x(N,{name:"settings"})]),_:1})):(s(),$(H,{key:1,class:"BuilderSettings__collapser__btn",size:"smallIcon",variant:"neutral","data-writer-tooltip-placement":"left","data-writer-tooltip":"Collapse settings","data-automation-action":"collapse-settings",onClick:F},{default:O(()=>[x(N,{name:"arrow-right-to-line"})]),_:1}))])):E("",!0),p(n).isSingleSelectionActive?(s(),w("div",co,[C("p",po,te(p(g).name),1),C("div",vo,[p(m)?(s(),$(H,{key:0,size:"smallIcon",variant:"neutral","data-writer-tooltip-placement":"bottom","data-writer-tooltip":p(S)?"Copied!":"Copy result variable",onClick:le(b,["prevent"])},{default:O(()=>[x(N,{name:"at-sign"})]),_:1},8,["data-writer-tooltip"])):E("",!0),x(bt,{class:"BuilderSettings__titleBar__actions__more","data-automation-action":"settings-actions-dropdown",options:p(f),"trigger-custom-size":"32px","trigger-icon":"ellipsis-vertical",onSelect:p(_)},null,8,["options","onSelect"])])])):E("",!0),p(n).selectionStatus.value===p(pe).Multiple?(s(),w("div",{key:2,class:"BuilderSettings__selectionCount","data-writer-tooltip-placement":"left","data-writer-tooltip":`${q.value} components selected`},[C("p",null,te(q.value),1)],8,mo)):E("",!0),B.value&&p(n).selectionStatus.value===p(pe).Multiple?(s(),$(oo,{key:3,class:"BuilderSettings__actions"})):E("",!0),x(to,{class:"BuilderSettings__main",inert:B.value},null,8,["inert"]),p(n).isSingleSelectionActive.value?(s(),$(ro,{key:4,"is-open":v.value,"onUpdate:isOpen":y[0]||(y[0]=t=>v.value=t),"selected-id":p(n).firstSelectedId.value},null,8,["is-open","selected-id"])):E("",!0)],2)):E("",!0)}}),yo=U(fo,[["__scopeId","data-v-6a0c1c16"]]),ko=Object.freeze(Object.defineProperty({__proto__:null,default:yo},Symbol.toStringTag,{value:"Module"}));export{Pe as B,Qe as W,ae as a,ko as b,It as u};
