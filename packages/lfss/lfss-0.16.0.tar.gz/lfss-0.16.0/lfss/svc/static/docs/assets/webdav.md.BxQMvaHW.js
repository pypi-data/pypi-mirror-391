import{_ as t,c as i,o,af as s}from"./chunks/framework.CkHvLvtj.js";const b=JSON.parse('{"title":"WebDAV","description":"","frontmatter":{},"headers":[],"relativePath":"webdav.md","filePath":"webdav.md"}'),a={name:"webdav.md"};function l(d,e,r,n,c,h){return o(),i("div",null,[...e[0]||(e[0]=[s('<h1 id="webdav" tabindex="-1">WebDAV <a class="header-anchor" href="#webdav" aria-label="Permalink to “WebDAV”">​</a></h1><p>It is convinient to make LFSS WebDAV compatible, because they both use HTTP <code>GET</code>, <code>PUT</code>, <code>DELETE</code> methods to interact with files.</p><p>However, WebDAV utilize more HTTP methods, which are disabled by default in LFSS, because they may not be supported by many middlewares or clients.</p><p>The WebDAV support can be enabled by setting the <code>LFSS_WEBDAV</code> environment variable to <code>1</code>. i.e.</p><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">LFSS_WEBDAV</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">1</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> lfss-serve</span></span></code></pre></div><p>Please note:</p><ol><li><strong>WebDAV support is experimental, and is currently not well-tested.</strong></li><li>LFSS not allow creating files in the root directory, however some client such as <a href="https://sabre.io/dav/clients/finder/" target="_blank" rel="noreferrer">Finder</a> will try to create files in the root directory. Thus, it is safer to mount the user directory only, e.g. <code>http://localhost:8000/&lt;username&gt;/</code>.</li><li>LFSS not allow directory creation, instead it creates directoy implicitly when a file is uploaded to a non-exist directory. i.e. <code>PUT http://localhost:8000/&lt;username&gt;/dir/file.txt</code> will create the <code>dir</code> directory if it does not exist. However, the WebDAV <code>MKCOL</code> method requires the directory to be created explicitly, so WebDAV <code>MKCOL</code> method instead create a decoy file on the path (<code>.lfss_keep</code>), and hide the file from the file listing by <code>PROPFIND</code> method. This leads to: <ol><li>You may see a <code>.lfss_keep</code> file in the directory with native file listing (e.g. <code>/_api/list-files</code>), but it is hidden in WebDAV clients.</li><li>The directory may be deleted if there is no file in it and the <code>.lfss_keep</code> file is not created by WebDAV client.</li></ol></li></ol>',7)])])}const f=t(a,[["render",l]]);export{b as __pageData,f as default};
