import{_ as i,c as a,o as e,af as t}from"./chunks/framework.CkHvLvtj.js";const u=JSON.parse('{"title":"Virtual User","description":"","frontmatter":{},"headers":[],"relativePath":"virtual-user.md","filePath":"virtual-user.md"}'),n={name:"virtual-user.md"};function l(h,s,p,r,k,d){return e(),a("div",null,[...s[0]||(s[0]=[t(`<h1 id="virtual-user" tabindex="-1">Virtual User <a class="header-anchor" href="#virtual-user" aria-label="Permalink to “Virtual User”">​</a></h1><blockquote><p>Added in v0.16.0.</p></blockquote><p>Virtual user is a user without its own path. It can only access files and directories under other users&#39; paths according to the peer user settings, and anybody want to access virtual user&#39;s path will get permission denied.</p><p>In addition, virtual users is preferred to have an expiry time, after which they can no longer access the system. This makes virtual users essentially &quot;access keys&quot; to some users&#39; paths.</p><p>The virtual user always have a name starting with <code>.v-</code>, a typical virtual user name looks like <code>.v-{tag}-{id}</code>. The tag is used to identify the purpose of the virtual user, and the id is a unique random string.</p><p>The virtual user is hidden from the user list by default. To list virtual users, you can use the <code>-a/--all</code> flag with the <code>lfss-user list</code> command.</p><p>To create a virtual user, you can use either the CLI command or the admin API. For example:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">lfss-user</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add-virtual</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    --tag</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> tmpuser</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    --expire</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 1d12h</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    --max-storage</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 100M</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    --peers</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;read:alice,bob;write:carol&quot;</span></span></code></pre></div><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Client().add_virtual_user(</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    tag</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;tmpuser&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    expire</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;1d12h&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    max_storage</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;100M&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    peers</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        AccessLevel.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">READ</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;alice&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;bob&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        AccessLevel.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">WRITE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;carol&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>To modify the expiry time of a virtual user, you can use the CLI command. For example:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">lfss-user</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> set-expire</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .v-tmpuser-VwFdjKpiqm4</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 2d1h10s</span></span></code></pre></div><p>The management of virtual users is exactly the same as normal users. <em>e.g.</em>, via <code>lfss-user</code> command or admin API.</p>`,12)])])}const c=i(n,[["render",l]]);export{u as __pageData,c as default};
