import{_ as i,c as a,o as e,af as t}from"./chunks/framework.CkHvLvtj.js";const o=JSON.parse('{"title":"User Management","description":"","frontmatter":{},"headers":[],"relativePath":"userman.md","filePath":"userman.md"}'),n={name:"userman.md"};function h(l,s,k,p,r,d){return e(),a("div",null,[...s[0]||(s[0]=[t(`<h1 id="user-management" tabindex="-1">User Management <a class="header-anchor" href="#user-management" aria-label="Permalink to “User Management”">​</a></h1><p>All user management operations can be performed via the <code>lfss-user</code> command. Using <code>-h</code> or <code>--help</code> flag will show the help message with all available subcommands and options:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> lfss-user -h                                                     </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">usage:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> lfss-user</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [-h] {</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">add,add-virtual,delete,set,list,set-peer,set-expire}</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ...</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">positional</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> arguments:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  {</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">add,add-virtual,delete,set,list,set-peer,set-expire}</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                 Add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> a</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> new</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> user</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    add-virtual</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">         Add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> a</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> virtual</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (hidden) user, username will be prefixed with </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;.v-&#39;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    set</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                 Set</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> user</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> properties,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> refer</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;add&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> subcommand</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> for</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> details</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> on</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> each</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> argument</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    list</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                List</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> specified</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> users,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> or</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> detailed</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> info</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> with</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -l</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    set-peer</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">            Set</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> peer</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> user</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> relationship</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    set-expire</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">          Set</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> or</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> clear</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> user</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> expire</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> time</span></span></code></pre></div><p>Most of the commands are self-explanatory, and the details flags of each command can be found by using the <code>-h</code> flag after the subcommand.</p><p><strong>Below are some extra explanations for a few commands.</strong></p><h2 id="check-user-details" tabindex="-1">Check user details <a class="header-anchor" href="#check-user-details" aria-label="Permalink to “Check user details”">​</a></h2><p>Besides listing all users, to check the details of the user(s), you can also use the <code>list</code> subcommand with the <code>-l/--long</code> flag, followed by one or more usernames. For example:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> lfss-user list -l alice</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">User</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> alice</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (id=20, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">admin=0,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> created</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> at</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 2025-11-13</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 03:15:09,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> last</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> active</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> at</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 2025-11-13</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 03:15:09,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> storage=1.00G,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> permission=UNSET</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">-</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Credential:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  d9cf3312d1da59721fd28a5d3075c65b858a373d37e479c2defd6bfeee207677</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">-</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Storage:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 0B</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 1.00G</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">-</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Expire:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> never</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">-</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Peers</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [READ]: bob, carol</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">-</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Peers</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [WRITE]: dave</span></span></code></pre></div><h2 id="delete-user" tabindex="-1">Delete user <a class="header-anchor" href="#delete-user" aria-label="Permalink to “Delete user”">​</a></h2><p>To delete a user, you can use the <code>delete</code> subcommand.</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> lfss-user delete alice</span></span></code></pre></div><p>Note: there are a few clean up operations that need to be done when deleting a user, so the deletion process may take some time depending on the number of files owned by the user, and because this process is transactional, it may block the system for a short period.</p><p>Specifically, user deletion involves:</p><ul><li>Remove user record from the database.</li><li>Remove all files under the user&#39;s path.</li><li>Transfer ownership of all files owned by the user under other users&#39; paths to the path owner.</li></ul><p>If any of the above steps fail (for example, the path owner has insufficient storage space to take over the ownership), the deletion process will be rolled back to ensure data consistency.</p>`,15)])])}const g=i(n,[["render",h]]);export{o as __pageData,g as default};
