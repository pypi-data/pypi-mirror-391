# Nexus Docker Compose Environment Configuration
#
# ============================================
# Setup Instructions
# ============================================
#
# For Local Development:
#   cp .env.example .env.local
#   # Edit .env.local with your development API keys
#   ./docker-start.sh
#
# For Production:
#   1. Use .env.production (committed to git, no secrets)
#   2. Create .env.production.secrets on server (git-ignored)
#   3. See ENV_PRODUCTION_SETUP.md for detailed instructions
#
# Backwards Compatible:
#   cp .env.example .env
#   # Edit .env
#   ./docker-start.sh
#
# ============================================

# ============================================
# PostgreSQL Database
# ============================================
POSTGRES_DB=nexus
POSTGRES_USER=postgres
POSTGRES_PASSWORD=nexus
POSTGRES_PORT=5432

# ============================================
# Nexus Server
# ============================================
NEXUS_PORT=8080
MCP_PORT=8081

# Database URL (uses PostgreSQL service)
# Auto-generated: postgresql://postgres:nexus@postgres:5432/nexus
# Override if needed:
# NEXUS_DATABASE_URL=postgresql://postgres:nexus@postgres:5432/nexus

# Authentication
# Leave empty to auto-generate admin API key on first run
# Or provide your own:
# NEXUS_API_KEY=your-api-key-here

# Backend Storage
# Options: local (default), gcs (Google Cloud Storage)
NEXUS_BACKEND=local

# GCS Backend (only if NEXUS_BACKEND=gcs)
# NEXUS_GCS_BUCKET=your-bucket-name
# NEXUS_GCS_PROJECT=your-gcp-project-id
# GCS_CREDENTIALS_PATH=/path/to/gcs-credentials.json
# GOOGLE_APPLICATION_CREDENTIALS=/app/gcs-credentials.json

# ============================================
# LangGraph Agent Server
# ============================================
LANGGRAPH_PORT=2024

# LLM API Keys (REQUIRED for LangGraph)
ANTHROPIC_API_KEY=your-anthropic-api-key-here
OPENAI_API_KEY=your-openai-api-key-here

# Optional: Additional Tool API Keys
TAVILY_API_KEY=your-tavily-api-key-here
E2B_API_KEY=your-e2b-api-key-here
FIRECRAWL_API_KEY=your-firecrawl-api-key-here

# LangSmith tracing (optional)
LANGCHAIN_TRACING_V2=true
LANGCHAIN_ENDPOINT=https://api.smith.langchain.com
LANGCHAIN_PROJECT=nexus-dev
LANGSMITH_API_KEY=your-langsmith-api-key-here

# ============================================
# Frontend
# ============================================
FRONTEND_PORT=5173

# Frontend environment variables (VITE_*)
# ⚠️ DEPRECATED: These are now configured in nexus-frontend/.env.local
# The docker-start.sh script will automatically load nexus-frontend/.env.local
#
# Create nexus-frontend/.env.local with:
#   VITE_NEXUS_API_URL=http://localhost:8080
#   VITE_LANGGRAPH_API_URL=http://localhost:2024
#
# Or keep them here for backwards compatibility:
# VITE_NEXUS_API_URL=http://localhost:8080
# VITE_LANGGRAPH_API_URL=http://localhost:2024
# VITE_NEXUS_SERVER_URL=http://nexus:8080
