import{p as k,d as Ae,i as ve,c as G,e as me,r as Ie,t as Oe,a as Qe,u as Ue,f as We,g as ze}from"./i18n-0yVmjjWQ.js";import{p as xe,R as Fe,ac as Je,l as I,d as O,i as r,m as $,a as Ke,f as W,e as v,U as ye,$ as Ne,t as Q,b as P,c as ke,g as B,aD as he,s as x,_ as Ve,j as m,k as fe,W as Ze,h as w,r as b,a9 as V,O as pe,Q as be,aA as et}from"./index-C_pgmrh1.js";import{G as tt}from"./utils.svelte-CSs-vWpU.js";import{a as rt}from"./actions-BNIdQBfI.js";import{b as at}from"./input-C4kSuu2j.js";import{b as ge}from"./misc-h5ywrOsc.js";import{t as U,E as st}from"./tinycolor-DRWczXxE.js";/* empty css                                                        */import{B as nt}from"./BlockTitle-D_vk8-6E.js";import"./MarkdownCode.svelte_svelte_type_style_lang-DAcRUV9O.js";import{B as lt}from"./Block-0egmJK1l.js";import{S as ot}from"./index-DvI0d63Y.js";/* empty css                                                   */import{default as qt}from"./Example-Ooj90j7d.js";import"./Info-3yCgVD1l.js";import"./MarkdownCode-BCT1FD5c.js";import"./html-BQTWPY4W.js";import"./prism-python-D4ucVciL.js";import"./IconButton-K-jb6mTx.js";import"./svelte-component-CmmFkUAm.js";import"./Clear-C5Vclyf6.js";function it(o,s){const i=e=>{o&&!o.contains(e.target)&&!e.defaultPrevented&&s(e)};return document.addEventListener("mousedown",i,!0),{destroy(){document.removeEventListener("mousedown",i,!0)}}}function we(o){const s=o.s,i=o.v;let e=s*i;const g=o.h/60;let u=e*(1-Math.abs(g%2-1));const c=i-e;e=e+c,u=u+c;const h=Math.floor(g)%6,_=[e,u,c,c,u,e][h],f=[u,e,e,u,c,c][h],M=[c,c,u,e,e,u][h];return`rgba(${_*255}, ${f*255}, ${M*255}, ${o.a})`}function ut(o,s){return s==="hex"?U(o).toHexString():s==="rgb"?U(o).toRgbString():U(o).toHslString()}var ct=W("<button> </button>"),dt=W('<div class="color-picker svelte-nbn1m9"><div class="color-gradient svelte-nbn1m9"><div class="marker svelte-nbn1m9"></div></div> <div class="hue-slider svelte-nbn1m9"><div class="marker svelte-nbn1m9"></div></div> <div class="input svelte-nbn1m9"><button class="swatch svelte-nbn1m9"></button> <div><div class="input-wrap svelte-nbn1m9"><input type="text" class="svelte-nbn1m9"/> <button class="eyedropper svelte-nbn1m9"><!></button></div> <div class="buttons svelte-nbn1m9"></div></div></div></div>'),_t=W('<!> <button class="dialog-button svelte-nbn1m9"></button> <!>',1);function vt(o,s){xe(s,!1);const i=$();let e=k(s,"value",12,"#000000"),g=k(s,"label",12),u=k(s,"info",12,void 0),c=k(s,"disabled",12,!1),h=k(s,"show_label",12,!0),_=k(s,"current_mode",12,"hex"),f=k(s,"dialog_open",12,!1),M=$(!1),E=$(),T=$();const y=Fe();let R=$([0,0]),d=null,L=!1,Y=[0,0],D=$(0),z=$(0),p=null,j=!1;function $e(t){p=t.currentTarget.getBoundingClientRect(),j=!0,Z(t.clientX)}function Z(t){if(!p)return;const a=Math.max(0,Math.min(t-p.left,p.width));m(z,a);const l=a/p.width*360;m(D,l),e(we({h:l,s:Y[0],v:Y[1],a:1})),y("input")}function ee(t,a){if(!d)return;const l=Math.max(0,Math.min(t-d.left,d.width)),S=Math.max(0,Math.min(a-d.top,d.height));m(R,[l,S]);const C={h:r(D)*1,s:l/d.width,v:1-S/d.height,a:1};Y=[C.s,C.v],e(we(C)),y("input")}function Be(t){L=!0,d=t.currentTarget.getBoundingClientRect(),ee(t.clientX,t.clientY)}function Me(t){L&&ee(t.clientX,t.clientY),j&&Z(t.clientX)}function Ee(){L=!1,j=!1}async function te(t){if(L||j||(await Ve(),!t)||(!d&&r(E)&&(d=r(E).getBoundingClientRect()),!p&&r(T)&&(p=r(T).getBoundingClientRect()),!d||!p))return;const a=U(t).toHsv(),l=a.s*d.width,S=(1-a.v)*d.height;m(R,[l,S]),Y=[a.s,a.v],m(D,a.h),m(z,a.h/360*p.width)}function Re(){new EyeDropper().open().then(a=>{e(a.sRGBHex)}),y("input")}const Se=[["Hex","hex"],["RGB","rgb"],["HSL","hsl"]];Je(async()=>{m(M,window!==void 0&&!!window.EyeDropper)});function Ce(){f(!1)}function De(){y("change",e())}function He(){y("selected",r(i)),y("close")}I(()=>(O(e()),O(_())),()=>{m(i,ut(e(),_()))}),I(()=>r(i),()=>{r(i)&&y("selected",r(i))}),I(()=>O(e()),()=>{te(e())}),I(()=>O(e()),()=>{e(),De()}),Ke();var Xe={get value(){return e()},set value(t){e(t),B()},get label(){return g()},set label(t){g(t),B()},get info(){return u()},set info(t){u(t),B()},get disabled(){return c()},set disabled(t){c(t),B()},get show_label(){return h()},set show_label(t){h(t),B()},get current_mode(){return _()},set current_mode(t){_(t),B()},get dialog_open(){return f()},set dialog_open(t){f(t),B()}};Ae();var re=_t();v("mousemove",he,Me),v("mouseup",he,Ee);var ae=ye(re);nt(ae,{get show_label(){return h()},get info(){return u()},children:(t,a)=>{Ze();var l=Ne();Q(()=>fe(l,g())),P(t,l)},$$slots:{default:!0}});var q=x(ae,2);let se;var Ge=x(q,2);{var Pe=t=>{var a=dt(),l=w(a),S=w(l);let C;b(l),me(l,n=>m(E,n),()=>r(E));var H=x(l,2),Te=w(H);let ne;b(H),me(H,n=>m(T,n),()=>r(T));var le=x(H,2),F=w(le);let oe;var ie=x(F,2),J=w(ie),A=w(J);Ie(A);var K=x(A,2),Le=w(K);{var Ye=n=>{st(n)};ve(Le,n=>{r(M)&&n(Ye)})}b(K),b(J);var ue=x(J,2);Oe(ue,5,()=>Se,Ue,(n,N,ht,ft)=>{var ce=V(()=>et(r(N),2));let je=()=>r(ce)[0],de=()=>r(ce)[1];var X=ct();let _e;var qe=w(X,!0);b(X),Q(()=>{_e=Qe(X,1,"button svelte-nbn1m9",null,_e,{active:_()===de()}),fe(qe,je())}),v("click",X,()=>_(de())),P(n,X)}),b(ue),b(ie),b(le),b(a),pe(()=>v("focus",a,function(n){ge.call(this,s,n)})),pe(()=>v("blur",a,function(n){ge.call(this,s,n)})),rt(a,(n,N)=>it?.(n,N),()=>Ce),Q(()=>{G(l,`--hue:${r(D)??""}`),C=G(S,"",C,{transform:`translate(${r(R),be(()=>r(R)[0])??""}px,${r(R),be(()=>r(R)[1])??""}px)`,background:e()}),ne=G(Te,"",ne,{background:"hsl("+r(D)+", 100%, 50%)",transform:`translateX(${r(z)??""}px)`}),oe=G(F,"",oe,{background:e()})}),v("mousedown",l,Be),v("mousedown",H,$e),v("click",F,He),at(A,()=>r(i),n=>m(i,n)),v("change",A,n=>{e(n.currentTarget.value)}),v("click",K,Re),P(t,a)};ve(Ge,t=>{f()&&t(Pe)})}return Q(()=>{q.disabled=c(),se=G(q,"",se,{background:e()})}),v("click",q,()=>{te(e()),f(!f())}),P(o,re),ke(Xe)}var mt=W("<!> <!>",1);function Lt(o,s){xe(s,!0);let i=We(s,["$$slots","$$events","$$legacy"]);const e=new tt(i);let g=V(()=>e.shared.label||e.i18n("colorpicker.color_picker"));lt(o,{get visible(){return e.shared.visible},get elem_id(){return e.shared.elem_id},get elem_classes(){return e.shared.elem_classes},get container(){return e.shared.container},get scale(){return e.shared.scale},get min_width(){return e.shared.min_width},children:(u,c)=>{var h=mt(),_=ye(h);ot(_,ze({get autoscroll(){return e.shared.autoscroll},get i18n(){return e.i18n}},()=>e.shared.loading_status,{$$events:{clear_status:()=>e.dispatch("clear_status",e.shared.loading_status)}}));var f=x(_,2);{let M=V(()=>!e.shared.interactive);vt(f,{get label(){return r(g)},get info(){return e.props.info},get show_label(){return e.shared.show_label},get disabled(){return r(M)},get value(){return e.props.value},set value(E){e.props.value=E},$$events:{change:()=>e.dispatch("change"),input:()=>e.dispatch("input"),submit:()=>e.dispatch("submit"),blur:()=>e.dispatch("blur"),focus:()=>e.dispatch("focus")}})}P(u,h)},$$slots:{default:!0}}),ke()}export{vt as BaseColorPicker,qt as BaseExample,Lt as default};
//# sourceMappingURL=Index-D-LPie11.js.map
