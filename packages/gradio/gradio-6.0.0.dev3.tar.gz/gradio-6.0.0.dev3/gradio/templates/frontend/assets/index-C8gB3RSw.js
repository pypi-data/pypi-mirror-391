import{f as q,i as D,g as A}from"./i18n-0yVmjjWQ.js";import{p as F,af as B,ag as H,ah as J,i as t,j as k,ac as K,X as L,U as f,b,c as N,_ as O,a9 as a,f as G,s as C}from"./index-C_pgmrh1.js";import{G as Q}from"./utils.svelte-CSs-vWpU.js";import{S as I}from"./index-DvI0d63Y.js";/* empty css                                                        */import"./MarkdownCode.svelte_svelte_type_style_lang-DAcRUV9O.js";/* empty css                                                   */import Y from"./StaticAudio-Dl199Kmi.js";import{I as Z}from"./InteractiveAudio-CgKuFg_c.js";import{B as z}from"./Block-0egmJK1l.js";import{U as ee}from"./UploadText-BvXWeS2i.js";import{A as Ke}from"./AudioPlayer-D_o93T1d.js";import{default as Ne}from"./Example-j3V5OQej.js";import"./IconButton-K-jb6mTx.js";import"./svelte-component-CmmFkUAm.js";import"./misc-h5ywrOsc.js";import"./Clear-C5Vclyf6.js";import"./prism-python-D4ucVciL.js";import"./BlockLabel-YLz3IT8m.js";import"./DownloadLink-VWOCVi8-.js";import"./Empty-DwOz0SUi.js";import"./ShareButton-C3Liam2S.js";import"./Community-BBRj1hQY.js";import"./Download-BxrIh35j.js";import"./Music-D_d9avCN.js";import"./IconButtonWrapper-5UDxdjyf.js";import"./Trim-XFuAYqh9.js";import"./Play-CElEXqUW.js";import"./Undo-D4F5_b4y.js";import"./Upload-Dcelqvve.js";import"./actions-BNIdQBfI.js";import"./props-B8I3WwWL.js";/* empty css                                             */import"./utils-BsTlurbm.js";import"./ModifyUpload-BT1U6Dx6.js";import"./Edit--9-HC_HS.js";import"./SelectSource-BbPDx5Kc.js";import"./ImagePaste-CpdKGATa.js";import"./Upload-4t8cP2rS.js";import"./Spinner-BgQJN2uw.js";import"./StreamingBar-C7yd22Cd.js";/* empty css                                              */var re=G("<!> <!>",1),te=G("<!> <!>",1);function Fe(E,g){F(g,!0);let U=q(g,["$$slots","$$events","$$legacy"]),m=B(void 0);g.props.stream_every=.1;class R extends Q{async get_data(){return t(m)&&(await t(m),await O()),await super.get_data()}}const e=new R(U);let w=a(()=>e.shared.label||e.i18n("audio.audio")),$=a(()=>e.props.sources?e.props.sources[0]:null),p=e.props.value;const T=()=>{p===null||e.props.value===p||(e.props.value=p)};let l,_="darkorange",o=a(()=>({height:50,barWidth:2,barGap:3,cursorWidth:2,cursorColor:"#ddd5e9",autoplay:e.props.autoplay,barRadius:10,dragToSeek:!0,normalize:!0,minPxPerSec:20}));const y={color:e.props.waveform_options.trim_region_color,drag:!0,resize:!0};function W(){document.documentElement.style.setProperty("--trim-region-color",y.color||_)}function j({detail:s}){const[i,n]=s.includes("Invalid file type")?["warning","complete"]:["error","error"];e.shared.loading_status&&(e.shared.loading_status.status=n,e.shared.loading_status.message=s),e.dispatch(i,s)}let x=B(H(e.props.value));J(()=>{t(x)!=e.props.value&&(k(x,e.props.value,!0),e.dispatch("change"))}),K(()=>{_=getComputedStyle(document?.documentElement).getPropertyValue("--color-accent"),W(),t(o).waveColor=e.props.waveform_options.waveform_color||"#9ca3af",t(o).progressColor=e.props.waveform_options.waveform_progress_color||_,t(o).mediaControls=e.props.waveform_options.show_controls,t(o).sampleRate=e.props.waveform_options.sample_rate||44100});var P=L(),M=f(P);{var V=s=>{{let i=a(()=>l?"focus":"base");z(s,{variant:"solid",get border_mode(){return t(i)},padding:!1,allow_overflow:!1,get elem_id(){return e.shared.elem_id},get elem_classes(){return e.shared.elem_classes},get visible(){return e.shared.visible},get container(){return e.shared.container},get scale(){return e.shared.scale},get min_width(){return e.shared.min_width},children:(n,S)=>{var h=re(),u=f(h);I(u,A({get autoscroll(){return e.shared.autoscroll},get i18n(){return e.i18n}},()=>e.shared.loading_status,{$$events:{clear_status:()=>e.dispatch("clear_status",e.shared.loading_status)}}));var c=C(u,2);{let v=a(()=>e.props.buttons??["download","share"]);Y(c,{get i18n(){return e.i18n},get show_label(){return e.shared.show_label},get buttons(){return t(v)},get value(){return e.props.value},get subtitles(){return e.props.subtitles},get label(){return t(w)},get loop(){return e.props.loop},get waveform_settings(){return t(o)},get waveform_options(){return e.props.waveform_options},get editable(){return e.props.editable},$$events:{share:d=>e.dispatch("share",d.detail),error:d=>e.dispatch("error",d.detail),play:()=>e.dispatch("play"),pause:()=>e.dispatch("pause"),stop:()=>e.dispatch("stop")}})}b(n,h)},$$slots:{default:!0}})}},X=s=>{{let i=a(()=>e.props.value===null&&t($)==="upload"?"dashed":"solid"),n=a(()=>l?"focus":"base");z(s,{get variant(){return t(i)},get border_mode(){return t(n)},padding:!1,allow_overflow:!1,get elem_id(){return e.shared.elem_id},get elem_classes(){return e.shared.elem_classes},get visible(){return e.shared.visible},get container(){return e.shared.container},get scale(){return e.shared.scale},get min_width(){return e.shared.min_width},children:(S,h)=>{var u=te(),c=f(u);I(c,A({get autoscroll(){return e.shared.autoscroll},get i18n(){return e.i18n}},()=>e.shared.loading_status,{$$events:{clear_status:()=>e.dispatch("clear_status",e.shared.loading_status)}}));var v=C(c,2);{let d=a(()=>e.props.buttons??[]);Z(v,{get label(){return t(w)},get show_label(){return e.shared.show_label},get buttons(){return t(d)},get value(){return e.props.value},get subtitles(){return e.props.subtitles},get root(){return e.shared.root},get sources(){return e.props.sources},get active_source(){return t($)},get pending(){return e.shared.loading_status.pending},get streaming(){return e.props.streaming},get loop(){return e.props.loop},get max_file_size(){return e.shared.max_file_size},handle_reset_value:T,get editable(){return e.props.editable},get i18n(){return e.i18n},get waveform_settings(){return t(o)},get waveform_options(){return e.props.waveform_options},get trim_region_settings(){return y},get stream_every(){return e.props.stream_every},get stream_state(){return e.shared.loading_status.stream_state},upload:(...r)=>e.shared.client.upload(...r),stream_handler:(...r)=>e.shared.client.stream(...r),get time_limit(){return e.shared.loading_status.time_limit},get upload_promise(){return t(m)},set upload_promise(r){k(m,r,!0)},get initial_value(){return p},set initial_value(r){p=r},get recording(){return e.props.recording},set recording(r){e.props.recording=r},get dragging(){return l},set dragging(r){l=r},$$events:{change:({detail:r})=>e.props.value=r,stream:({detail:r})=>{e.props.value=r,e.dispatch("stream",e.props.value)},drag:({detail:r})=>l=r,edit:()=>e.dispatch("edit"),play:()=>e.dispatch("play"),pause:()=>e.dispatch("pause"),stop:()=>e.dispatch("stop"),start_recording:()=>e.dispatch("start_recording"),pause_recording:()=>e.dispatch("pause_recording"),stop_recording:r=>{e.dispatch("stop_recording"),e.dispatch("input")},upload:()=>{e.dispatch("upload"),e.dispatch("input")},clear:()=>{e.dispatch("clear"),e.dispatch("input")},error:j,close_stream:()=>e.dispatch("close_stream","stream")},children:(r,se)=>{ee(r,{get i18n(){return e.i18n},type:"audio"})},$$slots:{default:!0}})}b(S,u)},$$slots:{default:!0}})}};D(M,s=>{e.shared.interactive?s(X,!1):s(V)})}b(E,P),N()}export{Ne as BaseExample,Z as BaseInteractiveAudio,Ke as BasePlayer,Y as BaseStaticAudio,Fe as default};
//# sourceMappingURL=index-C8gB3RSw.js.map
