import{p as d,d as $t,i as S,a as K,e as st,b as r,c as Yt,r as yt}from"./i18n-0yVmjjWQ.js";import{p as te,R as ee,S as le,T as ae,l as ot,d as s,i,m as kt,a as re,f as E,U as nt,t as z,b as w,V as wt,s as X,c as se,g as f,h as Z,k as it,j as C,W as oe,r as A,X as Ht,Y as ne,Z as ut,O as Q,e as v,Q as u,_ as ct,$ as Dt}from"./index-C_pgmrh1.js";import{a as ie}from"./actions-BNIdQBfI.js";import{b as _t}from"./input-C4kSuu2j.js";import{b as F}from"./misc-h5ywrOsc.js";/* empty css                                                        */import{B as ue}from"./BlockTitle-D_vk8-6E.js";import{I as ce}from"./IconButton-K-jb6mTx.js";import"./MarkdownCode.svelte_svelte_type_style_lang-DAcRUV9O.js";import{C as _e}from"./Check-DtX8sX2-.js";import{C as de}from"./Copy-CUtk6dY3.js";import{S as fe}from"./Send-CuIKOAXG.js";import{S as he}from"./Square-DaIxx2fL.js";import{I as ve}from"./IconButtonWrapper-5UDxdjyf.js";/* empty css                                              */var ge=E('<div class="validation-error svelte-1hguek3"> </div>'),be=E(" <!>",1),me=E('<input data-testid="textbox" type="text"/>'),pe=E('<input data-testid="password" type="password" autocomplete=""/>'),xe=E('<input data-testid="textbox" type="email" autocomplete="email"/>'),ye=E('<textarea data-testid="textbox"></textarea>'),ke=E("<button><!></button>"),we=E("<button><!></button>"),He=E('<label><!> <!> <div class="input-container svelte-1hguek3"><!> <!> <!></div></label>');function Pe(Ut,o){te(o,!1);let b=d(o,"value",12,""),dt=d(o,"value_is_output",12,!1),p=d(o,"lines",12,1),L=d(o,"placeholder",12,"Type here..."),ft=d(o,"label",12),ht=d(o,"info",12,void 0),M=d(o,"disabled",12,!1),R=d(o,"show_label",12,!0),vt=d(o,"container",12,!0),P=d(o,"max_lines",12,void 0),Y=d(o,"type",12,"text"),gt=d(o,"show_copy_button",12,!1),B=d(o,"submit_btn",12,null),D=d(o,"stop_btn",12,null),G=d(o,"rtl",12,!1),U=d(o,"autofocus",12,!1),W=d(o,"text_align",12,void 0),J=d(o,"autoscroll",12,!0),j=d(o,"max_length",12,void 0),l=d(o,"html_attributes",12,null),T=d(o,"validation_error",12,void 0),g=kt(),N=kt(!1),bt,mt,Tt=0,$=!1,H=kt();const qt=!B(),I=ee();le(()=>{!$&&i(g)&&i(g).offsetHeight+i(g).scrollTop>i(g).scrollHeight-100&&(mt=!0)});const Kt=()=>{mt&&J()&&!$&&i(g).scrollTo(0,i(g).scrollHeight)};async function Lt(){await ct(),I("change",b())}ae(()=>{U()&&i(g).focus(),mt&&J()&&Kt(),dt(!1)});async function Mt(){"clipboard"in navigator&&(await navigator.clipboard.writeText(b()),I("copy",{value:b()}),Pt())}function Pt(){C(N,!0),bt&&clearTimeout(bt),bt=setTimeout(()=>{C(N,!1)},1e3)}function tt(t){const e=t.target,c=e.value,n=[e.selectionStart,e.selectionEnd];I("select",{value:c.substring(...n),index:n})}async function et(t){t.key==="Enter"&&t.shiftKey&&p()>1?(t.preventDefault(),await ct(),I("submit")):t.key==="Enter"&&!t.shiftKey&&p()===1&&i(H)>=1&&(t.preventDefault(),await ct(),I("submit")),I("input")}function Wt(t){const e=t.target,c=e.scrollTop;c<Tt&&($=!0),Tt=c;const n=e.scrollHeight-e.clientHeight;c>=n&&($=!1)}function jt(){I("stop")}function Ot(){I("submit")}async function lt(t){if(await ct(),p()===i(H))return;const e=t.target,c=window.getComputedStyle(e),n=parseFloat(c.paddingTop),x=parseFloat(c.paddingBottom),k=parseFloat(c.lineHeight);let a=i(H)===void 0?!1:n+x+k*i(H),m=n+x+p()*k;e.style.height="1px";let y;a&&e.scrollHeight>a?y=a:e.scrollHeight<m?y=m:y=e.scrollHeight,e.style.height=`${y}px`,Qt(e)}function Qt(t){const e=t.scrollHeight,c=t.clientHeight,n=parseFloat(window.getComputedStyle(t).lineHeight);e>c+n?t.style.overflowY="scroll":t.style.overflowY="hidden"}function Rt(t,e){if(!(p()===i(H)||p()===1&&i(H)===1)&&(t.style.overflowY="scroll",t.addEventListener("input",lt),!!e.trim()))return lt({target:t}),{destroy:()=>t.removeEventListener("input",lt)}}ot(()=>(s(P()),s(Y()),s(p())),()=>{P()===void 0||P()===null?Y()==="text"?C(H,Math.max(p(),20)):C(H,1):C(H,Math.max(P(),p()))}),ot(()=>s(b()),()=>{b()===null&&b("")}),ot(()=>(s(b()),s(T()),i(g),s(p()),i(H)),()=>{b(),T(),i(g)&&p()!==i(H)&&p()>1&&lt({target:i(g)})}),ot(()=>s(b()),()=>{b(),Lt()}),re();var Vt={get value(){return b()},set value(t){b(t),f()},get value_is_output(){return dt()},set value_is_output(t){dt(t),f()},get lines(){return p()},set lines(t){p(t),f()},get placeholder(){return L()},set placeholder(t){L(t),f()},get label(){return ft()},set label(t){ft(t),f()},get info(){return ht()},set info(t){ht(t),f()},get disabled(){return M()},set disabled(t){M(t),f()},get show_label(){return R()},set show_label(t){R(t),f()},get container(){return vt()},set container(t){vt(t),f()},get max_lines(){return P()},set max_lines(t){P(t),f()},get type(){return Y()},set type(t){Y(t),f()},get show_copy_button(){return gt()},set show_copy_button(t){gt(t),f()},get submit_btn(){return B()},set submit_btn(t){B(t),f()},get stop_btn(){return D()},set stop_btn(t){D(t),f()},get rtl(){return G()},set rtl(t){G(t),f()},get autofocus(){return U()},set autofocus(t){U(t),f()},get text_align(){return W()},set text_align(t){W(t),f()},get autoscroll(){return J()},set autoscroll(t){J(t),f()},get max_length(){return j()},set max_length(t){j(t),f()},get html_attributes(){return l()},set html_attributes(t){l(t),f()},get validation_error(){return T()},set validation_error(t){T(t),f()}};$t();var at=He();let zt;var St=Z(at);{var Xt=t=>{ve(t,{children:(e,c)=>{{let n=wt(()=>i(N)?_e:de),x=wt(()=>i(N)?"Copied":"Copy");ce(e,{get Icon(){return i(n)},get label(){return i(x)},$$events:{click:Mt}})}},$$slots:{default:!0}})};S(St,t=>{R()&&gt()&&t(Xt)})}var Ct=X(St,2);{let t=wt(()=>T()?!0:R());ue(Ct,{get show_label(){return i(t)},get info(){return ht()},children:(e,c)=>{oe();var n=be(),x=nt(n),k=X(x);{var a=m=>{var y=ge(),pt=Z(y,!0);A(y),z(()=>it(pt,T())),w(m,y)};S(k,m=>{T()&&m(a)})}z(()=>it(x,`${ft()??""} `)),w(e,n)},$$slots:{default:!0}})}var Et=X(Ct,2),Bt=Z(Et);{var Zt=t=>{var e=Ht(),c=nt(e);{var n=k=>{var a=me();yt(a);let m;ut(a,U()),st(a,y=>C(g,y),()=>i(g)),z(()=>{m=K(a,1,"scroll-hide svelte-1hguek3",null,m,{"validation-error":T()}),r(a,"dir",G()?"rtl":"ltr"),r(a,"placeholder",L()),a.disabled=M(),r(a,"maxlength",j()),Yt(a,W()?"text-align: "+W():""),r(a,"autocapitalize",(s(l()),u(()=>l()?.autocapitalize))),r(a,"autocorrect",(s(l()),u(()=>l()?.autocorrect))),r(a,"spellcheck",(s(l()),u(()=>l()?.spellcheck))),r(a,"autocomplete",(s(l()),u(()=>l()?.autocomplete))),r(a,"tabindex",(s(l()),u(()=>l()?.tabindex))),r(a,"enterkeyhint",(s(l()),u(()=>l()?.enterkeyhint))),r(a,"lang",(s(l()),u(()=>l()?.lang))),a.dir=a.dir}),_t(a,b),v("keypress",a,et),v("blur",a,function(y){F.call(this,o,y)}),v("select",a,tt),v("focus",a,function(y){F.call(this,o,y)}),w(k,a)},x=k=>{var a=Ht(),m=nt(a);{var y=O=>{var _=pe();yt(_);let rt;ut(_,U()),st(_,q=>C(g,q),()=>i(g)),z(()=>{rt=K(_,1,"scroll-hide svelte-1hguek3",null,rt,{"validation-error":T()}),r(_,"placeholder",L()),_.disabled=M(),r(_,"maxlength",j()),r(_,"autocapitalize",(s(l()),u(()=>l()?.autocapitalize))),r(_,"autocorrect",(s(l()),u(()=>l()?.autocorrect))),r(_,"spellcheck",(s(l()),u(()=>l()?.spellcheck))),r(_,"tabindex",(s(l()),u(()=>l()?.tabindex))),r(_,"enterkeyhint",(s(l()),u(()=>l()?.enterkeyhint))),r(_,"lang",(s(l()),u(()=>l()?.lang)))}),_t(_,b),v("keypress",_,et),v("blur",_,function(q){F.call(this,o,q)}),v("select",_,tt),v("focus",_,function(q){F.call(this,o,q)}),w(O,_)},pt=O=>{var _=Ht(),rt=nt(_);{var q=xt=>{var h=xe();yt(h);let Ft;ut(h,U()),st(h,V=>C(g,V),()=>i(g)),z(()=>{Ft=K(h,1,"scroll-hide svelte-1hguek3",null,Ft,{"validation-error":T()}),r(h,"placeholder",L()),h.disabled=M(),r(h,"maxlength",j()),r(h,"autocapitalize",(s(l()),u(()=>l()?.autocapitalize))),r(h,"autocorrect",(s(l()),u(()=>l()?.autocorrect))),r(h,"spellcheck",(s(l()),u(()=>l()?.spellcheck))),r(h,"tabindex",(s(l()),u(()=>l()?.tabindex))),r(h,"enterkeyhint",(s(l()),u(()=>l()?.enterkeyhint))),r(h,"lang",(s(l()),u(()=>l()?.lang)))}),_t(h,b),v("keypress",h,et),v("blur",h,function(V){F.call(this,o,V)}),v("select",h,tt),v("focus",h,function(V){F.call(this,o,V)}),w(xt,h)};S(rt,xt=>{Y()==="email"&&xt(q)},!0)}w(O,_)};S(m,O=>{Y()==="password"?O(y):O(pt,!1)},!0)}w(k,a)};S(c,k=>{Y()==="text"?k(n):k(x,!1)})}w(t,e)},At=t=>{var e=ye();ne(e),ut(e,U());let c;ie(e,(n,x)=>Rt?.(n,x),b),Q(()=>_t(e,b)),st(e,n=>C(g,n),()=>i(g)),Q(()=>v("keypress",e,et)),Q(()=>v("blur",e,function(n){F.call(this,o,n)})),Q(()=>v("select",e,tt)),Q(()=>v("focus",e,function(n){F.call(this,o,n)})),Q(()=>v("scroll",e,Wt)),z(()=>{r(e,"dir",G()?"rtl":"ltr"),r(e,"placeholder",L()),r(e,"rows",p()),e.disabled=M(),r(e,"maxlength",j()),Yt(e,W()?"text-align: "+W():""),r(e,"autocapitalize",(s(l()),u(()=>l()?.autocapitalize))),r(e,"autocorrect",(s(l()),u(()=>l()?.autocorrect))),r(e,"spellcheck",(s(l()),u(()=>l()?.spellcheck))),r(e,"autocomplete",(s(l()),u(()=>l()?.autocomplete))),r(e,"tabindex",(s(l()),u(()=>l()?.tabindex))),r(e,"enterkeyhint",(s(l()),u(()=>l()?.enterkeyhint))),r(e,"lang",(s(l()),u(()=>l()?.lang))),c=K(e,1,"svelte-1hguek3",null,c,{"no-label":!R()&&(B()||D()),"validation-error":T()}),e.dir=e.dir}),w(t,e)};S(Bt,t=>{p()===1&&i(H)===1?t(Zt):t(At,!1)})}var It=X(Bt,2);{var Gt=t=>{var e=ke();let c;var n=Z(e);{var x=a=>{fe(a)},k=a=>{var m=Dt();z(()=>it(m,B())),w(a,m)};S(n,a=>{B()===!0?a(x):a(k,!1)})}A(e),z(()=>c=K(e,1,"submit-button svelte-1hguek3",null,c,{"padded-button":B()!==!0})),v("click",e,Ot),w(t,e)};S(It,t=>{B()&&t(Gt)})}var Jt=X(It,2);{var Nt=t=>{var e=we();let c;var n=Z(e);{var x=a=>{he(a,{fill:"none",stroke_width:2.5})},k=a=>{var m=Dt();z(()=>it(m,D())),w(a,m)};S(n,a=>{D()===!0?a(x):a(k,!1)})}A(e),z(()=>c=K(e,1,"stop-button svelte-1hguek3",null,c,{"padded-button":D()!==!0})),v("click",e,jt),w(t,e)};S(Jt,t=>{D()&&t(Nt)})}return A(Et),A(at),z(()=>zt=K(at,1,"svelte-1hguek3",null,zt,{container:vt(),show_textbox_border:qt})),w(Ut,at),se(Vt)}export{Pe as T};
//# sourceMappingURL=Textbox-AFp6qXyS.js.map
