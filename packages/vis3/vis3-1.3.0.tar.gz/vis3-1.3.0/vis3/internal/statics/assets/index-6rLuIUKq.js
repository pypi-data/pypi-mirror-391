import{r as l,bu as M,B as I,b6 as T,ad as U,b0 as w,aj as _,aS as Y,aT as G,bv as $,bw as J,ab as j,aP as K,aR as Q,bx as Z,ak as ee}from"./index-C-ku7Uvl.js";const h=e=>typeof(e==null?void 0:e.then)=="function",te=e=>{const{type:n,children:s,prefixCls:t,buttonProps:o,close:f,autoFocus:y,emitEvent:p,isSilent:i,quitOnNullishReturnValue:C,actionFn:v}=e,c=l.useRef(!1),x=l.useRef(null),[P,m]=M(!1),u=(...a)=>{f==null||f.apply(void 0,a)};l.useEffect(()=>{let a=null;return y&&(a=setTimeout(()=>{var r;(r=x.current)===null||r===void 0||r.focus({preventScroll:!0})})),()=>{a&&clearTimeout(a)}},[y]);const b=a=>{h(a)&&(m(!0),a.then((...r)=>{m(!1,!0),u.apply(void 0,r),c.current=!1},r=>{if(m(!1,!0),c.current=!1,!(i!=null&&i()))return Promise.reject(r)}))},O=a=>{if(c.current)return;if(c.current=!0,!v){u();return}let r;if(p){if(r=v(a),C&&!h(r)){c.current=!1,u(a);return}}else if(v.length)r=v(f),c.current=!1;else if(r=v(),!h(r)){u();return}b(r)};return l.createElement(I,Object.assign({},T(n),{onClick:O,loading:P,prefixCls:t},o,{ref:x}),s)},ne=e=>{const{componentCls:n,iconCls:s,antCls:t,zIndexPopup:o,colorText:f,colorWarning:y,marginXXS:p,marginXS:i,fontSize:C,fontWeightStrong:v,colorTextHeading:c}=e;return{[n]:{zIndex:o,[`&${t}-popover`]:{fontSize:C},[`${n}-message`]:{marginBottom:i,display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${n}-message-icon ${s}`]:{color:y,fontSize:C,lineHeight:1,marginInlineEnd:i},[`${n}-title`]:{fontWeight:v,color:c,"&:only-child":{fontWeight:"normal"}},[`${n}-description`]:{marginTop:p,color:f}},[`${n}-buttons`]:{textAlign:"end",whiteSpace:"nowrap",button:{marginInlineStart:i}}}}},oe=e=>{const{zIndexPopupBase:n}=e;return{zIndexPopup:n+60}},R=U("Popconfirm",e=>ne(e),oe,{resetStyle:!1});var le=function(e,n){var s={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(s[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)n.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(s[t[o]]=e[t[o]]);return s};const V=e=>{const{prefixCls:n,okButtonProps:s,cancelButtonProps:t,title:o,description:f,cancelText:y,okText:p,okType:i="primary",icon:C=l.createElement(w,null),showCancel:v=!0,close:c,onConfirm:x,onCancel:P,onPopupClick:m}=e,{getPrefixCls:u}=l.useContext(_),[b]=Y("Popconfirm",G.Popconfirm),O=$(o),a=$(f);return l.createElement("div",{className:`${n}-inner-content`,onClick:m},l.createElement("div",{className:`${n}-message`},C&&l.createElement("span",{className:`${n}-message-icon`},C),l.createElement("div",{className:`${n}-message-text`},O&&l.createElement("div",{className:`${n}-title`},O),a&&l.createElement("div",{className:`${n}-description`},a))),l.createElement("div",{className:`${n}-buttons`},v&&l.createElement(I,Object.assign({onClick:P,size:"small"},t),y||(b==null?void 0:b.cancelText)),l.createElement(te,{buttonProps:Object.assign(Object.assign({size:"small"},T(i)),s),actionFn:x,close:c,prefixCls:u("btn"),quitOnNullishReturnValue:!0,emitEvent:!0},p||(b==null?void 0:b.okText))))},se=e=>{const{prefixCls:n,placement:s,className:t,style:o}=e,f=le(e,["prefixCls","placement","className","style"]),{getPrefixCls:y}=l.useContext(_),p=y("popconfirm",n),[i]=R(p);return i(l.createElement(J,{placement:s,className:j(p,t),style:o,content:l.createElement(V,Object.assign({prefixCls:p},f))}))};var ae=function(e,n){var s={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(s[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)n.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(s[t[o]]=e[t[o]]);return s};const re=l.forwardRef((e,n)=>{var s,t;const{prefixCls:o,placement:f="top",trigger:y="click",okType:p="primary",icon:i=l.createElement(w,null),children:C,overlayClassName:v,onOpenChange:c,onVisibleChange:x,overlayStyle:P,styles:m,classNames:u}=e,b=ae(e,["prefixCls","placement","trigger","okType","icon","children","overlayClassName","onOpenChange","onVisibleChange","overlayStyle","styles","classNames"]),{getPrefixCls:O,className:a,style:r,classNames:E,styles:k}=K("popconfirm"),[z,B]=Q(!1,{value:(s=e.open)!==null&&s!==void 0?s:e.visible,defaultValue:(t=e.defaultOpen)!==null&&t!==void 0?t:e.defaultVisible}),N=(d,g)=>{B(d,!0),x==null||x(d),c==null||c(d,g)},W=d=>{N(!1,d)},F=d=>{var g;return(g=e.onConfirm)===null||g===void 0?void 0:g.call(void 0,d)},L=d=>{var g;N(!1,d),(g=e.onCancel)===null||g===void 0||g.call(void 0,d)},A=(d,g)=>{const{disabled:D=!1}=e;D||N(d,g)},S=O("popconfirm",o),H=j(S,a,v,E.root,u==null?void 0:u.root),X=j(E.body,u==null?void 0:u.body),[q]=R(S);return q(l.createElement(Z,Object.assign({},ee(b,["title"]),{trigger:y,placement:f,onOpenChange:A,open:z,ref:n,classNames:{root:H,body:X},styles:{root:Object.assign(Object.assign(Object.assign(Object.assign({},k.root),r),P),m==null?void 0:m.root),body:Object.assign(Object.assign({},k.body),m==null?void 0:m.body)},content:l.createElement(V,Object.assign({okType:p,icon:i},e,{prefixCls:S,close:W,onConfirm:F,onCancel:L})),"data-popover-inject":!0}),C))}),ce=re;ce._InternalPanelDoNotUseOrYouWillBeFired=se;export{te as A,ce as P};
