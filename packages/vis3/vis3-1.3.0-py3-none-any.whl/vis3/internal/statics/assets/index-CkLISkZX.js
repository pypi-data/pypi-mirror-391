import{r as s,I as yt,a5 as qt,a6 as Xt,a7 as $e,a8 as Ge,a9 as $t,aa as ue,ab as q,ac as Ke,T as je,ad as wt,ae as Ct,af as St,ag as ne,ah as Ze,ai as Vt,aj as Ne,ak as xt,al as Gt,am as Kt,an as Zt,ao as Jt,ap as Ie,aq as Qt,ar as fe,as as Q,at as ce,au as Et,av as jt,aw as Ot,ax as _,ay as J,az as It,aA as Je,aB as Yt,aC as Lt,aD as Pt,aE as er,aF as st,aG as tr,aH as rr,aI as nr,aJ as Dt,aK as ar,aL as or,aM as sr,aN as it,B as Oe,aO as lt,aP as ir,aQ as lr,aR as cr,aS as dr,aT as ur,aU as ct,b as pr,Q as mr,j as D,c as Se,U as _e,R as fr,Z as gr,m as ae}from"./index-C-ku7Uvl.js";import{a as Be}from"./index-DLpJg2Q5.js";import{P as hr}from"./index-6rLuIUKq.js";var vr={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M899.1 869.6l-53-305.6H864c14.4 0 26-11.6 26-26V346c0-14.4-11.6-26-26-26H618V138c0-14.4-11.6-26-26-26H432c-14.4 0-26 11.6-26 26v182H160c-14.4 0-26 11.6-26 26v192c0 14.4 11.6 26 26 26h17.9l-53 305.6a25.95 25.95 0 0025.6 30.4h723c1.5 0 3-.1 4.4-.4a25.88 25.88 0 0021.2-30zM204 390h272V182h72v208h272v104H204V390zm468 440V674c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v156H416V674c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v156H202.8l45.1-260H776l45.1 260H672z"}}]},name:"clear",theme:"outlined"};function Qe(){return Qe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Qe.apply(this,arguments)}const br=(e,t)=>s.createElement(yt,Qe({},e,{ref:t,icon:vr})),yr=s.forwardRef(br);var $r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"},wr={icon:function(t,r){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M534 352V136H232v752h560V394H576a42 42 0 01-42-42z",fill:r}},{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM602 137.8L790.2 326H602V137.8zM792 888H232V136h302v216a42 42 0 0042 42h216v494z",fill:t}}]}},name:"file",theme:"twotone"},Cr={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M779.3 196.6c-94.2-94.2-247.6-94.2-341.7 0l-261 260.8c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l261-260.8c32.4-32.4 75.5-50.2 121.3-50.2s88.9 17.8 121.2 50.2c32.4 32.4 50.2 75.5 50.2 121.2 0 45.8-17.8 88.8-50.2 121.2l-266 265.9-43.1 43.1c-40.3 40.3-105.8 40.3-146.1 0-19.5-19.5-30.2-45.4-30.2-73s10.7-53.5 30.2-73l263.9-263.8c6.7-6.6 15.5-10.3 24.9-10.3h.1c9.4 0 18.1 3.7 24.7 10.3 6.7 6.7 10.3 15.5 10.3 24.9 0 9.3-3.7 18.1-10.3 24.7L372.4 653c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l215.6-215.6c19.9-19.9 30.8-46.3 30.8-74.4s-11-54.6-30.8-74.4c-41.1-41.1-107.9-41-149 0L463 364 224.8 602.1A172.22 172.22 0 00174 724.8c0 46.3 18.1 89.8 50.8 122.5 33.9 33.8 78.3 50.7 122.7 50.7 44.4 0 88.8-16.9 122.6-50.7l309.2-309C824.8 492.7 850 432 850 367.5c.1-64.6-25.1-125.3-70.7-170.9z"}}]},name:"paper-clip",theme:"outlined"},Sr={icon:function(t,r){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 632H136v-39.9l138.5-164.3 150.1 178L658.1 489 888 761.6V792zm0-129.8L664.2 396.8c-3.2-3.8-9-3.8-12.2 0L424.6 666.4l-144-170.7c-3.2-3.8-9-3.8-12.2 0L136 652.7V232h752v430.2z",fill:t}},{tag:"path",attrs:{d:"M424.6 765.8l-150.1-178L136 752.1V792h752v-30.4L658.1 489z",fill:r}},{tag:"path",attrs:{d:"M136 652.7l132.4-157c3.2-3.8 9-3.8 12.2 0l144 170.7L652 396.8c3.2-3.8 9-3.8 12.2 0L888 662.2V232H136v420.7zM304 280a88 88 0 110 176 88 88 0 010-176z",fill:r}},{tag:"path",attrs:{d:"M276 368a28 28 0 1056 0 28 28 0 10-56 0z",fill:r}},{tag:"path",attrs:{d:"M304 456a88 88 0 100-176 88 88 0 000 176zm0-116c15.5 0 28 12.5 28 28s-12.5 28-28 28-28-12.5-28-28 12.5-28 28-28z",fill:t}}]}},name:"picture",theme:"twotone"},xr={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"upload",theme:"outlined"};function Ye(){return Ye=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Ye.apply(this,arguments)}const Er=(e,t)=>s.createElement(yt,Ye({},e,{ref:t,icon:xr})),jr=s.forwardRef(Er);var Or={percent:0,prefixCls:"rc-progress",strokeColor:"#2db7f5",strokeLinecap:"round",strokeWidth:1,trailColor:"#D9D9D9",trailWidth:1,gapPosition:"bottom"},Ir=function(){var t=s.useRef([]),r=s.useRef(null);return s.useEffect(function(){var a=Date.now(),o=!1;t.current.forEach(function(n){if(n){o=!0;var i=n.style;i.transitionDuration=".3s, .3s, .3s, .06s",r.current&&a-r.current<100&&(i.transitionDuration="0s, 0s")}}),o&&(r.current=Date.now())}),t.current},dt=0,Lr=Xt();function Pr(){var e;return Lr?(e=dt,dt+=1):e="TEST_OR_SSR",e}const Dr=(function(e){var t=s.useState(),r=qt(t,2),a=r[0],o=r[1];return s.useEffect(function(){o("rc_progress_".concat(Pr()))},[]),e||a});var ut=function(t){var r=t.bg,a=t.children;return s.createElement("div",{style:{width:"100%",height:"100%",background:r}},a)};function pt(e,t){return Object.keys(e).map(function(r){var a=parseFloat(r),o="".concat(Math.floor(a*t),"%");return"".concat(e[r]," ").concat(o)})}var Rr=s.forwardRef(function(e,t){var r=e.prefixCls,a=e.color,o=e.gradientId,n=e.radius,i=e.style,l=e.ptg,d=e.strokeLinecap,p=e.strokeWidth,m=e.size,f=e.gapDegree,g=a&&$e(a)==="object",h=g?"#FFF":void 0,C=m/2,S=s.createElement("circle",{className:"".concat(r,"-circle-path"),r:n,cx:C,cy:C,stroke:h,strokeLinecap:d,strokeWidth:p,opacity:l===0?0:1,style:i,ref:t});if(!g)return S;var b="".concat(o,"-conic"),y=f?"".concat(180+f/2,"deg"):"0deg",$=pt(a,(360-f)/360),x=pt(a,1),u="conic-gradient(from ".concat(y,", ").concat($.join(", "),")"),c="linear-gradient(to ".concat(f?"bottom":"top",", ").concat(x.join(", "),")");return s.createElement(s.Fragment,null,s.createElement("mask",{id:b},S),s.createElement("foreignObject",{x:0,y:0,width:m,height:m,mask:"url(#".concat(b,")")},s.createElement(ut,{bg:c},s.createElement(ut,{bg:u}))))}),xe=100,Ue=function(t,r,a,o,n,i,l,d,p,m){var f=arguments.length>10&&arguments[10]!==void 0?arguments[10]:0,g=a/100*360*((360-i)/360),h=i===0?0:{bottom:0,top:180,left:90,right:-90}[l],C=(100-o)/100*r;p==="round"&&o!==100&&(C+=m/2,C>=r&&(C=r-.01));var S=xe/2;return{stroke:typeof d=="string"?d:void 0,strokeDasharray:"".concat(r,"px ").concat(t),strokeDashoffset:C+f,transform:"rotate(".concat(n+g+h,"deg)"),transformOrigin:"".concat(S,"px ").concat(S,"px"),transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s, opacity .3s ease 0s",fillOpacity:0}},Fr=["id","prefixCls","steps","strokeWidth","trailWidth","gapDegree","gapPosition","trailColor","strokeLinecap","style","className","strokeColor","percent"];function mt(e){var t=e??[];return Array.isArray(t)?t:[t]}var kr=function(t){var r=Ge(Ge({},Or),t),a=r.id,o=r.prefixCls,n=r.steps,i=r.strokeWidth,l=r.trailWidth,d=r.gapDegree,p=d===void 0?0:d,m=r.gapPosition,f=r.trailColor,g=r.strokeLinecap,h=r.style,C=r.className,S=r.strokeColor,b=r.percent,y=$t(r,Fr),$=xe/2,x=Dr(a),u="".concat(x,"-gradient"),c=$-i/2,v=Math.PI*2*c,w=p>0?90+p/2:-90,O=v*((360-p)/360),k=$e(n)==="object"?n:{count:n,gap:2},j=k.count,Z=k.gap,W=mt(b),B=mt(S),N=B.find(function(G){return G&&$e(G)==="object"}),M=N&&$e(N)==="object",X=M?"butt":g,K=Ue(v,O,0,100,w,p,m,f,X,i),te=Ir(),P=function(){var re=0;return W.map(function(E,F){var z=B[F]||B[B.length-1],Y=Ue(v,O,re,E,w,p,m,z,X,i);return re+=E,s.createElement(Rr,{key:F,color:z,ptg:E,radius:c,prefixCls:o,gradientId:u,style:Y,strokeLinecap:X,strokeWidth:i,gapDegree:p,ref:function(se){te[F]=se},size:xe})}).reverse()},V=function(){var re=Math.round(j*(W[0]/100)),E=100/j,F=0;return new Array(j).fill(null).map(function(z,Y){var oe=Y<=re-1?B[0]:f,se=oe&&$e(oe)==="object"?"url(#".concat(u,")"):void 0,ie=Ue(v,O,F,E,w,p,m,oe,"butt",i,Z);return F+=(O-ie.strokeDashoffset+Z)*100/O,s.createElement("circle",{key:Y,className:"".concat(o,"-circle-path"),r:c,cx:$,cy:$,stroke:se,strokeWidth:i,opacity:1,style:ie,ref:function(le){te[Y]=le}})})};return s.createElement("svg",ue({className:q("".concat(o,"-circle"),C),viewBox:"0 0 ".concat(xe," ").concat(xe),style:h,id:a,role:"presentation"},y),!j&&s.createElement("circle",{className:"".concat(o,"-circle-trail"),r:c,cx:$,cy:$,stroke:f,strokeLinecap:X,strokeWidth:l||i,style:K}),j?V():P())};function ge(e){return!e||e<0?0:e>100?100:e}function Re({success:e,successPercent:t}){let r=t;return e&&"progress"in e&&(r=e.progress),e&&"percent"in e&&(r=e.percent),r}const Nr=({percent:e,success:t,successPercent:r})=>{const a=ge(Re({success:t,successPercent:r}));return[a,ge(ge(e)-a)]},Ar=({success:e={},strokeColor:t})=>{const{strokeColor:r}=e;return[r||Ke.green,t||null]},Ae=(e,t,r)=>{var a,o,n,i;let l=-1,d=-1;if(t==="step"){const p=r.steps,m=r.strokeWidth;typeof e=="string"||typeof e>"u"?(l=e==="small"?2:14,d=m??8):typeof e=="number"?[l,d]=[e,e]:[l=14,d=8]=Array.isArray(e)?e:[e.width,e.height],l*=p}else if(t==="line"){const p=r==null?void 0:r.strokeWidth;typeof e=="string"||typeof e>"u"?d=p||(e==="small"?6:8):typeof e=="number"?[l,d]=[e,e]:[l=-1,d=8]=Array.isArray(e)?e:[e.width,e.height]}else(t==="circle"||t==="dashboard")&&(typeof e=="string"||typeof e>"u"?[l,d]=e==="small"?[60,60]:[120,120]:typeof e=="number"?[l,d]=[e,e]:Array.isArray(e)&&(l=(o=(a=e[0])!==null&&a!==void 0?a:e[1])!==null&&o!==void 0?o:120,d=(i=(n=e[0])!==null&&n!==void 0?n:e[1])!==null&&i!==void 0?i:120));return[l,d]},Mr=3,Tr=e=>Mr/e*100,Wr=e=>{const{prefixCls:t,trailColor:r=null,strokeLinecap:a="round",gapPosition:o,gapDegree:n,width:i=120,type:l,children:d,success:p,size:m=i,steps:f}=e,[g,h]=Ae(m,"circle");let{strokeWidth:C}=e;C===void 0&&(C=Math.max(Tr(g),6));const S={width:g,height:h,fontSize:g*.15+6},b=s.useMemo(()=>{if(n||n===0)return n;if(l==="dashboard")return 75},[n,l]),y=Nr(e),$=o||l==="dashboard"&&"bottom"||void 0,x=Object.prototype.toString.call(e.strokeColor)==="[object Object]",u=Ar({success:p,strokeColor:e.strokeColor}),c=q(`${t}-inner`,{[`${t}-circle-gradient`]:x}),v=s.createElement(kr,{steps:f,percent:f?y[1]:y,strokeWidth:C,trailWidth:C,strokeColor:f?u[1]:u,strokeLinecap:a,trailColor:r,prefixCls:t,gapDegree:b,gapPosition:$}),w=g<=20,O=s.createElement("div",{className:c,style:S},v,!w&&d);return w?s.createElement(je,{title:d},O):O},Fe="--progress-line-stroke-color",Rt="--progress-percent",ft=e=>{const t=e?"100%":"-100%";return new Ze(`antProgress${e?"RTL":"LTR"}Active`,{"0%":{transform:`translateX(${t}) scaleX(0)`,opacity:.1},"20%":{transform:`translateX(${t}) scaleX(0)`,opacity:.5},to:{transform:"translateX(0) scaleX(1)",opacity:0}})},zr=e=>{const{componentCls:t,iconCls:r}=e;return{[t]:Object.assign(Object.assign({},St(e)),{display:"inline-block","&-rtl":{direction:"rtl"},"&-line":{position:"relative",width:"100%",fontSize:e.fontSize},[`${t}-outer`]:{display:"inline-flex",alignItems:"center",width:"100%"},[`${t}-inner`]:{position:"relative",display:"inline-block",width:"100%",flex:1,overflow:"hidden",verticalAlign:"middle",backgroundColor:e.remainingColor,borderRadius:e.lineBorderRadius},[`${t}-inner:not(${t}-circle-gradient)`]:{[`${t}-circle-path`]:{stroke:e.defaultColor}},[`${t}-success-bg, ${t}-bg`]:{position:"relative",background:e.defaultColor,borderRadius:e.lineBorderRadius,transition:`all ${e.motionDurationSlow} ${e.motionEaseInOutCirc}`},[`${t}-layout-bottom`]:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",[`${t}-text`]:{width:"max-content",marginInlineStart:0,marginTop:e.marginXXS}},[`${t}-bg`]:{overflow:"hidden","&::after":{content:'""',background:{_multi_value_:!0,value:["inherit",`var(${Fe})`]},height:"100%",width:`calc(1 / var(${Rt}) * 100%)`,display:"block"},[`&${t}-bg-inner`]:{minWidth:"max-content","&::after":{content:"none"},[`${t}-text-inner`]:{color:e.colorWhite,[`&${t}-text-bright`]:{color:"rgba(0, 0, 0, 0.45)"}}}},[`${t}-success-bg`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,backgroundColor:e.colorSuccess},[`${t}-text`]:{display:"inline-block",marginInlineStart:e.marginXS,color:e.colorText,lineHeight:1,width:"2em",whiteSpace:"nowrap",textAlign:"start",verticalAlign:"middle",wordBreak:"normal",[r]:{fontSize:e.fontSize},[`&${t}-text-outer`]:{width:"max-content"},[`&${t}-text-outer${t}-text-start`]:{width:"max-content",marginInlineStart:0,marginInlineEnd:e.marginXS}},[`${t}-text-inner`]:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%",marginInlineStart:0,padding:`0 ${ne(e.paddingXXS)}`,[`&${t}-text-start`]:{justifyContent:"start"},[`&${t}-text-end`]:{justifyContent:"end"}},[`&${t}-status-active`]:{[`${t}-bg::before`]:{position:"absolute",inset:0,backgroundColor:e.colorBgContainer,borderRadius:e.lineBorderRadius,opacity:0,animationName:ft(),animationDuration:e.progressActiveMotionDuration,animationTimingFunction:e.motionEaseOutQuint,animationIterationCount:"infinite",content:'""'}},[`&${t}-rtl${t}-status-active`]:{[`${t}-bg::before`]:{animationName:ft(!0)}},[`&${t}-status-exception`]:{[`${t}-bg`]:{backgroundColor:e.colorError},[`${t}-text`]:{color:e.colorError}},[`&${t}-status-exception ${t}-inner:not(${t}-circle-gradient)`]:{[`${t}-circle-path`]:{stroke:e.colorError}},[`&${t}-status-success`]:{[`${t}-bg`]:{backgroundColor:e.colorSuccess},[`${t}-text`]:{color:e.colorSuccess}},[`&${t}-status-success ${t}-inner:not(${t}-circle-gradient)`]:{[`${t}-circle-path`]:{stroke:e.colorSuccess}}})}},_r=e=>{const{componentCls:t,iconCls:r}=e;return{[t]:{[`${t}-circle-trail`]:{stroke:e.remainingColor},[`&${t}-circle ${t}-inner`]:{position:"relative",lineHeight:1,backgroundColor:"transparent"},[`&${t}-circle ${t}-text`]:{position:"absolute",insetBlockStart:"50%",insetInlineStart:0,width:"100%",margin:0,padding:0,color:e.circleTextColor,fontSize:e.circleTextFontSize,lineHeight:1,whiteSpace:"normal",textAlign:"center",transform:"translateY(-50%)",[r]:{fontSize:e.circleIconFontSize}},[`${t}-circle&-status-exception`]:{[`${t}-text`]:{color:e.colorError}},[`${t}-circle&-status-success`]:{[`${t}-text`]:{color:e.colorSuccess}}},[`${t}-inline-circle`]:{lineHeight:1,[`${t}-inner`]:{verticalAlign:"bottom"}}}},Br=e=>{const{componentCls:t}=e;return{[t]:{[`${t}-steps`]:{display:"inline-block","&-outer":{display:"flex",flexDirection:"row",alignItems:"center"},"&-item":{flexShrink:0,minWidth:e.progressStepMinWidth,marginInlineEnd:e.progressStepMarginInlineEnd,backgroundColor:e.remainingColor,transition:`all ${e.motionDurationSlow}`,"&-active":{backgroundColor:e.defaultColor}}}}}},Ur=e=>{const{componentCls:t,iconCls:r}=e;return{[t]:{[`${t}-small&-line, ${t}-small&-line ${t}-text ${r}`]:{fontSize:e.fontSizeSM}}}},Hr=e=>({circleTextColor:e.colorText,defaultColor:e.colorInfo,remainingColor:e.colorFillSecondary,lineBorderRadius:100,circleTextFontSize:"1em",circleIconFontSize:`${e.fontSize/e.fontSizeSM}em`}),qr=wt("Progress",e=>{const t=e.calc(e.marginXXS).div(2).equal(),r=Ct(e,{progressStepMarginInlineEnd:t,progressStepMinWidth:t,progressActiveMotionDuration:"2.4s"});return[zr(r),_r(r),Br(r),Ur(r)]},Hr);var Xr=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(r[a[o]]=e[a[o]]);return r};const Vr=e=>{let t=[];return Object.keys(e).forEach(r=>{const a=Number.parseFloat(r.replace(/%/g,""));Number.isNaN(a)||t.push({key:a,value:e[r]})}),t=t.sort((r,a)=>r.key-a.key),t.map(({key:r,value:a})=>`${a} ${r}%`).join(", ")},Gr=(e,t)=>{const{from:r=Ke.blue,to:a=Ke.blue,direction:o=t==="rtl"?"to left":"to right"}=e,n=Xr(e,["from","to","direction"]);if(Object.keys(n).length!==0){const l=Vr(n),d=`linear-gradient(${o}, ${l})`;return{background:d,[Fe]:d}}const i=`linear-gradient(${o}, ${r}, ${a})`;return{background:i,[Fe]:i}},Kr=e=>{const{prefixCls:t,direction:r,percent:a,size:o,strokeWidth:n,strokeColor:i,strokeLinecap:l="round",children:d,trailColor:p=null,percentPosition:m,success:f}=e,{align:g,type:h}=m,C=i&&typeof i!="string"?Gr(i,r):{[Fe]:i,background:i},S=l==="square"||l==="butt"?0:void 0,b=o??[-1,n||(o==="small"?6:8)],[y,$]=Ae(b,"line",{strokeWidth:n}),x={backgroundColor:p||void 0,borderRadius:S},u=Object.assign(Object.assign({width:`${ge(a)}%`,height:$,borderRadius:S},C),{[Rt]:ge(a)/100}),c=Re(e),v={width:`${ge(c)}%`,height:$,borderRadius:S,backgroundColor:f==null?void 0:f.strokeColor},w={width:y<0?"100%":y},O=s.createElement("div",{className:`${t}-inner`,style:x},s.createElement("div",{className:q(`${t}-bg`,`${t}-bg-${h}`),style:u},h==="inner"&&d),c!==void 0&&s.createElement("div",{className:`${t}-success-bg`,style:v})),k=h==="outer"&&g==="start",j=h==="outer"&&g==="end";return h==="outer"&&g==="center"?s.createElement("div",{className:`${t}-layout-bottom`},O,d):s.createElement("div",{className:`${t}-outer`,style:w},k&&d,O,j&&d)},Zr=e=>{const{size:t,steps:r,rounding:a=Math.round,percent:o=0,strokeWidth:n=8,strokeColor:i,trailColor:l=null,prefixCls:d,children:p}=e,m=a(r*(o/100)),g=t??[t==="small"?2:14,n],[h,C]=Ae(g,"step",{steps:r,strokeWidth:n}),S=h/r,b=Array.from({length:r});for(let y=0;y<r;y++){const $=Array.isArray(i)?i[y]:i;b[y]=s.createElement("div",{key:y,className:q(`${d}-steps-item`,{[`${d}-steps-item-active`]:y<=m-1}),style:{backgroundColor:y<=m-1?$:l,width:S,height:C}})}return s.createElement("div",{className:`${d}-steps-outer`},b,p)};var Jr=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(r[a[o]]=e[a[o]]);return r};const Qr=["normal","exception","active","success"],Yr=s.forwardRef((e,t)=>{const{prefixCls:r,className:a,rootClassName:o,steps:n,strokeColor:i,percent:l=0,size:d="default",showInfo:p=!0,type:m="line",status:f,format:g,style:h,percentPosition:C={}}=e,S=Jr(e,["prefixCls","className","rootClassName","steps","strokeColor","percent","size","showInfo","type","status","format","style","percentPosition"]),{align:b="end",type:y="outer"}=C,$=Array.isArray(i)?i[0]:i,x=typeof i=="string"||Array.isArray(i)?i:void 0,u=s.useMemo(()=>{if($){const P=typeof $=="string"?$:Object.values($)[0];return new Vt(P).isLight()}return!1},[i]),c=s.useMemo(()=>{var P,V;const G=Re(e);return Number.parseInt(G!==void 0?(P=G??0)===null||P===void 0?void 0:P.toString():(V=l??0)===null||V===void 0?void 0:V.toString(),10)},[l,e.success,e.successPercent]),v=s.useMemo(()=>!Qr.includes(f)&&c>=100?"success":f||"normal",[f,c]),{getPrefixCls:w,direction:O,progress:k}=s.useContext(Ne),j=w("progress",r),[Z,W,B]=qr(j),N=m==="line",M=N&&!n,X=s.useMemo(()=>{if(!p)return null;const P=Re(e);let V;const G=g||(E=>`${E}%`),re=N&&u&&y==="inner";return y==="inner"||g||v!=="exception"&&v!=="success"?V=G(ge(l),ge(P)):v==="exception"?V=N?s.createElement(Gt,null):s.createElement(Kt,null):v==="success"&&(V=N?s.createElement(Zt,null):s.createElement(Jt,null)),s.createElement("span",{className:q(`${j}-text`,{[`${j}-text-bright`]:re,[`${j}-text-${b}`]:M,[`${j}-text-${y}`]:M}),title:typeof V=="string"?V:void 0},V)},[p,l,c,v,m,j,g]);let K;m==="line"?K=n?s.createElement(Zr,Object.assign({},e,{strokeColor:x,prefixCls:j,steps:typeof n=="object"?n.count:n}),X):s.createElement(Kr,Object.assign({},e,{strokeColor:$,prefixCls:j,direction:O,percentPosition:{align:b,type:y}}),X):(m==="circle"||m==="dashboard")&&(K=s.createElement(Wr,Object.assign({},e,{strokeColor:$,prefixCls:j,progressStatus:v}),X));const te=q(j,`${j}-status-${v}`,{[`${j}-${m==="dashboard"&&"circle"||m}`]:m!=="line",[`${j}-inline-circle`]:m==="circle"&&Ae(d,"circle")[0]<=20,[`${j}-line`]:M,[`${j}-line-align-${b}`]:M,[`${j}-line-position-${y}`]:M,[`${j}-steps`]:n,[`${j}-show-info`]:p,[`${j}-${d}`]:typeof d=="string",[`${j}-rtl`]:O==="rtl"},k==null?void 0:k.className,a,o,W,B);return Z(s.createElement("div",Object.assign({ref:t,style:Object.assign(Object.assign({},k==null?void 0:k.style),h),className:te,role:"progressbar","aria-valuenow":c,"aria-valuemin":0,"aria-valuemax":100},xt(S,["trailColor","strokeWidth","width","gapDegree","gapPosition","strokeLinecap","success","successPercent"])),K))});var en=function(t,r){return s.createElement(Ie,ue({},t,{ref:r,icon:$r}))},tn=s.forwardRef(en);const He=(function(e,t){if(e&&t){var r=Array.isArray(t)?t:t.split(","),a=e.name||"",o=e.type||"",n=o.replace(/\/.*$/,"");return r.some(function(i){var l=i.trim();if(/^\*(\/\*)?$/.test(i))return!0;if(l.charAt(0)==="."){var d=a.toLowerCase(),p=l.toLowerCase(),m=[p];return(p===".jpg"||p===".jpeg")&&(m=[".jpg",".jpeg"]),m.some(function(f){return d.endsWith(f)})}return/\/\*$/.test(l)?n===l.replace(/\/.*$/,""):o===l?!0:/^\w+$/.test(l)?(Qt(!1,"Upload takes an invalidate 'accept' type '".concat(l,"'.Skip for check.")),!0):!1})}return!0});function rn(e,t){var r="cannot ".concat(e.method," ").concat(e.action," ").concat(t.status,"'"),a=new Error(r);return a.status=t.status,a.method=e.method,a.url=e.action,a}function gt(e){var t=e.responseText||e.response;if(!t)return t;try{return JSON.parse(t)}catch{return t}}function ht(e){var t=new XMLHttpRequest;e.onProgress&&t.upload&&(t.upload.onprogress=function(n){n.total>0&&(n.percent=n.loaded/n.total*100),e.onProgress(n)});var r=new FormData;e.data&&Object.keys(e.data).forEach(function(o){var n=e.data[o];if(Array.isArray(n)){n.forEach(function(i){r.append("".concat(o,"[]"),i)});return}r.append(o,n)}),e.file instanceof Blob?r.append(e.filename,e.file,e.file.name):r.append(e.filename,e.file),t.onerror=function(n){e.onError(n)},t.onload=function(){return t.status<200||t.status>=300?e.onError(rn(e,t),gt(t)):e.onSuccess(gt(t),t)},t.open(e.method,e.action,!0),e.withCredentials&&"withCredentials"in t&&(t.withCredentials=!0);var a=e.headers||{};return a["X-Requested-With"]!==null&&t.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(a).forEach(function(o){a[o]!==null&&t.setRequestHeader(o,a[o])}),t.send(r),{abort:function(){t.abort()}}}var nn=(function(){var e=fe(Q().mark(function t(r,a){var o,n,i,l,d,p,m,f;return Q().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:p=function(){return p=fe(Q().mark(function S(b){return Q().wrap(function($){for(;;)switch($.prev=$.next){case 0:return $.abrupt("return",new Promise(function(x){b.file(function(u){a(u)?(b.fullPath&&!u.webkitRelativePath&&(Object.defineProperties(u,{webkitRelativePath:{writable:!0}}),u.webkitRelativePath=b.fullPath.replace(/^\//,""),Object.defineProperties(u,{webkitRelativePath:{writable:!1}})),x(u)):x(null)})}));case 1:case"end":return $.stop()}},S)})),p.apply(this,arguments)},d=function(S){return p.apply(this,arguments)},l=function(){return l=fe(Q().mark(function S(b){var y,$,x,u,c;return Q().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:y=b.createReader(),$=[];case 2:return w.next=5,new Promise(function(O){y.readEntries(O,function(){return O([])})});case 5:if(x=w.sent,u=x.length,u){w.next=9;break}return w.abrupt("break",12);case 9:for(c=0;c<u;c++)$.push(x[c]);w.next=2;break;case 12:return w.abrupt("return",$);case 13:case"end":return w.stop()}},S)})),l.apply(this,arguments)},i=function(S){return l.apply(this,arguments)},o=[],n=[],r.forEach(function(C){return n.push(C.webkitGetAsEntry())}),m=(function(){var C=fe(Q().mark(function S(b,y){var $,x;return Q().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(b){c.next=2;break}return c.abrupt("return");case 2:if(b.path=y||"",!b.isFile){c.next=10;break}return c.next=6,d(b);case 6:$=c.sent,$&&o.push($),c.next=15;break;case 10:if(!b.isDirectory){c.next=15;break}return c.next=13,i(b);case 13:x=c.sent,n.push.apply(n,ce(x));case 15:case"end":return c.stop()}},S)}));return function(b,y){return C.apply(this,arguments)}})(),f=0;case 9:if(!(f<n.length)){h.next=15;break}return h.next=12,m(n[f]);case 12:f++,h.next=9;break;case 15:return h.abrupt("return",o);case 16:case"end":return h.stop()}},t)}));return function(r,a){return e.apply(this,arguments)}})(),an=+new Date,on=0;function qe(){return"rc-upload-".concat(an,"-").concat(++on)}var sn=["component","prefixCls","className","classNames","disabled","id","name","style","styles","multiple","accept","capture","children","directory","folder","openFileDialogOnClick","onMouseEnter","onMouseLeave","hasControlInside"],ln=(function(e){Et(r,e);var t=jt(r);function r(){var a;Ot(this,r);for(var o=arguments.length,n=new Array(o),i=0;i<o;i++)n[i]=arguments[i];return a=t.call.apply(t,[this].concat(n)),_(J(a),"state",{uid:qe()}),_(J(a),"reqs",{}),_(J(a),"fileInput",void 0),_(J(a),"_isMounted",void 0),_(J(a),"onChange",function(l){var d=a.props,p=d.accept,m=d.directory,f=l.target.files,g=ce(f).filter(function(h){return!m||He(h,p)});a.uploadFiles(g),a.reset()}),_(J(a),"onClick",function(l){var d=a.fileInput;if(d){var p=l.target,m=a.props.onClick;if(p&&p.tagName==="BUTTON"){var f=d.parentNode;f.focus(),p.blur()}d.click(),m&&m(l)}}),_(J(a),"onKeyDown",function(l){l.key==="Enter"&&a.onClick(l)}),_(J(a),"onDataTransferFiles",(function(){var l=fe(Q().mark(function d(p,m){var f,g,h,C,S,b,y;return Q().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:if(f=a.props,g=f.multiple,h=f.accept,C=f.directory,S=ce(p.items||[]),b=ce(p.files||[]),(b.length>0||S.some(function(u){return u.kind==="file"}))&&(m==null||m()),!C){x.next=11;break}return x.next=7,nn(Array.prototype.slice.call(S),function(u){return He(u,a.props.accept)});case 7:b=x.sent,a.uploadFiles(b),x.next=14;break;case 11:y=ce(b).filter(function(u){return He(u,h)}),g===!1&&(y=b.slice(0,1)),a.uploadFiles(y);case 14:case"end":return x.stop()}},d)}));return function(d,p){return l.apply(this,arguments)}})()),_(J(a),"onFilePaste",(function(){var l=fe(Q().mark(function d(p){var m,f;return Q().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(m=a.props.pastable,m){h.next=3;break}return h.abrupt("return");case 3:if(p.type!=="paste"){h.next=6;break}return f=p.clipboardData,h.abrupt("return",a.onDataTransferFiles(f,function(){p.preventDefault()}));case 6:case"end":return h.stop()}},d)}));return function(d){return l.apply(this,arguments)}})()),_(J(a),"onFileDragOver",function(l){l.preventDefault()}),_(J(a),"onFileDrop",(function(){var l=fe(Q().mark(function d(p){var m;return Q().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if(p.preventDefault(),p.type!=="drop"){g.next=4;break}return m=p.dataTransfer,g.abrupt("return",a.onDataTransferFiles(m));case 4:case"end":return g.stop()}},d)}));return function(d){return l.apply(this,arguments)}})()),_(J(a),"uploadFiles",function(l){var d=ce(l),p=d.map(function(m){return m.uid=qe(),a.processFile(m,d)});Promise.all(p).then(function(m){var f=a.props.onBatchStart;f==null||f(m.map(function(g){var h=g.origin,C=g.parsedFile;return{file:h,parsedFile:C}})),m.filter(function(g){return g.parsedFile!==null}).forEach(function(g){a.post(g)})})}),_(J(a),"processFile",(function(){var l=fe(Q().mark(function d(p,m){var f,g,h,C,S,b,y,$,x;return Q().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(f=a.props.beforeUpload,g=p,!f){c.next=14;break}return c.prev=3,c.next=6,f(p,m);case 6:g=c.sent,c.next=12;break;case 9:c.prev=9,c.t0=c.catch(3),g=!1;case 12:if(g!==!1){c.next=14;break}return c.abrupt("return",{origin:p,parsedFile:null,action:null,data:null});case 14:if(h=a.props.action,typeof h!="function"){c.next=21;break}return c.next=18,h(p);case 18:C=c.sent,c.next=22;break;case 21:C=h;case 22:if(S=a.props.data,typeof S!="function"){c.next=29;break}return c.next=26,S(p);case 26:b=c.sent,c.next=30;break;case 29:b=S;case 30:return y=($e(g)==="object"||typeof g=="string")&&g?g:p,y instanceof File?$=y:$=new File([y],p.name,{type:p.type}),x=$,x.uid=p.uid,c.abrupt("return",{origin:p,data:b,parsedFile:x,action:C});case 35:case"end":return c.stop()}},d,null,[[3,9]])}));return function(d,p){return l.apply(this,arguments)}})()),_(J(a),"saveFileInput",function(l){a.fileInput=l}),a}return It(r,[{key:"componentDidMount",value:function(){this._isMounted=!0;var o=this.props.pastable;o&&document.addEventListener("paste",this.onFilePaste)}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this.abort(),document.removeEventListener("paste",this.onFilePaste)}},{key:"componentDidUpdate",value:function(o){var n=this.props.pastable;n&&!o.pastable?document.addEventListener("paste",this.onFilePaste):!n&&o.pastable&&document.removeEventListener("paste",this.onFilePaste)}},{key:"post",value:function(o){var n=this,i=o.data,l=o.origin,d=o.action,p=o.parsedFile;if(this._isMounted){var m=this.props,f=m.onStart,g=m.customRequest,h=m.name,C=m.headers,S=m.withCredentials,b=m.method,y=l.uid,$=g||ht,x={action:d,filename:h,data:i,file:p,headers:C,withCredentials:S,method:b||"post",onProgress:function(c){var v=n.props.onProgress;v==null||v(c,p)},onSuccess:function(c,v){var w=n.props.onSuccess;w==null||w(c,p,v),delete n.reqs[y]},onError:function(c,v){var w=n.props.onError;w==null||w(c,v,p),delete n.reqs[y]}};f(l),this.reqs[y]=$(x,{defaultRequest:ht})}}},{key:"reset",value:function(){this.setState({uid:qe()})}},{key:"abort",value:function(o){var n=this.reqs;if(o){var i=o.uid?o.uid:o;n[i]&&n[i].abort&&n[i].abort(),delete n[i]}else Object.keys(n).forEach(function(l){n[l]&&n[l].abort&&n[l].abort(),delete n[l]})}},{key:"render",value:function(){var o=this.props,n=o.component,i=o.prefixCls,l=o.className,d=o.classNames,p=d===void 0?{}:d,m=o.disabled,f=o.id,g=o.name,h=o.style,C=o.styles,S=C===void 0?{}:C,b=o.multiple,y=o.accept,$=o.capture,x=o.children,u=o.directory,c=o.folder,v=o.openFileDialogOnClick,w=o.onMouseEnter,O=o.onMouseLeave,k=o.hasControlInside,j=$t(o,sn),Z=q(_(_(_({},i,!0),"".concat(i,"-disabled"),m),l,l)),W=u||c?{directory:"directory",webkitdirectory:"webkitdirectory"}:{},B=m?{}:{onClick:v?this.onClick:function(){},onKeyDown:v?this.onKeyDown:function(){},onMouseEnter:w,onMouseLeave:O,onDrop:this.onFileDrop,onDragOver:this.onFileDragOver,tabIndex:k?void 0:"0"};return Je.createElement(n,ue({},B,{className:Z,role:k?void 0:"button",style:h}),Je.createElement("input",ue({},Yt(j,{aria:!0,data:!0}),{id:f,name:g,disabled:m,type:"file",ref:this.saveFileInput,onClick:function(M){return M.stopPropagation()},key:this.state.uid,style:Ge({display:"none"},S.input),className:p.input,accept:y},W,{multiple:b,onChange:this.onChange},$!=null?{capture:$}:{})),x)}}]),r})(s.Component);function Xe(){}var et=(function(e){Et(r,e);var t=jt(r);function r(){var a;Ot(this,r);for(var o=arguments.length,n=new Array(o),i=0;i<o;i++)n[i]=arguments[i];return a=t.call.apply(t,[this].concat(n)),_(J(a),"uploader",void 0),_(J(a),"saveUploader",function(l){a.uploader=l}),a}return It(r,[{key:"abort",value:function(o){this.uploader.abort(o)}},{key:"render",value:function(){return Je.createElement(ln,ue({},this.props,{ref:this.saveUploader}))}}]),r})(s.Component);_(et,"defaultProps",{component:"span",prefixCls:"rc-upload",data:{},headers:{},name:"file",multipart:!1,onStart:Xe,onError:Xe,onSuccess:Xe,multiple:!1,beforeUpload:null,customRequest:null,withCredentials:!1,openFileDialogOnClick:!0,hasControlInside:!1});const cn=e=>{const{componentCls:t,iconCls:r}=e;return{[`${t}-wrapper`]:{[`${t}-drag`]:{position:"relative",width:"100%",height:"100%",textAlign:"center",background:e.colorFillAlter,border:`${ne(e.lineWidth)} dashed ${e.colorBorder}`,borderRadius:e.borderRadiusLG,cursor:"pointer",transition:`border-color ${e.motionDurationSlow}`,[t]:{padding:e.padding},[`${t}-btn`]:{display:"table",width:"100%",height:"100%",outline:"none",borderRadius:e.borderRadiusLG,"&:focus-visible":{outline:`${ne(e.lineWidthFocus)} solid ${e.colorPrimaryBorder}`}},[`${t}-drag-container`]:{display:"table-cell",verticalAlign:"middle"},[`
          &:not(${t}-disabled):hover,
          &-hover:not(${t}-disabled)
        `]:{borderColor:e.colorPrimaryHover},[`p${t}-drag-icon`]:{marginBottom:e.margin,[r]:{color:e.colorPrimary,fontSize:e.uploadThumbnailSize}},[`p${t}-text`]:{margin:`0 0 ${ne(e.marginXXS)}`,color:e.colorTextHeading,fontSize:e.fontSizeLG},[`p${t}-hint`]:{color:e.colorTextDescription,fontSize:e.fontSize},[`&${t}-disabled`]:{[`p${t}-drag-icon ${r},
            p${t}-text,
            p${t}-hint
          `]:{color:e.colorTextDisabled}}}}}},dn=e=>{const{componentCls:t,iconCls:r,fontSize:a,lineHeight:o,calc:n}=e,i=`${t}-list-item`,l=`${i}-actions`,d=`${i}-action`;return{[`${t}-wrapper`]:{[`${t}-list`]:Object.assign(Object.assign({},Lt()),{lineHeight:e.lineHeight,[i]:{position:"relative",height:n(e.lineHeight).mul(a).equal(),marginTop:e.marginXS,fontSize:a,display:"flex",alignItems:"center",transition:`background-color ${e.motionDurationSlow}`,borderRadius:e.borderRadiusSM,"&:hover":{backgroundColor:e.controlItemBgHover},[`${i}-name`]:Object.assign(Object.assign({},Pt),{padding:`0 ${ne(e.paddingXS)}`,lineHeight:o,flex:"auto",transition:`all ${e.motionDurationSlow}`}),[l]:{whiteSpace:"nowrap",[d]:{opacity:0},[r]:{color:e.actionsColor,transition:`all ${e.motionDurationSlow}`},[`
              ${d}:focus-visible,
              &.picture ${d}
            `]:{opacity:1}},[`${t}-icon ${r}`]:{color:e.colorIcon,fontSize:a},[`${i}-progress`]:{position:"absolute",bottom:e.calc(e.uploadProgressOffset).mul(-1).equal(),width:"100%",paddingInlineStart:n(a).add(e.paddingXS).equal(),fontSize:a,lineHeight:0,pointerEvents:"none","> div":{margin:0}}},[`${i}:hover ${d}`]:{opacity:1},[`${i}-error`]:{color:e.colorError,[`${i}-name, ${t}-icon ${r}`]:{color:e.colorError},[l]:{[`${r}, ${r}:hover`]:{color:e.colorError},[d]:{opacity:1}}},[`${t}-list-item-container`]:{transition:`opacity ${e.motionDurationSlow}, height ${e.motionDurationSlow}`,"&::before":{display:"table",width:0,height:0,content:'""'}}})}}},un=e=>{const{componentCls:t}=e,r=new Ze("uploadAnimateInlineIn",{from:{width:0,height:0,padding:0,opacity:0,margin:e.calc(e.marginXS).div(-2).equal()}}),a=new Ze("uploadAnimateInlineOut",{to:{width:0,height:0,padding:0,opacity:0,margin:e.calc(e.marginXS).div(-2).equal()}}),o=`${t}-animate-inline`;return[{[`${t}-wrapper`]:{[`${o}-appear, ${o}-enter, ${o}-leave`]:{animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseInOutCirc,animationFillMode:"forwards"},[`${o}-appear, ${o}-enter`]:{animationName:r},[`${o}-leave`]:{animationName:a}}},{[`${t}-wrapper`]:er(e)},r,a]},pn=e=>{const{componentCls:t,iconCls:r,uploadThumbnailSize:a,uploadProgressOffset:o,calc:n}=e,i=`${t}-list`,l=`${i}-item`;return{[`${t}-wrapper`]:{[`
        ${i}${i}-picture,
        ${i}${i}-picture-card,
        ${i}${i}-picture-circle
      `]:{[l]:{position:"relative",height:n(a).add(n(e.lineWidth).mul(2)).add(n(e.paddingXS).mul(2)).equal(),padding:e.paddingXS,border:`${ne(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusLG,"&:hover":{background:"transparent"},[`${l}-thumbnail`]:Object.assign(Object.assign({},Pt),{width:a,height:a,lineHeight:ne(n(a).add(e.paddingSM).equal()),textAlign:"center",flex:"none",[r]:{fontSize:e.fontSizeHeading2,color:e.colorPrimary},img:{display:"block",width:"100%",height:"100%",overflow:"hidden"}}),[`${l}-progress`]:{bottom:o,width:`calc(100% - ${ne(n(e.paddingSM).mul(2).equal())})`,marginTop:0,paddingInlineStart:n(a).add(e.paddingXS).equal()}},[`${l}-error`]:{borderColor:e.colorError,[`${l}-thumbnail ${r}`]:{[`svg path[fill='${st[0]}']`]:{fill:e.colorErrorBg},[`svg path[fill='${st.primary}']`]:{fill:e.colorError}}},[`${l}-uploading`]:{borderStyle:"dashed",[`${l}-name`]:{marginBottom:o}}},[`${i}${i}-picture-circle ${l}`]:{[`&, &::before, ${l}-thumbnail`]:{borderRadius:"50%"}}}}},mn=e=>{const{componentCls:t,iconCls:r,fontSizeLG:a,colorTextLightSolid:o,calc:n}=e,i=`${t}-list`,l=`${i}-item`,d=e.uploadPicCardSize;return{[`
      ${t}-wrapper${t}-picture-card-wrapper,
      ${t}-wrapper${t}-picture-circle-wrapper
    `]:Object.assign(Object.assign({},Lt()),{display:"block",[`${t}${t}-select`]:{width:d,height:d,textAlign:"center",verticalAlign:"top",backgroundColor:e.colorFillAlter,border:`${ne(e.lineWidth)} dashed ${e.colorBorder}`,borderRadius:e.borderRadiusLG,cursor:"pointer",transition:`border-color ${e.motionDurationSlow}`,[`> ${t}`]:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",textAlign:"center"},[`&:not(${t}-disabled):hover`]:{borderColor:e.colorPrimary}},[`${i}${i}-picture-card, ${i}${i}-picture-circle`]:{display:"flex",flexWrap:"wrap","@supports not (gap: 1px)":{"& > *":{marginBlockEnd:e.marginXS,marginInlineEnd:e.marginXS}},"@supports (gap: 1px)":{gap:e.marginXS},[`${i}-item-container`]:{display:"inline-block",width:d,height:d,verticalAlign:"top"},"&::after":{display:"none"},"&::before":{display:"none"},[l]:{height:"100%",margin:0,"&::before":{position:"absolute",zIndex:1,width:`calc(100% - ${ne(n(e.paddingXS).mul(2).equal())})`,height:`calc(100% - ${ne(n(e.paddingXS).mul(2).equal())})`,backgroundColor:e.colorBgMask,opacity:0,transition:`all ${e.motionDurationSlow}`,content:'" "'}},[`${l}:hover`]:{[`&::before, ${l}-actions`]:{opacity:1}},[`${l}-actions`]:{position:"absolute",insetInlineStart:0,zIndex:10,width:"100%",whiteSpace:"nowrap",textAlign:"center",opacity:0,transition:`all ${e.motionDurationSlow}`,[`
            ${r}-eye,
            ${r}-download,
            ${r}-delete
          `]:{zIndex:10,width:a,margin:`0 ${ne(e.marginXXS)}`,fontSize:a,cursor:"pointer",transition:`all ${e.motionDurationSlow}`,color:o,"&:hover":{color:o},svg:{verticalAlign:"baseline"}}},[`${l}-thumbnail, ${l}-thumbnail img`]:{position:"static",display:"block",width:"100%",height:"100%",objectFit:"contain"},[`${l}-name`]:{display:"none",textAlign:"center"},[`${l}-file + ${l}-name`]:{position:"absolute",bottom:e.margin,display:"block",width:`calc(100% - ${ne(n(e.paddingXS).mul(2).equal())})`},[`${l}-uploading`]:{[`&${l}`]:{backgroundColor:e.colorFillAlter},[`&::before, ${r}-eye, ${r}-download, ${r}-delete`]:{display:"none"}},[`${l}-progress`]:{bottom:e.marginXL,width:`calc(100% - ${ne(n(e.paddingXS).mul(2).equal())})`,paddingInlineStart:0}}}),[`${t}-wrapper${t}-picture-circle-wrapper`]:{[`${t}${t}-select`]:{borderRadius:"50%"}}}},fn=e=>{const{componentCls:t}=e;return{[`${t}-rtl`]:{direction:"rtl"}}},gn=e=>{const{componentCls:t,colorTextDisabled:r}=e;return{[`${t}-wrapper`]:Object.assign(Object.assign({},St(e)),{[t]:{outline:0,"input[type='file']":{cursor:"pointer"}},[`${t}-select`]:{display:"inline-block"},[`${t}-hidden`]:{display:"none"},[`${t}-disabled`]:{color:r,cursor:"not-allowed"}})}},hn=e=>({actionsColor:e.colorIcon,pictureCardSize:e.controlHeightLG*2.55}),vn=wt("Upload",e=>{const{fontSizeHeading3:t,fontHeight:r,lineWidth:a,pictureCardSize:o,calc:n}=e,i=Ct(e,{uploadThumbnailSize:n(t).mul(2).equal(),uploadProgressOffset:n(n(r).div(2)).add(a).equal(),uploadPicCardSize:o});return[gn(i),cn(i),pn(i),mn(i),dn(i),un(i),fn(i),tr(i)]},hn);var bn=function(t,r){return s.createElement(Ie,ue({},t,{ref:r,icon:wr}))},yn=s.forwardRef(bn),$n=function(t,r){return s.createElement(Ie,ue({},t,{ref:r,icon:Cr}))},wn=s.forwardRef($n),Cn=function(t,r){return s.createElement(Ie,ue({},t,{ref:r,icon:Sr}))},Sn=s.forwardRef(Cn);function Pe(e){return Object.assign(Object.assign({},e),{lastModified:e.lastModified,lastModifiedDate:e.lastModifiedDate,name:e.name,size:e.size,type:e.type,uid:e.uid,percent:0,originFileObj:e})}function De(e,t){const r=ce(t),a=r.findIndex(({uid:o})=>o===e.uid);return a===-1?r.push(e):r[a]=e,r}function Ve(e,t){const r=e.uid!==void 0?"uid":"name";return t.filter(a=>a[r]===e[r])[0]}function xn(e,t){const r=e.uid!==void 0?"uid":"name",a=t.filter(o=>o[r]!==e[r]);return a.length===t.length?null:a}const En=(e="")=>{const t=e.split("/"),a=t[t.length-1].split(/#|\?/)[0];return(/\.[^./\\]*$/.exec(a)||[""])[0]},Ft=e=>e.indexOf("image/")===0,jn=e=>{if(e.type&&!e.thumbUrl)return Ft(e.type);const t=e.thumbUrl||e.url||"",r=En(t);return/^data:image\//.test(t)||/(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg|ico|heic|heif)$/i.test(r)?!0:!(/^data:/.test(t)||r)},me=200;function On(e){return new Promise(t=>{if(!e.type||!Ft(e.type)){t("");return}const r=document.createElement("canvas");r.width=me,r.height=me,r.style.cssText=`position: fixed; left: 0; top: 0; width: ${me}px; height: ${me}px; z-index: 9999; display: none;`,document.body.appendChild(r);const a=r.getContext("2d"),o=new Image;if(o.onload=()=>{const{width:n,height:i}=o;let l=me,d=me,p=0,m=0;n>i?(d=i*(me/n),m=-(d-l)/2):(l=n*(me/i),p=-(l-d)/2),a.drawImage(o,p,m,l,d);const f=r.toDataURL();document.body.removeChild(r),window.URL.revokeObjectURL(o.src),t(f)},o.crossOrigin="anonymous",e.type.startsWith("image/svg+xml")){const n=new FileReader;n.onload=()=>{n.result&&typeof n.result=="string"&&(o.src=n.result)},n.readAsDataURL(e)}else if(e.type.startsWith("image/gif")){const n=new FileReader;n.onload=()=>{n.result&&t(n.result)},n.readAsDataURL(e)}else o.src=window.URL.createObjectURL(e)})}var In=function(t,r){return s.createElement(Ie,ue({},t,{ref:r,icon:rr}))},Ln=s.forwardRef(In);const Pn=s.forwardRef(({prefixCls:e,className:t,style:r,locale:a,listType:o,file:n,items:i,progress:l,iconRender:d,actionIconRender:p,itemRender:m,isImgUrl:f,showPreviewIcon:g,showRemoveIcon:h,showDownloadIcon:C,previewIcon:S,removeIcon:b,downloadIcon:y,extra:$,onPreview:x,onDownload:u,onClose:c},v)=>{var w,O;const{status:k}=n,[j,Z]=s.useState(k);s.useEffect(()=>{k!=="removed"&&Z(k)},[k]);const[W,B]=s.useState(!1);s.useEffect(()=>{const U=setTimeout(()=>{B(!0)},300);return()=>{clearTimeout(U)}},[]);const N=d(n);let M=s.createElement("div",{className:`${e}-icon`},N);if(o==="picture"||o==="picture-card"||o==="picture-circle")if(j==="uploading"||!n.thumbUrl&&!n.url){const U=q(`${e}-list-item-thumbnail`,{[`${e}-list-item-file`]:j!=="uploading"});M=s.createElement("div",{className:U},N)}else{const U=f!=null&&f(n)?s.createElement("img",{src:n.thumbUrl||n.url,alt:n.name,className:`${e}-list-item-image`,crossOrigin:n.crossOrigin}):N,we=q(`${e}-list-item-thumbnail`,{[`${e}-list-item-file`]:f&&!f(n)});M=s.createElement("a",{className:we,onClick:Le=>x(n,Le),href:n.url||n.thumbUrl,target:"_blank",rel:"noopener noreferrer"},U)}const X=q(`${e}-list-item`,`${e}-list-item-${j}`),K=typeof n.linkProps=="string"?JSON.parse(n.linkProps):n.linkProps,te=(typeof h=="function"?h(n):h)?p((typeof b=="function"?b(n):b)||s.createElement(tn,null),()=>c(n),e,a.removeFile,!0):null,P=(typeof C=="function"?C(n):C)&&j==="done"?p((typeof y=="function"?y(n):y)||s.createElement(Ln,null),()=>u(n),e,a.downloadFile):null,V=o!=="picture-card"&&o!=="picture-circle"&&s.createElement("span",{key:"download-delete",className:q(`${e}-list-item-actions`,{picture:o==="picture"})},P,te),G=typeof $=="function"?$(n):$,re=G&&s.createElement("span",{className:`${e}-list-item-extra`},G),E=q(`${e}-list-item-name`),F=n.url?s.createElement("a",Object.assign({key:"view",target:"_blank",rel:"noopener noreferrer",className:E,title:n.name},K,{href:n.url,onClick:U=>x(n,U)}),n.name,re):s.createElement("span",{key:"view",className:E,onClick:U=>x(n,U),title:n.name},n.name,re),z=(typeof g=="function"?g(n):g)&&(n.url||n.thumbUrl)?s.createElement("a",{href:n.url||n.thumbUrl,target:"_blank",rel:"noopener noreferrer",onClick:U=>x(n,U),title:a.previewFile},typeof S=="function"?S(n):S||s.createElement(nr,null)):null,Y=(o==="picture-card"||o==="picture-circle")&&j!=="uploading"&&s.createElement("span",{className:`${e}-list-item-actions`},z,j==="done"&&P,te),{getPrefixCls:oe}=s.useContext(Ne),se=oe(),ie=s.createElement("div",{className:X},M,F,V,Y,W&&s.createElement(Dt,{motionName:`${se}-fade`,visible:j==="uploading",motionDeadline:2e3},({className:U})=>{const we="percent"in n?s.createElement(Yr,Object.assign({type:"line",percent:n.percent,"aria-label":n["aria-label"],"aria-labelledby":n["aria-labelledby"]},l)):null;return s.createElement("div",{className:q(`${e}-list-item-progress`,U)},we)})),pe=n.response&&typeof n.response=="string"?n.response:((w=n.error)===null||w===void 0?void 0:w.statusText)||((O=n.error)===null||O===void 0?void 0:O.message)||a.uploadError,le=j==="error"?s.createElement(je,{title:pe,getPopupContainer:U=>U.parentNode},ie):ie;return s.createElement("div",{className:q(`${e}-list-item-container`,t),style:r,ref:v},m?m(le,n,i,{download:u.bind(null,n),preview:x.bind(null,n),remove:c.bind(null,n)}):le)}),Dn=(e,t)=>{const{listType:r="text",previewFile:a=On,onPreview:o,onDownload:n,onRemove:i,locale:l,iconRender:d,isImageUrl:p=jn,prefixCls:m,items:f=[],showPreviewIcon:g=!0,showRemoveIcon:h=!0,showDownloadIcon:C=!1,removeIcon:S,previewIcon:b,downloadIcon:y,extra:$,progress:x={size:[-1,2],showInfo:!1},appendAction:u,appendActionVisible:c=!0,itemRender:v,disabled:w}=e,[,O]=ar(),[k,j]=s.useState(!1),Z=["picture-card","picture-circle"].includes(r);s.useEffect(()=>{r.startsWith("picture")&&(f||[]).forEach(E=>{!(E.originFileObj instanceof File||E.originFileObj instanceof Blob)||E.thumbUrl!==void 0||(E.thumbUrl="",a==null||a(E.originFileObj).then(F=>{E.thumbUrl=F||"",O()}))})},[r,f,a]),s.useEffect(()=>{j(!0)},[]);const W=(E,F)=>{if(o)return F==null||F.preventDefault(),o(E)},B=E=>{typeof n=="function"?n(E):E.url&&window.open(E.url)},N=E=>{i==null||i(E)},M=E=>{if(d)return d(E,r);const F=E.status==="uploading";if(r.startsWith("picture")){const z=r==="picture"?s.createElement(lt,null):l.uploading,Y=p!=null&&p(E)?s.createElement(Sn,null):s.createElement(yn,null);return F?z:Y}return F?s.createElement(lt,null):s.createElement(wn,null)},X=(E,F,z,Y,oe)=>{const se={type:"text",size:"small",title:Y,onClick:ie=>{var pe,le;F(),s.isValidElement(E)&&((le=(pe=E.props).onClick)===null||le===void 0||le.call(pe,ie))},className:`${z}-list-item-action`,disabled:oe?w:!1};return s.isValidElement(E)?s.createElement(Oe,Object.assign({},se,{icon:it(E,Object.assign(Object.assign({},E.props),{onClick:()=>{}}))})):s.createElement(Oe,Object.assign({},se),s.createElement("span",null,E))};s.useImperativeHandle(t,()=>({handlePreview:W,handleDownload:B}));const{getPrefixCls:K}=s.useContext(Ne),te=K("upload",m),P=K(),V=q(`${te}-list`,`${te}-list-${r}`),G=s.useMemo(()=>xt(or(P),["onAppearEnd","onEnterEnd","onLeaveEnd"]),[P]),re=Object.assign(Object.assign({},Z?{}:G),{motionDeadline:2e3,motionName:`${te}-${Z?"animate-inline":"animate"}`,keys:ce(f.map(E=>({key:E.uid,file:E}))),motionAppear:k});return s.createElement("div",{className:V},s.createElement(sr,Object.assign({},re,{component:!1}),({key:E,file:F,className:z,style:Y})=>s.createElement(Pn,{key:E,locale:l,prefixCls:te,className:z,style:Y,file:F,items:f,progress:x,listType:r,isImgUrl:p,showPreviewIcon:g,showRemoveIcon:h,showDownloadIcon:C,removeIcon:S,previewIcon:b,downloadIcon:y,extra:$,iconRender:M,actionIconRender:X,itemRender:v,onPreview:W,onDownload:B,onClose:N})),u&&s.createElement(Dt,Object.assign({},re,{visible:c,forceRender:!0}),({className:E,style:F})=>it(u,z=>({className:q(z.className,E),style:Object.assign(Object.assign(Object.assign({},F),{pointerEvents:E?"none":void 0}),z.style)}))))},Rn=s.forwardRef(Dn);var Fn=function(e,t,r,a){function o(n){return n instanceof r?n:new r(function(i){i(n)})}return new(r||(r=Promise))(function(n,i){function l(m){try{p(a.next(m))}catch(f){i(f)}}function d(m){try{p(a.throw(m))}catch(f){i(f)}}function p(m){m.done?n(m.value):o(m.value).then(l,d)}p((a=a.apply(e,[])).next())})};const Ee=`__LIST_IGNORE_${Date.now()}__`,kn=(e,t)=>{const r=ir("upload"),{fileList:a,defaultFileList:o,onRemove:n,showUploadList:i=!0,listType:l="text",onPreview:d,onDownload:p,onChange:m,onDrop:f,previewFile:g,disabled:h,locale:C,iconRender:S,isImageUrl:b,progress:y,prefixCls:$,className:x,type:u="select",children:c,style:v,itemRender:w,maxCount:O,data:k={},multiple:j=!1,hasControlInside:Z=!0,action:W="",accept:B="",supportServerRender:N=!0,rootClassName:M}=e,X=s.useContext(lr),K=h??X,te=e.customRequest||r.customRequest,[P,V]=cr(o||[],{value:a,postState:I=>I??[]}),[G,re]=s.useState("drop"),E=s.useRef(null),F=s.useRef(null);s.useMemo(()=>{const I=Date.now();(a||[]).forEach((R,T)=>{!R.uid&&!Object.isFrozen(R)&&(R.uid=`__AUTO__${I}_${T}__`)})},[a]);const z=(I,R,T)=>{let L=ce(R),A=!1;O===1?L=L.slice(-1):O&&(A=L.length>O,L=L.slice(0,O)),ct.flushSync(()=>{V(L)});const ee={file:I,fileList:L};T&&(ee.event=T),(!A||I.status==="removed"||L.some(he=>he.uid===I.uid))&&ct.flushSync(()=>{m==null||m(ee)})},Y=(I,R)=>Fn(void 0,void 0,void 0,function*(){const{beforeUpload:T,transformFile:L}=e;let A=I;if(T){const ee=yield T(I,R);if(ee===!1)return!1;if(delete I[Ee],ee===Ee)return Object.defineProperty(I,Ee,{value:!0,configurable:!0}),!1;typeof ee=="object"&&ee&&(A=ee)}return L&&(A=yield L(A)),A}),oe=I=>{const R=I.filter(A=>!A.file[Ee]);if(!R.length)return;const T=R.map(A=>Pe(A.file));let L=ce(P);T.forEach(A=>{L=De(A,L)}),T.forEach((A,ee)=>{let he=A;if(R[ee].parsedFile)A.status="uploading";else{const{originFileObj:ye}=A;let ve;try{ve=new File([ye],ye.name,{type:ye.type})}catch{ve=new Blob([ye],{type:ye.type}),ve.name=ye.name,ve.lastModifiedDate=new Date,ve.lastModified=new Date().getTime()}ve.uid=A.uid,he=ve}z(he,L)})},se=(I,R,T)=>{try{typeof I=="string"&&(I=JSON.parse(I))}catch{}if(!Ve(R,P))return;const L=Pe(R);L.status="done",L.percent=100,L.response=I,L.xhr=T;const A=De(L,P);z(L,A)},ie=(I,R)=>{if(!Ve(R,P))return;const T=Pe(R);T.status="uploading",T.percent=I.percent;const L=De(T,P);z(T,L,I)},pe=(I,R,T)=>{if(!Ve(T,P))return;const L=Pe(T);L.error=I,L.response=R,L.status="error";const A=De(L,P);z(L,A)},le=I=>{let R;Promise.resolve(typeof n=="function"?n(I):n).then(T=>{var L;if(T===!1)return;const A=xn(I,P);A&&(R=Object.assign(Object.assign({},I),{status:"removed"}),P==null||P.forEach(ee=>{const he=R.uid!==void 0?"uid":"name";ee[he]===R[he]&&!Object.isFrozen(ee)&&(ee.status="removed")}),(L=E.current)===null||L===void 0||L.abort(R),z(R,A))})},U=I=>{re(I.type),I.type==="drop"&&(f==null||f(I))};s.useImperativeHandle(t,()=>({onBatchStart:oe,onSuccess:se,onProgress:ie,onError:pe,fileList:P,upload:E.current,nativeElement:F.current}));const{getPrefixCls:we,direction:Le,upload:be}=s.useContext(Ne),H=we("upload",$),Ce=Object.assign(Object.assign({onBatchStart:oe,onError:pe,onProgress:ie,onSuccess:se},e),{customRequest:te,data:k,multiple:j,action:W,accept:B,supportServerRender:N,prefixCls:H,disabled:K,beforeUpload:Y,onChange:void 0,hasControlInside:Z});delete Ce.className,delete Ce.style,(!c||K)&&delete Ce.id;const tt=`${H}-wrapper`,[Te,rt,Nt]=vn(H,tt),[At]=dr("Upload",ur.Upload),{showRemoveIcon:nt,showPreviewIcon:Mt,showDownloadIcon:Tt,removeIcon:Wt,previewIcon:zt,downloadIcon:_t,extra:Bt}=typeof i=="boolean"?{}:i,Ut=typeof nt>"u"?!K:nt,We=(I,R)=>i?s.createElement(Rn,{prefixCls:H,listType:l,items:P,previewFile:g,onPreview:d,onDownload:p,onRemove:le,showRemoveIcon:Ut,showPreviewIcon:Mt,showDownloadIcon:Tt,removeIcon:Wt,previewIcon:zt,downloadIcon:_t,iconRender:S,extra:Bt,locale:Object.assign(Object.assign({},At),C),isImageUrl:b,progress:y,appendAction:I,appendActionVisible:R,itemRender:w,disabled:K}):I,ze=q(tt,x,M,rt,Nt,be==null?void 0:be.className,{[`${H}-rtl`]:Le==="rtl",[`${H}-picture-card-wrapper`]:l==="picture-card",[`${H}-picture-circle-wrapper`]:l==="picture-circle"}),at=Object.assign(Object.assign({},be==null?void 0:be.style),v);if(u==="drag"){const I=q(rt,H,`${H}-drag`,{[`${H}-drag-uploading`]:P.some(R=>R.status==="uploading"),[`${H}-drag-hover`]:G==="dragover",[`${H}-disabled`]:K,[`${H}-rtl`]:Le==="rtl"});return Te(s.createElement("span",{className:ze,ref:F},s.createElement("div",{className:I,style:at,onDrop:U,onDragOver:U,onDragLeave:U},s.createElement(et,Object.assign({},Ce,{ref:E,className:`${H}-btn`}),s.createElement("div",{className:`${H}-drag-container`},c))),We()))}const Ht=q(H,`${H}-select`,{[`${H}-disabled`]:K,[`${H}-hidden`]:!c}),ot=s.createElement("div",{className:Ht,style:at},s.createElement(et,Object.assign({},Ce,{ref:E})));return Te(l==="picture-card"||l==="picture-circle"?s.createElement("span",{className:ze,ref:F},We(ot,!!c)):s.createElement("span",{className:ze,ref:F},ot,We()))},kt=s.forwardRef(kn);var Nn=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(r[a[o]]=e[a[o]]);return r};const An=s.forwardRef((e,t)=>{const{style:r,height:a,hasControlInside:o=!1,children:n}=e,i=Nn(e,["style","height","hasControlInside","children"]),l=Object.assign(Object.assign({},r),{height:a});return s.createElement(kt,Object.assign({ref:t,hasControlInside:o},i,{style:l,type:"drag"}),n)}),ke=kt;ke.Dragger=An;ke.LIST_IGNORE=Ee;const Mn=e=>s.createElement("svg",{width:8,height:24,viewBox:"0 0 8 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},s.createElement("path",{d:"M4.07414 1.07222C4.54376 0.173802 5.62729 -0.241098 6.58879 0.143504C7.55011 0.528132 8.04785 1.57543 7.76848 2.54975L7.70305 2.74409L3.99992 12.0009L7.70305 21.2578L7.76848 21.4521C8.04785 22.4264 7.55011 23.4737 6.58879 23.8583C5.62729 24.243 4.54376 23.8281 4.07414 22.9296L3.98821 22.7441L0.286058 13.4863C-0.0953527 12.5327 -0.0953524 11.4692 0.286058 10.5156L3.98821 1.25776L4.07414 1.07222Z",fill:"currentColor"})),Tn=e=>s.createElement("svg",{width:8,height:24,viewBox:"0 0 8 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},s.createElement("path",{d:"M3.77156 1.07222C3.30194 0.173802 2.21842 -0.241098 1.25691 0.143504C0.29559 0.528132 -0.202146 1.57543 0.0772238 2.54975L0.142653 2.74409L3.84578 12.0009L0.142653 21.2578L0.0772238 21.4521C-0.202146 22.4264 0.29559 23.4737 1.25691 23.8583C2.21842 24.243 3.30194 23.8281 3.77156 22.9296L3.8575 22.7441L7.55965 13.4863C7.94106 12.5327 7.94106 11.4692 7.55965 10.5156L3.8575 1.25776L3.77156 1.07222Z",fill:"currentColor"})),Wn=e=>s.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 37 36",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},s.createElement("path",{d:"M9.25828 15.2031C5.95607 15.9884 3.5 18.9573 3.5 22.4999C3.5 26.642 6.85786 29.9999 11 29.9999C11.7106 29.9999 12.398 29.9011 13.0494 29.7165",stroke:"currentColor",strokeOpacity:.8,strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M27.541 15.2031C30.8432 15.9884 33.2993 18.9573 33.2993 22.4999C33.2993 26.642 29.9414 29.9999 25.7993 29.9999C25.0887 29.9999 24.4013 29.9011 23.7499 29.7165",stroke:"currentColor",strokeOpacity:.8,strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M27.5 15C27.5 10.0295 23.4705 6 18.5 6C13.5295 6 9.5 10.0295 9.5 15",stroke:"currentColor",strokeOpacity:.8,strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M13.2991 20.9109L18.4999 15.6929L23.8489 21.0002",stroke:"currentColor",strokeOpacity:.8,strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M18.5 28.5003V18.3467",stroke:"currentColor",strokeOpacity:.8,strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round"})),zn="_uploadDragger_1e6jb_2",_n="_fileList_1e6jb_12",vt={uploadDragger:zn,fileList:_n},Bn="filesDB",de="files";function Me(){return new Promise((e,t)=>{const r=indexedDB.open(Bn,1);r.onerror=()=>t(r.error),r.onsuccess=()=>e(r.result),r.onupgradeneeded=a=>{const o=a.target.result;o.objectStoreNames.contains(de)||o.createObjectStore(de,{keyPath:"id",autoIncrement:!0})}})}async function Un(e){const t=await Me();return new Promise((r,a)=>{const o=t.transaction(de,"readwrite"),i=o.objectStore(de).add(e);i.onsuccess=()=>r(i.result),i.onerror=()=>a(i.error),o.oncomplete=()=>t.close()})}async function Hn(){const e=await Me(),t=e.transaction(de,"readwrite"),a=t.objectStore(de).clear();a.onsuccess=()=>Promise.resolve(),a.onerror=()=>Promise.reject(a.error),t.oncomplete=()=>e.close()}async function qn(){const e=await Me();return new Promise((t,r)=>{const a=e.transaction(de,"readonly"),n=a.objectStore(de).getAll();n.onsuccess=()=>t(n.result),n.onerror=()=>r(n.error),a.oncomplete=()=>e.close()})}async function Xn(e){const t=await Me();return new Promise((r,a)=>{const o=t.transaction(de,"readwrite"),i=o.objectStore(de).delete(e);i.onsuccess=()=>r(),i.onerror=()=>a(i.error),o.oncomplete=()=>t.close()})}async function Vn(e){try{if(typeof DecompressionStream>"u")throw new TypeError("DecompressionStream API");const t=new Blob([e]),r=new DecompressionStream("gzip"),a=t.stream().pipeThrough(r);return await(await new Response(a).blob()).text()}catch(t){throw console.error("GZ:",t),t}}function Gn(e){const t=[],r="WARC/1.0";return e.split(r).filter(o=>o.trim().length>0).forEach((o,n)=>{const i=r+o,l=i.indexOf(`\r
\r
`);if(l===-1)return;const d=i.substring(0,l),p=i.substring(l+4),m=d.match(/WARC-Type:\s*([^\r\n]+)/i),f=m?m[1].trim():"unknown",g=d.match(/WARC-Record-ID:\s*([^\r\n]+)/i),h=g?g[1].trim():`record-${n}`,C=d.match(/WARC-Date:\s*([^\r\n]+)/i),S=C?C[1].trim():"",b=d.match(/WARC-Target-URI:\s*([^\r\n]+)/i),y=b?b[1].trim():"",$=d.match(/Content-Type:\s*([^\r\n]+)/i),x=$?$[1].trim():"";t.push({warcType:f,warcRecordId:h,date:S,content:p,url:y,contentType:x})}),t}const bt=800*1024*1024;function Yn(){const{t:e}=pr(),[t,r]=s.useState([]),[a,o]=s.useState(!0),[n,i]=s.useState(null),[l,d]=s.useState(""),[p,m]=s.useState(0),[f,g]=s.useState(!1);s.useEffect(()=>{document.title=`Vis3 - ${e("local")}`},[e]),s.useEffect(()=>{n&&d(`http://localhost:3000/local/${n.name}`)},[n]),s.useEffect(()=>{(async()=>{try{const c=await qn();r(c)}catch(c){console.error("Failed to load files:",c),ae.error(e("load.error"))}finally{o(!1)}})()},[e]);const h=u=>{const c=new FileReader;c.onload=async v=>{var Z;const w=(Z=v.target)==null?void 0:Z.result;let O="",k=!1,j="";try{if(u.name.endsWith(".gz")||u.name.endsWith(".warc.gz")){if(k=!0,w instanceof ArrayBuffer)try{j=await Vn(w),O=j}catch(N){console.error(":",N),ae.error("");const M=new Uint8Array(w);O=Array.from(M).map(X=>X.toString(16).padStart(2,"0")).join(" ")}}else if(typeof w=="string")O=w;else if(w instanceof ArrayBuffer)try{O=new TextDecoder("utf-8").decode(w)}catch{const M=new Uint8Array(w);O=Array.from(M).map(X=>X.toString(16).padStart(2,"0")).join(" ")}const W={name:u.name,content:O,type:u.type,lastModified:u.lastModified,isCompressed:k,decompressedContent:j};if(u.name.endsWith(".warc")||u.name.endsWith(".warc.gz"))try{const M=Gn(k?j:O);W.warcRecords=M,W.content=JSON.stringify(M,null,2)}catch(N){console.error(e("upload.warcError"),N),ae.error(e("upload.warcError"))}const B=await Un(W);r(N=>[...N,{...W,id:B}]),i({...W,id:B}),ae.success(`${u.name} ${e("upload.success")}`)}catch(W){console.error(e("upload.readError"),W),ae.error(e("upload.readError"))}},c.onerror=()=>{ae.error(e("upload.readError"))},u.type.includes("text")||u.type.includes("json")||u.type.includes("jsonl")||u.name.endsWith(".md")||u.name.endsWith(".csv")||u.name.endsWith(".json")||u.name.endsWith(".jsonl")||u.name.endsWith(".md")||u.name.endsWith(".csv")||u.name.endsWith(".json")||u.name.endsWith(".jsonl")?c.readAsText(u):u.type.includes("image")?c.readAsDataURL(u):c.readAsArrayBuffer(u)},C=async u=>{if(u!==void 0)try{await Xn(u),i(null),r(c=>c.filter(v=>v.id!==u)),ae.success(e("upload.deleteSuccess"))}catch(c){console.error("Failed to delete file:",c),ae.error(e("upload.deleteFailed"))}},S=async()=>{await Hn(),r([])},b={name:"file",multiple:!0,accept:".json, .jsonl, .jsonl.gz, .md, .csv, .html, .txt",showUploadList:!1,beforeUpload:u=>u.size>bt?(ae.error(`${u.name} ${e("upload.maxSize")} 500MB`),!1):t.some(v=>v.name===u.name)?(ae.error(`${e("upload.sameName")}: ${u.name}`),!1):(h(u),!1),onDrop(u){Array.from(u.dataTransfer.files).filter(v=>v.size>bt?(ae.error(`${v.name} ${e("upload.maxSize")} 500MB`),!1):t.some(O=>O.name===v.name)?(ae.error(`${e("upload.sameName")}: ${v.name}`),!1):!0).forEach(v=>h(v))}},y=s.useCallback(({path:u})=>{const c=Be(l),v=Be(u);v&&!c||v&&c&&(v==null?void 0:v.byte)>(c==null?void 0:c.byte)?m(w=>w+1):(!v&&c||v&&c&&(v==null?void 0:v.byte)<(c==null?void 0:c.byte))&&m(w=>w-1),d(u)},[l]),$=s.useMemo(()=>{if(!n)return;let u=n.content;if(n.name.endsWith(".jsonl")||n.name.endsWith(".jsonl.gz"))u=u.split(`
`)[p];else if((n.name.endsWith(".warc")||n.name.endsWith(".warc.gz"))&&n.warcRecords){const w=Math.min(p,n.warcRecords.length-1);if(w>=0&&n.warcRecords[w]){const O=n.warcRecords[w];u=JSON.stringify({type:O.warcType,recordId:O.warcRecordId,date:O.date,url:O.url,contentType:O.contentType,content:O.content},null,2)}}else n.name.endsWith(".gz")&&!n.name.endsWith(".warc.gz")&&n.decompressedContent&&(u=n.decompressedContent);const c=Be(l),v=mr(n.name)||n.type.split("/")[0];return{id:n.id,mimetype:v,name:n.name,type:v,content:u,last_modified:n.lastModified,size:n.content.length,created_by:"local",path:`http://localhost:3000/local/${n.name}?bytes=${(c==null?void 0:c.byte)??0},${u.length}`}},[n,p,l]),x=s.useMemo(()=>D.jsx("div",{className:"flex flex-col items-center justify-center w-full flex-1",children:D.jsx(ke.Dragger,{...b,className:Se(vt.uploadDragger,"mb-8"),children:D.jsxs("div",{className:"flex flex-col items-center justify-center gap-2",children:[D.jsx(Wn,{className:"text-4xl"}),D.jsx("p",{className:"text-[20px]",children:e("upload.drag")}),D.jsx("p",{className:"text-sm text-gray-500",children:e("upload.recommend")})]})})}),[e,b,t]);return t.length===0?x:D.jsxs("div",{className:"flex-1 flex flex-row py-4 gap-4 bg-gray-100",children:[D.jsx("div",{className:Se("bg-white rounded-r-lg shrink-0 left-sider transition-all",{"w-[260px]":!f,"w-0 overflow-hidden":f}),children:D.jsx(_e,{loading:a,size:"small",className:Se("w-[260px] flex flex-col",vt.fileList),header:D.jsxs("div",{className:"flex justify-between px-4",children:[D.jsx("span",{className:"font-bold",children:e("fileList")}),D.jsxs("div",{className:"flex flex-row items-center gap-2",children:[D.jsx(je,{title:e("upload.upload"),children:D.jsx(ke,{...b,children:D.jsx(Oe,{type:"text",size:"small",icon:D.jsx(jr,{})})})}),D.jsx(hr,{title:e("deleteAllConfirm"),onConfirm:S,okText:e("ok"),cancelText:e("cancel"),children:D.jsx(je,{title:e("deleteAll"),children:D.jsx(Oe,{type:"text",size:"small",icon:D.jsx(yr,{}),danger:!0})})})]})]}),dataSource:t,renderItem:u=>D.jsxs(_e.Item,{className:Se("flex flex-row items-center justify-between !px-4 cursor-pointer hover:bg-gray-100 transition-colors",{"bg-(--ant-color-primary-bg)":(n==null?void 0:n.id)===u.id}),onClick:()=>i(u),children:[D.jsx(_e.Item.Meta,{title:D.jsx(je,{placement:"topLeft",title:u.name,children:u.name}),description:new Date(u.lastModified).toLocaleString()}),D.jsx(Oe,{type:"text",size:"small",icon:D.jsx(fr,{}),danger:!0,onClick:()=>C(u.id)},"delete")]})})}),D.jsx("div",{onClick:()=>g(!f),className:"fixed left-[242px] top-1/2 transform -translate-y-1/2 z-10 text-gray-300 h-8 w-4 flex items-center justify-center rounded-r-md cursor-pointer hover:text-gray-400 transition-colors",style:{left:f?"0":"242px",transition:"left 0.1s"},children:f?D.jsx(Tn,{}):D.jsx(Mn,{})}),D.jsx("div",{className:Se("flex-1 body-content transition-all h-[calc(100vh-88px)]",{"flex flex-col items-center justify-center":!n,"max-w-[calc(100vw-32px)]":f,"max-w-[calc(100vw-292px)]":!f}),"data-block-id":"origin",children:n?D.jsx(gr,{id:"original",path:l,dataSource:$,onChange:y,showPagination:!1,showDownload:!1}):x})]})}export{Yn as component};
