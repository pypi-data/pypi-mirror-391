import"./index-C-ku7Uvl.js";function d(){return Math.random().toString(36).substring(2,15)}function i(t,n){const o=document.createElement("a");o.href=t,n&&o.setAttribute("download",n),document.body.appendChild(o),o.click(),setTimeout(()=>{document.body.removeChild(o)})}async function m(t){if(!t.startsWith("s3://"))throw new Error("s3路径必须以s3://开头");const n=t.split("/").pop();try{const o={path:t},r=new URLSearchParams(o),e=`${window.__CONFIG__.BASE_URL??""}/api/v1/bucket/download?${r.toString()}`,s=await fetch(e).then(a=>a.json());i(s,n)}catch{throw new Error("下载失败")}}function h(t){if(typeof t!="string"||!t)return;const n=t.match(/bytes=(\d+),(\d+)/);if(n)return{byte:Number(n[1]),size:Number(n[2])}}export{h as a,m as d,d as g};
