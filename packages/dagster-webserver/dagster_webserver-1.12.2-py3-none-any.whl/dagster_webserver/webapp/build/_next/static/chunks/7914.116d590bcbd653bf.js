"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7914],{77914:(e,n,o)=>{o.r(n),o.d(n,{LaunchpadStoredSessionsContainer:()=>w,default:()=>v});var t=o(6029),r=o(43024),a=o(76424),l=o(36660),i=o(69807),s=o(85184),c=o(55729),d=o(41735),p=o(29811),u=o(78167);let h=e=>{let{canRemove:n,title:o,onChange:r,onClick:i,onRemove:s,active:d}=e,p=c.useRef(null),[u,h]=c.useState(!1),[b,g]=c.useState(o),k=c.useCallback(()=>{r&&h(!0)},[r]),m=c.useCallback(e=>{e.stopPropagation(),s&&s()},[s]),w=c.useCallback(()=>{h(!1),r&&r(b)},[r,b]),v=c.useCallback(e=>g(e.target.value),[]);return c.useEffect(()=>{let e=p.current;e&&u&&(e.focus(),e.select())},[u]),(0,t.jsxs)(f,{$active:d||!1,onDoubleClick:k,onClick:i,children:[u?(0,t.jsx)("input",{ref:p,type:"text",onKeyDown:e=>"Enter"===e.key&&e.currentTarget.blur(),onChange:v,onBlur:w,value:b,placeholder:"Type a tab nameâ€¦"}):o,n&&!u&&s?(0,t.jsx)(x,{onClick:m,children:(0,t.jsx)(a.In,{name:"close",color:l.Gu()})}):null]})},b=e=>{let{data:n,onCreate:o,onSave:r}=e,{sessions:c}=n,d=Object.keys(c),b=d.length,f=(0,p.Z)(),x=function(e){for(var o=arguments.length,t=Array(o>1?o-1:0),a=1;a<o;a++)t[a-1]=arguments[a];r(e(n,...t))},k=async e=>{b>1&&(await f({title:"Remove tab?",description:"The configuration for ".concat(e&&c[e]?'"'.concat(c[e].name,'"'):"this tab"," will be discarded.")}),x(u.$T,e))},m=async()=>{await f({title:"Remove all tabs?",description:"All configuration tabs will be discarded."}),r(e=>{let n=e;return d.forEach(e=>{n=(0,u.$T)(n,e)}),n})};return(0,t.jsx)(i.a,{border:"bottom",padding:{top:12},children:(0,t.jsxs)(g,{children:[d.map(e=>(0,t.jsx)(h,{canRemove:b>1,active:e===n.current,title:c[e].name||"Unnamed",onClick:()=>x(u.zr,e),onChange:n=>x(u.b6,e,{name:n}),onRemove:()=>k(e)},e)),(0,t.jsx)(h,{title:"+ Add...",onClick:o}),d.length>3?(0,t.jsx)(i.a,{background:l.Tr(),padding:{top:8,left:8,right:12},border:"bottom",style:{position:"sticky",right:0},children:(0,t.jsx)(s.v,{color:l.sq(),onClick:m,children:(0,t.jsxs)(i.a,{flex:{direction:"row",gap:4,alignItems:"center"},style:{whiteSpace:"nowrap"},children:[(0,t.jsx)(a.In,{name:"delete",color:l.sq()}),(0,t.jsx)("div",{children:"Remove all"})]})})}):null]})})},g=d.Ay.div.withConfig({componentId:"sc-18bf4f0-0"})(["display:flex;flex-direction:row;font-size:13px;gap:8px;z-index:1;flex-direction:row;padding-left:12px;overflow-x:auto;::-webkit-scrollbar{display:none;}"]),f=d.Ay.div.withConfig({componentId:"sc-18bf4f0-1"})(["align-items:center;user-select:none;padding:8px 12px;display:inline-flex;align-items:center;gap:4px;border-top-left-radius:8px;border-top-right-radius:8px;white-space:nowrap;"," &:last-child{padding-right:12px;}input{background-color:transparent;font-size:13px;border:0;outline:none;padding:0;}cursor:",";"],e=>{let{$active:n}=e;return n?(0,d.AH)(["font-weight:600;background-color:",";color:",";box-shadow:"," 0 -2px 0 inset;"],l.HU(),l.Gu(),l.Gu()):(0,d.AH)(["font-weight:normal;background-color:",";color:",";box-shadow:"," 0 -1px 0 inset;&:hover{background-color:",";box-shadow:"," 0 -1px 0 inset;color:",";}"],l.GW(),l._l(),l.fR(),l.GW(),l.fR(),l.XN())},e=>{let{$active:n}=e;return n?"inherit":"pointer"}),x=d.Ay.button.withConfig({componentId:"sc-18bf4f0-2"})(["background-color:transparent;border:0;cursor:pointer;padding:0;","{transition:background-color 100ms;}&:hover ","{background-color:",";}"],a.hh,a.hh,l.Cd());var k=o(58552),m=o(88707);let w=e=>{let{launchpadType:n,pipeline:o,partitionSets:a,repoAddress:l,rootDefaultYaml:i,runConfigSchema:s}=e,{flagDisableAutoLoadDefaults:c}=(0,k.h)(),d=(0,u.uo)(o,a,i,!c),[p,h]=(0,u.pN)(l,o.name,d),g=p.sessions[p.current],f=(0,m.B)(g,e=>{h(n=>(0,u.b6)(n,n.current,e))});return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(b,{data:p,onCreate:()=>{h(e=>(0,u.Bw)(e,d))},onSave:h}),(0,t.jsx)(r.A,{launchpadType:n,session:g,onSave:f,pipeline:o,partitionSets:a,repoAddress:l,rootDefaultYaml:i,runConfigSchema:s})]})},v=w}}]);
//# sourceMappingURL=7914.116d590bcbd653bf.js.map