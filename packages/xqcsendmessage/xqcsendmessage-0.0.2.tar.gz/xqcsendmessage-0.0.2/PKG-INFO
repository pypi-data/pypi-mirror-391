Metadata-Version: 2.3
Name: xqcsendmessage
Version: 0.0.2
Summary: ä¸€ä¸ª XiaoqiangClub è‡ªç”¨çš„æ¶ˆæ¯å‘é€æ¨¡å—
License: MIT
Keywords: message,sender,dingtalk,wecom,email,webhook
Author: Xiaoqiang
Author-email: xiaoqiangclub@hotmail.com
Requires-Python: >=3.10
Classifier: Development Status :: 4 - Beta
Classifier: Intended Audience :: Developers
Classifier: License :: OSI Approved :: MIT License
Classifier: Operating System :: OS Independent
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: Programming Language :: Python :: 3.12
Classifier: Programming Language :: Python :: 3.13
Classifier: Topic :: Communications
Classifier: Topic :: Software Development :: Libraries :: Python Modules
Requires-Dist: aiosmtplib (>=5.0.0,<6.0.0)
Requires-Dist: httpx (>=0.20.0)
Project-URL: Documentation, https://github.com/xiaoqiangclub/XQCSendMessage
Project-URL: Homepage, https://github.com/xiaoqiangclub/XQCSendMessage
Project-URL: Repository, https://github.com/xiaoqiangclub/XQCSendMessage
Description-Content-Type: text/markdown



# ğŸš€ XQCSendMessage

![XQCSendMessage Logo](https://s2.loli.net/2025/11/12/Ey4Vkr7jgYobidS.jpg)

[![PyPI version](https://img.shields.io/badge/PyPI-0.0.2-blue)](https://github.com/xiaoqiangclub/XQCSendMessage) [![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT) [![Python Versions](https://img.shields.io/badge/Python-3.10%2B-blue)](https://github.com/xiaoqiangclub/XQCSendMessage)

`XQCSendMessage` æ˜¯ä¸€ä¸ªè‡ªç”¨çš„ Python æ¶ˆæ¯å‘é€æ¨¡å—ï¼Œæ—¨åœ¨æä¾›ä¸€ä¸ªç›¸å¯¹ä¾¿æ·çš„é€”å¾„æ¥é€šè¿‡å¤šç§æ¸ é“ï¼ˆå¦‚é‚®ä»¶ã€é’‰é’‰ã€ä¼ä¸šå¾®ä¿¡ç­‰ï¼‰å‘é€é€šçŸ¥æˆ–æ¶ˆæ¯ã€‚æ— è®ºæ‚¨éœ€è¦åŒæ­¥è¿˜æ˜¯å¼‚æ­¥å‘é€ï¼Œ`XQCSendMessage` éƒ½å°è¯•æä¾›ç®€æ´ã€ç»Ÿä¸€çš„ APIã€‚

## ğŸ“– ç›®å½•

- [âœ¨ ä¸»è¦ç‰¹æ€§](#-ä¸»è¦ç‰¹æ€§)
- [ğŸ“¤ å®‰è£…](#-å®‰è£…)
- [ğŸš€ å¿«é€Ÿä¸Šæ‰‹](#-å¿«é€Ÿä¸Šæ‰‹)
  - [âš™ï¸ å®¢æˆ·ç«¯æ¨¡å¼ (SyncClient / AsyncClient)](#ï¸-å®¢æˆ·ç«¯æ¨¡å¼-syncclient--asyncclient)
    - [âš™ï¸ SyncClient / AsyncClient åˆå§‹åŒ–å‚æ•°è¯´æ˜](#ï¸-syncclient--asyncclient-åˆå§‹åŒ–å‚æ•°è¯´æ˜)
    - [âš™ï¸ client.send() æ–¹æ³•å‚æ•°è¯´æ˜](#ï¸-clientsend-æ–¹æ³•å‚æ•°è¯´æ˜)
    - [ğŸ“§ ç¤ºä¾‹ 1.1: å‘é€ä¸€å°é‚®ä»¶ (åŒæ­¥)](#-ç¤ºä¾‹-11-å‘é€ä¸€å°é‚®ä»¶-åŒæ­¥)
    - [ğŸ¤– ç¤ºä¾‹ 1.2: å‘é€é’‰é’‰æ¶ˆæ¯ (åŒæ­¥)](#-ç¤ºä¾‹-12-å‘é€é’‰é’‰æ¶ˆæ¯-åŒæ­¥)
    - [ğŸ¢ ç¤ºä¾‹ 1.3: å‘é€ä¼ä¸šå¾®ä¿¡ Webhook æ¶ˆæ¯ (åŒæ­¥)](#-ç¤ºä¾‹-13-å‘é€ä¼ä¸šå¾®ä¿¡-webhook-æ¶ˆæ¯-åŒæ­¥)
    - [ğŸ¢ ç¤ºä¾‹ 1.4: å‘é€ä¼ä¸šå¾®ä¿¡åº”ç”¨æ¶ˆæ¯ (åŒæ­¥)](#-ç¤ºä¾‹-14-å‘é€ä¼ä¸šå¾®ä¿¡åº”ç”¨æ¶ˆæ¯-åŒæ­¥)
    - [ğŸ“§ ç¤ºä¾‹ 1.5: å‘é€é‚®ä»¶ (å¼‚æ­¥)](#-ç¤ºä¾‹-15-å‘é€é‚®ä»¶-å¼‚æ­¥)
    - [ğŸ¤– ç¤ºä¾‹ 1.6: å‘é€é’‰é’‰æ¶ˆæ¯ (å¼‚æ­¥)](#-ç¤ºä¾‹-16-å‘é€é’‰é’‰æ¶ˆæ¯-å¼‚æ­¥)
    - [ğŸ¢ ç¤ºä¾‹ 1.7: å‘é€ä¼ä¸šå¾®ä¿¡ Webhook æ¶ˆæ¯ (å¼‚æ­¥)](#-ç¤ºä¾‹-17-å‘é€ä¼ä¸šå¾®ä¿¡-webhook-æ¶ˆæ¯-å¼‚æ­¥)
    - [ğŸ¢ ç¤ºä¾‹ 1.8: å‘é€ä¼ä¸šå¾®ä¿¡åº”ç”¨æ¶ˆæ¯ (å¼‚æ­¥)](#-ç¤ºä¾‹-18-å‘é€ä¼ä¸šå¾®ä¿¡åº”ç”¨æ¶ˆæ¯-å¼‚æ­¥)
- [â¡ï¸ ç›´æ¥å‡½æ•°è°ƒç”¨æ¨¡å¼](#-ç›´æ¥å‡½æ•°è°ƒç”¨æ¨¡å¼)
  - [âš™ï¸ é¡¶å±‚å‘é€å‡½æ•°å‚æ•°è¯´æ˜](#ï¸-é¡¶å±‚å‘é€å‡½æ•°å‚æ•°è¯´æ˜)
  - [ğŸ“§ ç¤ºä¾‹ 2.1: ç›´æ¥å‘é€ä¸€å°é‚®ä»¶ (åŒæ­¥)](#-ç¤ºä¾‹-21-ç›´æ¥å‘é€ä¸€å°é‚®ä»¶-åŒæ­¥)
  - [ğŸ¤– ç¤ºä¾‹ 2.2: ç›´æ¥å‘é€é’‰é’‰æ¶ˆæ¯ (å¼‚æ­¥)](#-ç¤ºä¾‹-22-ç›´æ¥å‘é€é’‰é’‰æ¶ˆæ¯-å¼‚æ­¥)
  - [ğŸ¢ ç¤ºä¾‹ 2.3: ç›´æ¥å‘é€ä¼ä¸šå¾®ä¿¡ Webhook æ¶ˆæ¯ (åŒæ­¥)](#-ç¤ºä¾‹-23-ç›´æ¥å‘é€ä¼ä¸šå¾®ä¿¡-webhook-æ¶ˆæ¯-åŒæ­¥)
  - [ğŸ¢ ç¤ºä¾‹ 2.4: ç›´æ¥å‘é€ä¼ä¸šå¾®ä¿¡åº”ç”¨æ¶ˆæ¯ (å¼‚æ­¥)](#-ç¤ºä¾‹-24-ç›´æ¥å‘é€ä¼ä¸šå¾®ä¿¡åº”ç”¨æ¶ˆæ¯-å¼‚æ­¥)
- [ğŸ“„ è®¸å¯è¯](#-è®¸å¯è¯)
- [ğŸ™ æ”¯æŒæˆ‘](#-æ”¯æŒæˆ‘)


## âœ¨ ä¸»è¦ç‰¹æ€§

- **å¤šæ¸ é“æ”¯æŒ**:
  - ğŸ“§ **é‚®ä»¶**: æ”¯æŒ SMTPï¼Œæ–¹ä¾¿é›†æˆé‚®ä»¶æœåŠ¡ã€‚
  - ğŸ¤– **é’‰é’‰**: æ”¯æŒ Webhook æœºå™¨äººï¼ŒåŒ…å«ç­¾åéªŒè¯ã€‚
  - ğŸ¢ **ä¼ä¸šå¾®ä¿¡**:
    - `Webhook` æœºå™¨äººæ¨¡å¼ã€‚
    - `åº”ç”¨æ¶ˆæ¯` æ¨¡å¼ï¼Œæ”¯æŒæ›´å¤šæ¶ˆæ¯ç±»å‹ã€‚
- **åŒæ­¥ä¸å¼‚æ­¥**: æä¾›äº†åŒæ­¥å’Œå¼‚æ­¥ä¸¤ç§å‘é€æ¨¡å¼ï¼Œä»¥é€‚åº”ä¸åŒåœºæ™¯çš„éœ€æ±‚ã€‚
- **ç»Ÿä¸€çš„ API å°è¯•**: å®¢æˆ·ç«¯è®¾è®¡åŠ›æ±‚ç®€æ´ï¼Œæ–¹ä¾¿åœ¨ä¸åŒå‘é€æ¸ é“é—´åˆ‡æ¢ã€‚
- **é”™è¯¯å¤„ç†**: å†…ç½®äº†ä¸€äº›å¼‚å¸¸ç±»ï¼Œå¸Œæœ›èƒ½å¸®åŠ©å®šä½å‘é€è¿‡ç¨‹ä¸­çš„é—®é¢˜ã€‚
- **æ‰©å±•æ€§**: åŸºäºæŠ½è±¡åŸºç±»çš„è®¾è®¡ï¼Œæ–¹ä¾¿æ ¹æ®éœ€è¦æ·»åŠ è‡ªå®šä¹‰å‘é€å™¨ã€‚

## ğŸ“¤ å®‰è£…

é€šè¿‡ pip æˆ– poetry å®‰è£… `xqcsendmessage`:

```bash
# ä½¿ç”¨ pip
pip install xqcsendmessage

# ä½¿ç”¨ poetry
poetry add xqcsendmessage
```

## ğŸš€ å¿«é€Ÿä¸Šæ‰‹

`XQCSendMessage` æä¾›äº†ä¸¤ç§è°ƒç”¨æ¨¡å¼ï¼š

1.  **å®ä¾‹åŒ–å®¢æˆ·ç«¯æ¨¡å¼**ï¼šé€šè¿‡ `SyncClient` æˆ– `AsyncClient` å®ä¾‹åŒ–ä¸€ä¸ªå®¢æˆ·ç«¯ï¼Œåœ¨åˆå§‹åŒ–æ—¶é…ç½®å‘é€å™¨ï¼Œç„¶åé€šè¿‡å®¢æˆ·ç«¯çš„ `send` æ–¹æ³•å‘é€æ¶ˆæ¯ã€‚è¿™ç§æ¨¡å¼é€‚åˆéœ€è¦å¤ç”¨å‘é€å™¨é…ç½®ï¼Œæˆ–è€…åœ¨å‘é€è¿‡ç¨‹ä¸­åŠ¨æ€è°ƒæ•´å‚æ•°çš„åœºæ™¯ã€‚
2.  **ç›´æ¥å‡½æ•°è°ƒç”¨æ¨¡å¼**ï¼šé€šè¿‡é¡¶å±‚å‡½æ•°ç›´æ¥å‘é€æ¶ˆæ¯ï¼Œæ— éœ€æ˜¾å¼å®ä¾‹åŒ–å®¢æˆ·ç«¯æˆ–å‘é€å™¨ã€‚è¿™ç§æ¨¡å¼é€‚åˆå¿«é€Ÿå‘é€å•æ¡æ¶ˆæ¯ï¼Œæˆ–è€…åœ¨è„šæœ¬ä¸­è¿›è¡Œä¸€æ¬¡æ€§è°ƒç”¨çš„åœºæ™¯ã€‚

### âš™ï¸ å®¢æˆ·ç«¯æ¨¡å¼ (`SyncClient` / `AsyncClient`)

`XQCSendMessage` çš„å®¢æˆ·ç«¯è®¾è®¡åŠ›æ±‚ç›´è§‚ã€‚æ‚¨åªéœ€è¦é€‰æ‹©ä¸€ä¸ªå‘é€å™¨ç±»å‹ï¼Œå¹¶åœ¨å®¢æˆ·ç«¯åˆå§‹åŒ–æ—¶ä¼ å…¥é…ç½®ã€‚

#### âš™ï¸ `SyncClient` / `AsyncClient` åˆå§‹åŒ–å‚æ•°è¯´æ˜

- `sender_type` (`Literal["email", "dingtalk", "wecom_webhook", "wecom_app"]`): å¿…é¡»å‚æ•°ï¼ŒæŒ‡å®šè¦ä½¿ç”¨çš„å‘é€å™¨ç±»å‹ã€‚
- `**config`: å…³é”®å­—å‚æ•°ï¼Œç”¨äºé…ç½®ç‰¹å®šå‘é€å™¨ã€‚è¿™äº›å‚æ•°ä¼šä¼ é€’ç»™åº•å±‚å‘é€å™¨çš„ `__init__` æ–¹æ³•ã€‚åŒæ—¶ï¼Œæ‚¨ä¹Ÿå¯ä»¥åœ¨æ­¤å¤„è®¾ç½®æ¶ˆæ¯çš„é»˜è®¤å‚æ•°ï¼Œè¿™äº›é»˜è®¤å‚æ•°å¯ä»¥åœ¨è°ƒç”¨ `.send()` æ–¹æ³•æ—¶è¢«è¦†ç›–ã€‚

  - **é‚®ä»¶ (`sender_type="email"`)**:
    - `smtp_server` (str): SMTP æœåŠ¡å™¨åœ°å€ã€‚
    - `smtp_port` (int): SMTP æœåŠ¡å™¨ç«¯å£ã€‚
    - `sender_email` (str): å‘ä»¶äººé‚®ç®±ã€‚
    - `sender_password` (str): å‘ä»¶äººé‚®ç®±å¯†ç æˆ–æˆæƒç ã€‚
    - `use_tls` (bool, default `True`): æ˜¯å¦ä½¿ç”¨ TLS åŠ å¯†ã€‚
    - `recipients` (List[str], optional): é»˜è®¤æ”¶ä»¶äººåˆ—è¡¨ã€‚
    - `subject` (str, optional): é»˜è®¤é‚®ä»¶ä¸»é¢˜ã€‚
    - `subtype` (str, default `"plain"`): é»˜è®¤é‚®ä»¶å†…å®¹ç±»å‹ (`"plain"` æˆ– `"html"`)ã€‚
  - **é’‰é’‰ (`sender_type="dingtalk"`)**:
    - `webhook` (str): é’‰é’‰æœºå™¨äººçš„ Webhook åœ°å€ã€‚
    - `secret` (str, optional): é’‰é’‰æœºå™¨äººçš„å¯†é’¥ï¼Œç”¨äºç­¾åã€‚
    - `message` (Union[str, Dict[str, Any]], optional): é»˜è®¤æ¶ˆæ¯å†…å®¹æˆ–æ¶ˆæ¯ä½“ã€‚
    - `msg_type` (str, default `"text"`): æ¶ˆæ¯ç±»å‹ï¼Œé»˜è®¤ä¸º "text"ã€‚
    - `at_mobiles` (List[str], optional): è¢« @ çš„ç”¨æˆ·çš„æ‰‹æœºå·åˆ—è¡¨ã€‚
    - `is_at_all` (bool, default `True`): æ˜¯å¦ @ æ‰€æœ‰äººï¼Œé»˜è®¤ä¸º Trueã€‚
  - **ä¼ä¸šå¾®ä¿¡ Webhook (`sender_type="wecom_webhook"`)**:
    - `webhook` (str): ä¼ä¸šå¾®ä¿¡æœºå™¨äººçš„ Webhook åœ°å€ã€‚
    - `message` (Union[str, Dict[str, Any]], optional): é»˜è®¤æ¶ˆæ¯å†…å®¹æˆ–æ¶ˆæ¯ä½“ã€‚
    - `msg_type` (str, default `"text"`): æ¶ˆæ¯ç±»å‹ï¼Œé»˜è®¤ä¸º "text"ã€‚
  - **ä¼ä¸šå¾®ä¿¡åº”ç”¨ (`sender_type="wecom_app"`)**:
    - `corpid` (str): ä¼ä¸š IDã€‚
    - `corpsecret` (str): åº”ç”¨çš„ Secretã€‚
    - `agentid` (int): åº”ç”¨çš„ AgentIdã€‚
    - `message` (Union[str, Dict[str, Any]], optional): é»˜è®¤æ¶ˆæ¯å†…å®¹æˆ–æ¶ˆæ¯ä½“ã€‚
    - `msg_type` (str, default `"text"`): æ¶ˆæ¯ç±»å‹ï¼Œé»˜è®¤ä¸º "text"ã€‚
    - `touser` (Union[str, List[str]], optional, default `"@all"`): æŒ‡å®šæ¥æ”¶æ¶ˆæ¯çš„æˆå‘˜ï¼Œæˆå‘˜ ID åˆ—è¡¨ï¼ˆæœ€å¤šæ”¯æŒ 1000 ä¸ªï¼‰ã€‚é»˜è®¤ä¸º "@all"ã€‚
    - `toparty` (Union[str, List[str]], optional): æŒ‡å®šæ¥æ”¶æ¶ˆæ¯çš„éƒ¨é—¨ ID åˆ—è¡¨ï¼ˆæœ€å¤šæ”¯æŒ 100 ä¸ªï¼‰ã€‚
    - `totag` (Union[str, List[str]], optional): æŒ‡å®šæ¥æ”¶æ¶ˆæ¯çš„æ ‡ç­¾ ID åˆ—è¡¨ï¼ˆæœ€å¤šæ”¯æŒ 100 ä¸ªï¼‰ã€‚
    - `safe` (int, optional): è¡¨ç¤ºæ˜¯å¦æ˜¯ä¿å¯†æ¶ˆæ¯ï¼Œ0 è¡¨ç¤ºå¦ï¼Œ1 è¡¨ç¤ºæ˜¯ï¼Œé»˜è®¤ 0ã€‚
    - `enable_duplicate_check` (int, optional): è¡¨ç¤ºæ˜¯å¦å¼€å¯é‡å¤æ¶ˆæ¯æ£€æŸ¥ï¼Œ0 è¡¨ç¤ºå¦ï¼Œ1 è¡¨ç¤ºæ˜¯ï¼Œé»˜è®¤ 0ã€‚
    - `duplicate_check_interval` (int, optional): è¡¨ç¤ºé‡å¤æ¶ˆæ¯æ£€æŸ¥çš„æ—¶é—´é—´éš”ï¼Œå•ä½ç§’ï¼Œæœ€å¤§ä¸è¶…è¿‡ 120ã€‚

#### âš™ï¸ `client.send()` æ–¹æ³•å‚æ•°è¯´æ˜

- `message` (Optional[Union[str, Dict[str, Any]]], default `None`): è¦å‘é€çš„æ¶ˆæ¯å†…å®¹ã€‚
  - **é‚®ä»¶**: å¦‚æœæ˜¯å­—ç¬¦ä¸²ï¼Œåˆ™ä½œä¸ºé‚®ä»¶æ­£æ–‡ `content`ï¼›å¦‚æœæ˜¯å­—å…¸ï¼Œåˆ™ä¼šå¼•å‘ `SendMessageError`ã€‚
  - **é’‰é’‰/ä¼ä¸šå¾®ä¿¡**: å¦‚æœæ˜¯å­—ç¬¦ä¸²ï¼Œåˆ™è‡ªåŠ¨å°è£…ä¸ºæ–‡æœ¬æ¶ˆæ¯ `{"msgtype": "text", "text": {"content": message}}`ï¼›å¦‚æœæ˜¯å­—å…¸ï¼Œåˆ™ä½œä¸ºå®Œæ•´çš„æ¶ˆæ¯ä½“å‘é€ã€‚
    - `msgtype` æ”¯æŒçš„ç±»å‹åŒ…æ‹¬ï¼š
      - **text**: æ–‡æœ¬æ¶ˆæ¯
      - **markdown**: Markdown æ ¼å¼æ¶ˆæ¯
      - **image**: å›¾ç‰‡æ¶ˆæ¯
      - **news**: å›¾æ–‡æ¶ˆæ¯ (ä¼ä¸šå¾®ä¿¡)
      - **file**: æ–‡ä»¶æ¶ˆæ¯
      - **voice**: è¯­éŸ³æ¶ˆæ¯
      - **video**: è§†é¢‘æ¶ˆæ¯
      - **card**: æ–‡æœ¬å¡ç‰‡æ¶ˆæ¯ (ä¼ä¸šå¾®ä¿¡)
      - **interactive_task_card**: äº’åŠ¨ä»»åŠ¡å¡ç‰‡æ¶ˆæ¯ (ä¼ä¸šå¾®ä¿¡)
      - **template_card**: æ¨¡æ¿å¡ç‰‡æ¶ˆæ¯ (ä¼ä¸šå¾®ä¿¡)
      - **oa**: OA æ¶ˆæ¯ (é’‰é’‰)
      - **link**: é“¾æ¥æ¶ˆæ¯ (é’‰é’‰)
- `**kwargs`: å…³é”®å­—å‚æ•°ï¼Œç”¨äºè¦†ç›–å®¢æˆ·ç«¯åˆå§‹åŒ–æ—¶è®¾ç½®çš„é»˜è®¤æ¶ˆæ¯å‚æ•°ï¼Œæˆ–è€…ä¼ é€’ç»™åº•å±‚å‘é€å™¨çš„é¢å¤–å‚æ•°ã€‚
  - **é‚®ä»¶**: å¯ä»¥è¦†ç›– `subject`, `content`, `recipients`, `subtype`ã€‚
  - **é’‰é’‰**: å¯ä»¥è¦†ç›– `msg_type` (str), `at_mobiles` (List[str]), `is_at_all` (bool)ã€‚
  - **ä¼ä¸šå¾®ä¿¡ Webhook**: å¯ä»¥è¦†ç›– `msg_type` (str)ã€‚
  - **ä¼ä¸šå¾®ä¿¡åº”ç”¨**: å¯ä»¥è¦†ç›– `msg_type` (str), `touser` (Union[str, List[str]]), `toparty` (Union[str, List[str]]), `totag` (Union[str, List[str]]), `safe` (int), `enable_duplicate_check` (int), `duplicate_check_interval` (int)ã€‚

#### ğŸ“§ ç¤ºä¾‹ 1.1: å‘é€ä¸€å°é‚®ä»¶ (åŒæ­¥)

```python
from xqcsendmessage import SyncClient

# --- é…ç½® ---
SMTP_SERVER = "YOUR_SMTP_SERVER"  # âš ï¸ è¯·æ›¿æ¢ä¸ºä½ çš„ SMTP æœåŠ¡å™¨
SMTP_PORT = 587                   # âš ï¸ è¯·æ›¿æ¢ä¸ºä½ çš„ SMTP ç«¯å£
SENDER_EMAIL = "YOUR_SENDER_EMAIL"  # âš ï¸ è¯·æ›¿æ¢ä¸ºä½ çš„é‚®ç®±
SENDER_PASSWORD = "YOUR_SENDER_PASSWORD"    # âš ï¸ è¯·æ›¿æ¢ä¸ºä½ çš„é‚®ç®±å¯†ç æˆ–æˆæƒç 
RECIPIENTS = ["YOUR_RECIPIENT_EMAIL"] # âš ï¸ è¯·æ›¿æ¢ä¸ºæ”¶ä»¶äººé‚®ç®±åˆ—è¡¨

def main_email_sync():
    """ä¸»å‡½æ•°"""
    # 1. åˆ›å»ºåŒæ­¥å®¢æˆ·ç«¯ï¼Œå¹¶åœ¨åˆå§‹åŒ–æ—¶é…ç½®é‚®ä»¶å‘é€å™¨
    client = SyncClient(
        sender_type="email",
        smtp_server=SMTP_SERVER,
        smtp_port=SMTP_PORT,
        sender_email=SENDER_EMAIL,
        sender_password=SENDER_PASSWORD,
        use_tls=True, # ç«¯å£ 465 é€šå¸¸ç›´æ¥ä½¿ç”¨ SSLï¼Œè€Œä¸æ˜¯é€šè¿‡ starttls å‡çº§
        recipients=RECIPIENTS, # å¯ä»¥åœ¨åˆå§‹åŒ–æ—¶è®¾ç½®é»˜è®¤æ¥æ”¶äºº
        subtype="plain" # å¯ä»¥åœ¨åˆå§‹åŒ–æ—¶è®¾ç½®é»˜è®¤é‚®ä»¶ç±»å‹
    )

    # 2. å‘é€é‚®ä»¶
    try:
        result = client.send(
            content="è¿™æ˜¯ä¸€å°é€šè¿‡ xqcsendmessage å‘é€çš„åŒæ­¥æµ‹è¯•é‚®ä»¶ã€‚", # é‚®ä»¶å†…å®¹
            subject="Hello from xqcsendmessage!", # é‚®ä»¶ä¸»é¢˜
            # recipients å’Œ subtype å¯ä»¥ä¸ä¼ ï¼Œä¼šä½¿ç”¨åˆå§‹åŒ–æ—¶çš„é»˜è®¤å€¼
            # recipients=["override@example.com"], # ä¹Ÿå¯ä»¥åœ¨å‘é€æ—¶è¦†ç›–
            # subtype="html"
        )
        print(f"âœ… é‚®ä»¶å‘é€æˆåŠŸ: {result}")
    except Exception as e:
        print(f"ğŸ”¥ é‚®ä»¶å‘é€å¤±è´¥: {e}")

if __name__ == "__main__":
    main_email_sync()
```

#### ğŸ¤– ç¤ºä¾‹ 1.2: å‘é€é’‰é’‰æ¶ˆæ¯ (åŒæ­¥)

```python
from xqcsendmessage import SyncClient

# --- é…ç½® ---
# ä½ çš„é’‰é’‰æœºå™¨äººçš„ Webhook å’Œå¯†é’¥
WEBHOOK_URL = "YOUR_DINGTALK_WEBHOOK_URL"
SECRET = "YOUR_DINGTALK_SECRET"  # å¦‚æœæ²¡æœ‰è®¾ç½®å¯†é’¥ï¼Œåˆ™ä¸º None

def main_dingtalk_sync():
    """ä¸»å‡½æ•°"""
    # 1. åˆ›å»ºåŒæ­¥å®¢æˆ·ç«¯ï¼Œå¹¶åœ¨åˆå§‹åŒ–æ—¶é…ç½®é’‰é’‰å‘é€å™¨
    client = SyncClient(
        sender_type="dingtalk",
        webhook=WEBHOOK_URL,
        secret=SECRET,
        # å¯ä»¥åœ¨åˆå§‹åŒ–æ—¶è®¾ç½®é»˜è®¤æ¶ˆæ¯å†…å®¹ã€æ¶ˆæ¯ç±»å‹å’Œ @ äººå‚æ•°ï¼Œè¿™äº›å‚æ•°ä¼šåœ¨ send æ–¹æ³•ä¸­ä½œä¸ºé»˜è®¤å€¼ï¼Œä½†å¯ä»¥è¢« send æ–¹æ³•ä¸­çš„ kwargs è¦†ç›–
        message="ã€XQCSendMessageã€‘è¿™æ˜¯ä¸€æ¡æ¥è‡ª XQCSendMessage çš„åŒæ­¥æµ‹è¯•æ¶ˆæ¯ã€‚",
        msg_type="text", # é»˜è®¤æ¶ˆæ¯ç±»å‹ä¸ºæ–‡æœ¬
        is_at_all=True # é»˜è®¤å‘é€ç»™æ‰€æœ‰äºº
    )

    # 2. å‘é€æ¶ˆæ¯
    try:
        # å‘é€å­—ç¬¦ä¸²æ¶ˆæ¯ï¼Œæ­¤æ—¶ä¼šä½¿ç”¨åˆå§‹åŒ–æ—¶è®¾ç½®çš„é»˜è®¤æ¶ˆæ¯ç±»å‹å’Œ @ äººå‚æ•°ï¼ˆå‘é€ç»™æ‰€æœ‰äººï¼‰
        result_default_at = client.send(
            "ã€XQCSendMessageã€‘è¿™æ˜¯ä¸€æ¡æ¥è‡ª XQCSendMessage çš„åŒæ­¥æµ‹è¯•æ¶ˆæ¯ (ä½¿ç”¨é»˜è®¤æ¶ˆæ¯ç±»å‹å’Œ @ äºº)ã€‚"
        )
        print(f"âœ… é’‰é’‰æ¶ˆæ¯å‘é€æˆåŠŸ (é»˜è®¤ @ äºº): {result_default_at}")

        # å‘é€å­—ç¬¦ä¸²æ¶ˆæ¯ï¼Œå¹¶è¦†ç›– @ äººå‚æ•°å’Œæ¶ˆæ¯ç±»å‹
        result_override_at = client.send(
            "ã€XQCSendMessageã€‘è¿™æ˜¯ä¸€æ¡æ¥è‡ª XQCSendMessage çš„åŒæ­¥æµ‹è¯•æ¶ˆæ¯ (è¦†ç›– @ äººï¼ŒæŒ‡å®šæ‰‹æœºå·ï¼Œmarkdown ç±»å‹)ã€‚",
            msg_type="markdown",
            at_mobiles=["13900139000"],
            is_at_all=False
        )
        print(f"âœ… é’‰é’‰æ¶ˆæ¯å‘é€æˆåŠŸ (è¦†ç›– @ äºº): {result_override_at}")

        # å‘é€å­—å…¸æ¶ˆæ¯ï¼Œå¹¶è¦†ç›– @ äººå‚æ•°å’Œæ¶ˆæ¯ç±»å‹
        result_dict_override_at = client.send(
            {
                "title": "æµ‹è¯•æ ‡é¢˜",
                "text": "ã€XQCSendMessageã€‘è¿™æ˜¯ä¸€æ¡æ¥è‡ª XQCSendMessage çš„åŒæ­¥æµ‹è¯•æ¶ˆæ¯ (å­—å…¸ï¼Œè¦†ç›– @ äººï¼ŒæŒ‡å®šæ‰‹æœºå·ï¼Œmarkdown ç±»å‹)ã€‚"
            },
            msg_type="markdown",
            at_mobiles=["13700137000"],
            is_at_all=False
        )
        print(f"âœ… é’‰é’‰æ¶ˆæ¯å‘é€æˆåŠŸ (å­—å…¸ï¼Œè¦†ç›– @ äºº): {result_dict_override_at}")

    except Exception as e:
        print(f"ğŸ”¥ é’‰é’‰æ¶ˆæ¯å‘é€å¤±è´¥: {e}")

if __name__ == "__main__":
    main_dingtalk_sync()
```

#### ğŸ¢ ç¤ºä¾‹ 1.3: å‘é€ä¼ä¸šå¾®ä¿¡ Webhook æ¶ˆæ¯ (åŒæ­¥)

```python
from xqcsendmessage import SyncClient

# --- é…ç½® ---
# ä½ çš„ä¼ä¸šå¾®ä¿¡æœºå™¨äººçš„ Webhook
WEBHOOK_URL = "YOUR_WECOM_WEBHOOK_URL"

def main_wecom_webhook_sync():
    """ä¸»å‡½æ•°"""
    # 1. åˆ›å»ºåŒæ­¥å®¢æˆ·ç«¯ï¼Œå¹¶åœ¨åˆå§‹åŒ–æ—¶é…ç½®ä¼ä¸šå¾®ä¿¡ Webhook å‘é€å™¨
    client = SyncClient(
        sender_type="wecom_webhook",
        webhook=WEBHOOK_URL,
        # å¯ä»¥åœ¨åˆå§‹åŒ–æ—¶è®¾ç½®é»˜è®¤æ¶ˆæ¯å†…å®¹å’Œæ¶ˆæ¯ç±»å‹ï¼Œè¿™äº›å‚æ•°ä¼šåœ¨ send æ–¹æ³•ä¸­ä½œä¸ºé»˜è®¤å€¼ï¼Œä½†å¯ä»¥è¢« send æ–¹æ³•ä¸­çš„ kwargs è¦†ç›–
        message="ã€XQCSendMessageã€‘è¿™æ˜¯ä¸€æ¡æ¥è‡ª XQCSendMessage çš„åŒæ­¥ Webhook æµ‹è¯•æ¶ˆæ¯ã€‚",
        msg_type="text" # é»˜è®¤æ¶ˆæ¯ç±»å‹ä¸ºæ–‡æœ¬
    )

    # 2. å‘é€æ¶ˆæ¯
    try:
        # å‘é€å­—ç¬¦ä¸²æ¶ˆæ¯ï¼Œæ­¤æ—¶ä¼šä½¿ç”¨åˆå§‹åŒ–æ—¶è®¾ç½®çš„é»˜è®¤å‚æ•°
        result_default = client.send(
            "ã€XQCSendMessageã€‘è¿™æ˜¯ä¸€æ¡æ¥è‡ª XQCSendMessage çš„åŒæ­¥ Webhook æµ‹è¯•æ¶ˆæ¯ (ä½¿ç”¨é»˜è®¤å‚æ•°)ã€‚"
        )
        print(f"âœ… ä¼ä¸šå¾®ä¿¡ Webhook æ¶ˆæ¯å‘é€æˆåŠŸ (é»˜è®¤å‚æ•°): {result_default}")

        # å‘é€å­—ç¬¦ä¸²æ¶ˆæ¯ï¼Œå¹¶è¦†ç›–é»˜è®¤å‚æ•°ï¼ˆä¾‹å¦‚ï¼ŒæŒ‡å®šä¸åŒçš„å†…å®¹ï¼‰
        result_override_str = client.send(
            "ã€XQCSendMessageã€‘è¿™æ˜¯ä¸€æ¡æ¥è‡ª XQCSendMessage çš„åŒæ­¥ Webhook æµ‹è¯•æ¶ˆæ¯ (è¦†ç›–å­—ç¬¦ä¸²å†…å®¹ï¼Œmarkdown ç±»å‹)ã€‚",
            msg_type="markdown" # è¦†ç›–ä¸º markdown ç±»å‹
        )
        print(f"âœ… ä¼ä¸šå¾®ä¿¡ Webhook æ¶ˆæ¯å‘é€æˆåŠŸ (è¦†ç›–å­—ç¬¦ä¸²): {result_override_str}")

        # å‘é€å­—å…¸æ¶ˆæ¯ï¼Œå¹¶è¦†ç›–é»˜è®¤å‚æ•°
        result_override_dict = client.send(
            {
                "msgtype": "markdown",
                "markdown": {"content": "ã€XQCSendMessageã€‘è¿™æ˜¯ä¸€æ¡æ¥è‡ª XQCSendMessage çš„åŒæ­¥ Webhook æµ‹è¯•æ¶ˆæ¯ (è¦†ç›–å­—å…¸å†…å®¹ï¼Œmarkdown ç±»å‹)ã€‚"}
            },
            msg_type="markdown" # è¦†ç›–ä¸º markdown ç±»å‹
        )
        print(f"âœ… ä¼ä¸šå¾®ä¿¡ Webhook æ¶ˆæ¯å‘é€æˆåŠŸ (è¦†ç›–å­—å…¸): {result_override_dict}")

    except Exception as e:
        print(f"ğŸ”¥ ä¼ä¸šå¾®ä¿¡ Webhook æ¶ˆæ¯å‘é€å¤±è´¥: {e}")

if __name__ == "__main__":
    main_wecom_webhook_sync()
```

#### ğŸ¢ ç¤ºä¾‹ 1.4: å‘é€ä¼ä¸šå¾®ä¿¡åº”ç”¨æ¶ˆæ¯ (åŒæ­¥)

```python
from xqcsendmessage import SyncClient

# --- é…ç½® ---
# ä½ çš„ä¼ä¸šå¾®ä¿¡åº”ç”¨é…ç½®
CORP_ID = "YOUR_CORP_ID"
CORP_SECRET = "YOUR_CORP_SECRET"
AGENT_ID = 1000002  # ä½ çš„åº”ç”¨ AgentId

def main_wecom_app_sync():
    """ä¸»å‡½æ•°"""
    # 1. åˆ›å»ºåŒæ­¥å®¢æˆ·ç«¯ï¼Œå¹¶åœ¨åˆå§‹åŒ–æ—¶é…ç½®ä¼ä¸šå¾®ä¿¡åº”ç”¨å‘é€å™¨
    client = SyncClient(
        sender_type="wecom_app",
        corpid=CORP_ID,
        corpsecret=CORP_SECRET,
        agentid=AGENT_ID,
        # å¯ä»¥åœ¨åˆå§‹åŒ–æ—¶è®¾ç½®é»˜è®¤æ¶ˆæ¯å†…å®¹ã€æ¶ˆæ¯ç±»å‹å’Œå‘é€å¯¹è±¡å‚æ•°ï¼Œè¿™äº›å‚æ•°ä¼šåœ¨ send æ–¹æ³•ä¸­ä½œä¸ºé»˜è®¤å€¼ï¼Œä½†å¯ä»¥è¢« send æ–¹æ³•ä¸­çš„ kwargs è¦†ç›–
        message="ã€XQCSendMessageã€‘è¿™æ˜¯ä¸€æ¡é€šè¿‡ä¼ä¸šå¾®ä¿¡åº”ç”¨å‘é€çš„åŒæ­¥æµ‹è¯•æ¶ˆæ¯ã€‚",
        msg_type="text", # é»˜è®¤æ¶ˆæ¯ç±»å‹ä¸ºæ–‡æœ¬
        touser="@all" # é»˜è®¤å‘é€ç»™æ‰€æœ‰äºº
    )

    # 2. å‘é€æ¶ˆæ¯
    try:
        # å‘é€å­—ç¬¦ä¸²æ¶ˆæ¯ï¼Œæ­¤æ—¶ä¼šä½¿ç”¨åˆå§‹åŒ–æ—¶è®¾ç½®çš„é»˜è®¤æ¶ˆæ¯ç±»å‹å’Œå‘é€å¯¹è±¡å‚æ•°
        result_default = client.send(
            "ã€XQCSendMessageã€‘è¿™æ˜¯ä¸€æ¡é€šè¿‡ä¼ä¸šå¾®ä¿¡åº”ç”¨å‘é€çš„åŒæ­¥æµ‹è¯•æ¶ˆæ¯ (ä½¿ç”¨é»˜è®¤å‚æ•°)ã€‚"
        )
        print(f"âœ… ä¼ä¸šå¾®ä¿¡åº”ç”¨æ¶ˆæ¯å‘é€æˆåŠŸ (é»˜è®¤å‚æ•°): {result_default}")

        # å‘é€å­—ç¬¦ä¸²æ¶ˆæ¯ï¼Œå¹¶è¦†ç›–é»˜è®¤å‚æ•°ï¼ˆä¾‹å¦‚ï¼ŒæŒ‡å®šä¸åŒçš„å†…å®¹å’Œå‘é€å¯¹è±¡ï¼‰
        result_override_str = client.send(
            "ã€XQCSendMessageã€‘è¿™æ˜¯ä¸€æ¡é€šè¿‡ä¼ä¸šå¾®ä¿¡åº”ç”¨å‘é€çš„åŒæ­¥æµ‹è¯•æ¶ˆæ¯ (è¦†ç›–å­—ç¬¦ä¸²å†…å®¹ï¼ŒæŒ‡å®šç”¨æˆ·)ã€‚",
            touser="USERID", # è¦†ç›–ä¸ºæŒ‡å®šç”¨æˆ·
            msg_type="text"
        )
        print(f"âœ… ä¼ä¸šå¾®ä¿¡åº”ç”¨æ¶ˆæ¯å‘é€æˆåŠŸ (è¦†ç›–å­—ç¬¦ä¸²): {result_override_str}")

        # å‘é€å­—å…¸æ¶ˆæ¯ï¼Œå¹¶è¦†ç›–é»˜è®¤å‚æ•°
        result_override_dict = client.send(
            {
                "msgtype": "markdown",
                "markdown": {"content": "ã€XQCSendMessageã€‘è¿™æ˜¯ä¸€æ¡é€šè¿‡ä¼ä¸šå¾®ä¿¡åº”ç”¨å‘é€çš„åŒæ­¥æµ‹è¯•æ¶ˆæ¯ (è¦†ç›–å­—å…¸å†…å®¹ï¼ŒæŒ‡å®šç”¨æˆ·)ã€‚"}
            },
            touser="USERID", # è¦†ç›–ä¸ºæŒ‡å®šç”¨æˆ·
            msg_type="markdown"
        )
        print(f"âœ… ä¼ä¸šå¾®ä¿¡åº”ç”¨æ¶ˆæ¯å‘é€æˆåŠŸ (è¦†ç›–å­—å…¸): {result_override_dict}")

    except Exception as e:
        print(f"ğŸ”¥ ä¼ä¸šå¾®ä¿¡åº”ç”¨æ¶ˆæ¯å‘é€å¤±è´¥: {e}")

if __name__ == "__main__":
    main_wecom_app_sync()
```

#### ğŸ“§ ç¤ºä¾‹ 1.5: å‘é€é‚®ä»¶ (å¼‚æ­¥)

```python
import asyncio
from xqcsendmessage import AsyncClient

# --- é…ç½® ---
SMTP_SERVER = "YOUR_SMTP_SERVER"  # âš ï¸ è¯·æ›¿æ¢ä¸ºä½ çš„ SMTP æœåŠ¡å™¨
SMTP_PORT = 587                   # âš ï¸ è¯·æ›¿æ¢ä¸ºä½ çš„ SMTP ç«¯å£
SENDER_EMAIL = "YOUR_SENDER_EMAIL"  # âš ï¸ è¯·æ›¿æ¢ä¸ºä½ çš„é‚®ç®±
SENDER_PASSWORD = "YOUR_SENDER_PASSWORD"    # âš ï¸ è¯·æ›¿æ¢ä¸ºä½ çš„é‚®ç®±å¯†ç æˆ–æˆæƒç 
RECIPIENTS = ["YOUR_RECIPIENT_EMAIL"] # âš ï¸ è¯·æ›¿æ¢ä¸ºæ”¶ä»¶äººé‚®ç®±åˆ—è¡¨

async def main_email_async():
    """ä¸»å‡½æ•°"""
    # 1. åˆ›å»ºå¼‚æ­¥å®¢æˆ·ç«¯ï¼Œå¹¶åœ¨åˆå§‹åŒ–æ—¶é…ç½®é‚®ä»¶å‘é€å™¨
    client = AsyncClient(
        sender_type="email",
        smtp_server=SMTP_SERVER,
        smtp_port=SMTP_PORT,
        sender_email=SENDER_EMAIL,
        sender_password=SENDER_PASSWORD,
        use_tls=True, # ç«¯å£ 465 é€šå¸¸ç›´æ¥ä½¿ç”¨ SSLï¼Œè€Œä¸æ˜¯é€šè¿‡ starttls å‡çº§
        recipients=RECIPIENTS, # å¯ä»¥åœ¨åˆå§‹åŒ–æ—¶è®¾ç½®é»˜è®¤æ¥æ”¶äºº
        subtype="plain" # å¯ä»¥åœ¨åˆå§‹åŒ–æ—¶è®¾ç½®é»˜è®¤é‚®ä»¶ç±»å‹
    )

    # 2. å‘é€é‚®ä»¶
    try:
        result = await client.send(
            content="è¿™æ˜¯ä¸€å°é€šè¿‡ xqcsendmessage å‘é€çš„å¼‚æ­¥æµ‹è¯•é‚®ä»¶ã€‚", # é‚®ä»¶å†…å®¹
            subject="Hello from xqcsendmessage!", # é‚®ä»¶ä¸»é¢˜
            # recipients å’Œ subtype å¯ä»¥ä¸ä¼ ï¼Œä¼šä½¿ç”¨åˆå§‹åŒ–æ—¶çš„é»˜è®¤å€¼
            # recipients=["override@example.com"], # ä¹Ÿå¯ä»¥åœ¨å‘é€æ—¶è¦†ç›–
            # subtype="html"
        )
        print(f"âœ… é‚®ä»¶å‘é€æˆåŠŸ: {result}")
    except Exception as e:
        print(f"ğŸ”¥ é‚®ä»¶å‘é€å¤±è´¥: {e}")

if __name__ == "__main__":
    asyncio.run(main_email_async())
```

#### ğŸ¤– ç¤ºä¾‹ 1.6: å‘é€é’‰é’‰æ¶ˆæ¯ (å¼‚æ­¥)

```python
import asyncio
from xqcsendmessage import AsyncClient

# --- é…ç½® ---
# ä½ çš„é’‰é’‰æœºå™¨äººçš„ Webhook å’Œå¯†é’¥
WEBHOOK_URL = "YOUR_DINGTALK_WEBHOOK_URL"
SECRET = "YOUR_DINGTALK_SECRET"  # å¦‚æœæ²¡æœ‰è®¾ç½®å¯†é’¥ï¼Œåˆ™ä¸º None

async def main_dingtalk_async():
    """ä¸»å‡½æ•°"""
    # 1. åˆ›å»ºå¼‚æ­¥å®¢æˆ·ç«¯ï¼Œå¹¶åœ¨åˆå§‹åŒ–æ—¶é…ç½®é’‰é’‰å‘é€å™¨
    client = AsyncClient(
        sender_type="dingtalk",
        webhook=WEBHOOK_URL,
        secret=SECRET,
        # å¯ä»¥åœ¨åˆå§‹åŒ–æ—¶è®¾ç½®é»˜è®¤æ¶ˆæ¯å†…å®¹ã€æ¶ˆæ¯ç±»å‹å’Œ @ äººå‚æ•°ï¼Œè¿™äº›å‚æ•°ä¼šåœ¨ send æ–¹æ³•ä¸­ä½œä¸ºé»˜è®¤å€¼ï¼Œä½†å¯ä»¥è¢« send æ–¹æ³•ä¸­çš„ kwargs è¦†ç›–
        message="ã€XQCSendMessageã€‘è¿™æ˜¯ä¸€æ¡æ¥è‡ª XQCSendMessage çš„å¼‚æ­¥æµ‹è¯•æ¶ˆæ¯ã€‚",
        msg_type="text", # é»˜è®¤æ¶ˆæ¯ç±»å‹ä¸ºæ–‡æœ¬
        is_at_all=True # é»˜è®¤å‘é€ç»™æ‰€æœ‰äºº
    )

    # 2. å‘é€æ¶ˆæ¯
    try:
        # å‘é€å­—ç¬¦ä¸²æ¶ˆæ¯ï¼Œæ­¤æ—¶ä¼šä½¿ç”¨åˆå§‹åŒ–æ—¶è®¾ç½®çš„é»˜è®¤æ¶ˆæ¯ç±»å‹å’Œ @ äººå‚æ•°ï¼ˆå‘é€ç»™æ‰€æœ‰äººï¼‰
        result_default_at = await client.send(
            "ã€XQCSendMessageã€‘è¿™æ˜¯ä¸€æ¡æ¥è‡ª XQCSendMessage çš„å¼‚æ­¥æµ‹è¯•æ¶ˆæ¯ (ä½¿ç”¨é»˜è®¤æ¶ˆæ¯ç±»å‹å’Œ @ äºº)ã€‚"
        )
        print(f"âœ… é’‰é’‰æ¶ˆæ¯å‘é€æˆåŠŸ (é»˜è®¤ @ äºº): {result_default_at}")

        # å‘é€å­—ç¬¦ä¸²æ¶ˆæ¯ï¼Œå¹¶è¦†ç›– @ äººå‚æ•°å’Œæ¶ˆæ¯ç±»å‹
        result_override_at = await client.send(
            "ã€XQCSendMessageã€‘è¿™æ˜¯ä¸€æ¡æ¥è‡ª XQCSendMessage çš„å¼‚æ­¥æµ‹è¯•æ¶ˆæ¯ (è¦†ç›– @ äººï¼ŒæŒ‡å®šæ‰‹æœºå·ï¼Œmarkdown ç±»å‹)ã€‚",
            msg_type="markdown",
            at_mobiles=["13900139000"],
            is_at_all=False
        )
        print(f"âœ… é’‰é’‰æ¶ˆæ¯å‘é€æˆåŠŸ (è¦†ç›– @ äºº): {result_override_at}")

        # å‘é€å­—å…¸æ¶ˆæ¯ï¼Œå¹¶è¦†ç›– @ äººå‚æ•°å’Œæ¶ˆæ¯ç±»å‹
        result_dict_override_at = await client.send(
            {
                "title": "æµ‹è¯•æ ‡é¢˜",
                "text": "ã€XQCSendMessageã€‘è¿™æ˜¯ä¸€æ¡æ¥è‡ª XQCSendMessage çš„å¼‚æ­¥æµ‹è¯•æ¶ˆæ¯ (å­—å…¸ï¼Œè¦†ç›– @ äººï¼ŒæŒ‡å®šæ‰‹æœºå·ï¼Œmarkdown ç±»å‹)ã€‚"
            },
            msg_type="markdown",
            at_mobiles=["13700137000"],
            is_at_all=False
        )
        print(f"âœ… é’‰é’‰æ¶ˆæ¯å‘é€æˆåŠŸ (å­—å…¸ï¼Œè¦†ç›– @ äºº): {result_dict_override_at}")

    except Exception as e:
        print(f"ğŸ”¥ é’‰é’‰æ¶ˆæ¯å‘é€å¤±è´¥: {e}")

if __name__ == "__main__":
    asyncio.run(main_dingtalk_async())
```

#### ğŸ¢ ç¤ºä¾‹ 1.7: å‘é€ä¼ä¸šå¾®ä¿¡ Webhook æ¶ˆæ¯ (å¼‚æ­¥)

```python
import asyncio
from xqcsendmessage import AsyncClient

# --- é…ç½® ---
# ä½ çš„ä¼ä¸šå¾®ä¿¡æœºå™¨äººçš„ Webhook
WEBHOOK_URL = "YOUR_WECOM_WEBHOOK_URL"

async def main_wecom_webhook_async():
    """ä¸»å‡½æ•°"""
    # 1. åˆ›å»ºå¼‚æ­¥å®¢æˆ·ç«¯ï¼Œå¹¶åœ¨åˆå§‹åŒ–æ—¶é…ç½®ä¼ä¸šå¾®ä¿¡ Webhook å‘é€å™¨
    client = AsyncClient(
        sender_type="wecom_webhook",
        webhook=WEBHOOK_URL,
        # å¯ä»¥åœ¨åˆå§‹åŒ–æ—¶è®¾ç½®é»˜è®¤æ¶ˆæ¯å†…å®¹å’Œæ¶ˆæ¯ç±»å‹ï¼Œè¿™äº›å‚æ•°ä¼šåœ¨ send æ–¹æ³•ä¸­ä½œä¸ºé»˜è®¤å€¼ï¼Œä½†å¯ä»¥è¢« send æ–¹æ³•ä¸­çš„ kwargs è¦†ç›–
        message="ã€XQCSendMessageã€‘è¿™æ˜¯ä¸€æ¡æ¥è‡ª XQCSendMessage çš„å¼‚æ­¥ Webhook æµ‹è¯•æ¶ˆæ¯ã€‚",
        msg_type="text" # é»˜è®¤æ¶ˆæ¯ç±»å‹ä¸ºæ–‡æœ¬
    )

    # 2. å‘é€æ¶ˆæ¯
    try:
        # å‘é€å­—ç¬¦ä¸²æ¶ˆæ¯ï¼Œæ­¤æ—¶ä¼šä½¿ç”¨åˆå§‹åŒ–æ—¶è®¾ç½®çš„é»˜è®¤å‚æ•°
        result_default = await client.send(
            "ã€XQCSendMessageã€‘è¿™æ˜¯ä¸€æ¡æ¥è‡ª XQCSendMessage çš„å¼‚æ­¥ Webhook æµ‹è¯•æ¶ˆæ¯ (ä½¿ç”¨é»˜è®¤å‚æ•°)ã€‚"
        )
        print(f"âœ… ä¼ä¸šå¾®ä¿¡ Webhook æ¶ˆæ¯å‘é€æˆåŠŸ (é»˜è®¤å‚æ•°): {result_default}")

        # å‘é€å­—ç¬¦ä¸²æ¶ˆæ¯ï¼Œå¹¶è¦†ç›–é»˜è®¤å‚æ•°ï¼ˆä¾‹å¦‚ï¼ŒæŒ‡å®šä¸åŒçš„å†…å®¹ï¼‰
        result_override_str = await client.send(
            "ã€XQCSendMessageã€‘è¿™æ˜¯ä¸€æ¡æ¥è‡ª XQCSendMessage çš„å¼‚æ­¥ Webhook æµ‹è¯•æ¶ˆæ¯ (è¦†ç›–å­—ç¬¦ä¸²å†…å®¹ï¼Œmarkdown ç±»å‹)ã€‚",
            msg_type="markdown" # è¦†ç›–ä¸º markdown ç±»å‹
        )
        print(f"âœ… ä¼ä¸šå¾®ä¿¡ Webhook æ¶ˆæ¯å‘é€æˆåŠŸ (è¦†ç›–å­—ç¬¦ä¸²): {result_override_str}")

        # å‘é€å­—å…¸æ¶ˆæ¯ï¼Œå¹¶è¦†ç›–é»˜è®¤å‚æ•°
        result_override_dict = await client.send(
            {
                "msgtype": "markdown",
                "markdown": {"content": "ã€XQCSendMessageã€‘è¿™æ˜¯ä¸€æ¡æ¥è‡ª XQCSendMessage çš„å¼‚æ­¥ Webhook æµ‹è¯•æ¶ˆæ¯ (è¦†ç›–å­—å…¸å†…å®¹ï¼Œmarkdown ç±»å‹)ã€‚"}
            },
            msg_type="markdown" # è¦†ç›–ä¸º markdown ç±»å‹
        )
        print(f"âœ… ä¼ä¸šå¾®ä¿¡ Webhook æ¶ˆæ¯å‘é€æˆåŠŸ (è¦†ç›–å­—å…¸): {result_override_dict}")

    except Exception as e:
        print(f"ğŸ”¥ ä¼ä¸šå¾®ä¿¡ Webhook æ¶ˆæ¯å‘é€å¤±è´¥: {e}")

if __name__ == "__main__":
    asyncio.run(main_wecom_webhook_async())
```

#### ğŸ¢ ç¤ºä¾‹ 1.8: å‘é€ä¼ä¸šå¾®ä¿¡åº”ç”¨æ¶ˆæ¯ (å¼‚æ­¥)

```python
import asyncio
from xqcsendmessage import AsyncClient

# --- é…ç½® ---
# ä½ çš„ä¼ä¸šå¾®ä¿¡åº”ç”¨é…ç½®
CORP_ID = "YOUR_CORP_ID"
CORP_SECRET = "YOUR_CORP_SECRET"
AGENT_ID = 1000002  # ä½ çš„åº”ç”¨ AgentId

async def main_wecom_app_async():
    """ä¸»å‡½æ•°"""
    # 1. åˆ›å»ºå¼‚æ­¥å®¢æˆ·ç«¯ï¼Œå¹¶åœ¨åˆå§‹åŒ–æ—¶é…ç½®ä¼ä¸šå¾®ä¿¡åº”ç”¨å‘é€å™¨
    client = AsyncClient(
        sender_type="wecom_app",
        corpid=CORP_ID,
        corpsecret=CORP_SECRET,
        agentid=AGENT_ID,
        # å¯ä»¥åœ¨åˆå§‹åŒ–æ—¶è®¾ç½®é»˜è®¤æ¶ˆæ¯å†…å®¹ã€æ¶ˆæ¯ç±»å‹å’Œå‘é€å¯¹è±¡å‚æ•°ï¼Œè¿™äº›å‚æ•°ä¼šåœ¨ send æ–¹æ³•ä¸­ä½œä¸ºé»˜è®¤å€¼ï¼Œä½†å¯ä»¥è¢« send æ–¹æ³•ä¸­çš„ kwargs è¦†ç›–
        message="ã€XQCSendMessageã€‘è¿™æ˜¯ä¸€æ¡é€šè¿‡ä¼ä¸šå¾®ä¿¡åº”ç”¨å‘é€çš„å¼‚æ­¥æµ‹è¯•æ¶ˆæ¯ã€‚",
        msg_type="text", # é»˜è®¤æ¶ˆæ¯ç±»å‹ä¸ºæ–‡æœ¬
        touser="@all" # é»˜è®¤å‘é€ç»™æ‰€æœ‰äºº
    )

    # 2. å‘é€æ¶ˆæ¯
    try:
        # å‘é€å­—ç¬¦ä¸²æ¶ˆæ¯ï¼Œæ­¤æ—¶ä¼šä½¿ç”¨åˆå§‹åŒ–æ—¶è®¾ç½®çš„é»˜è®¤æ¶ˆæ¯ç±»å‹å’Œå‘é€å¯¹è±¡å‚æ•°
        result_default = await client.send(
            "ã€XQCSendMessageã€‘è¿™æ˜¯ä¸€æ¡é€šè¿‡ä¼ä¸šå¾®ä¿¡åº”ç”¨å‘é€çš„å¼‚æ­¥æµ‹è¯•æ¶ˆæ¯ (ä½¿ç”¨é»˜è®¤å‚æ•°)ã€‚"
        )
        print(f"âœ… ä¼ä¸šå¾®ä¿¡åº”ç”¨æ¶ˆæ¯å‘é€æˆåŠŸ (é»˜è®¤å‚æ•°): {result_default}")

        # å‘é€å­—ç¬¦ä¸²æ¶ˆæ¯ï¼Œå¹¶è¦†ç›–é»˜è®¤å‚æ•°ï¼ˆä¾‹å¦‚ï¼ŒæŒ‡å®šä¸åŒçš„å†…å®¹å’Œå‘é€å¯¹è±¡ï¼‰
        result_override_str = await client.send(
            "ã€XQCSendMessageã€‘è¿™æ˜¯ä¸€æ¡é€šè¿‡ä¼ä¸šå¾®ä¿¡åº”ç”¨å‘é€çš„å¼‚æ­¥æµ‹è¯•æ¶ˆæ¯ (è¦†ç›–å­—ç¬¦ä¸²å†…å®¹ï¼ŒæŒ‡å®šç”¨æˆ·)ã€‚",
            touser="USERID", # è¦†ç›–ä¸ºæŒ‡å®šç”¨æˆ·
            msg_type="text"
        )
        print(f"âœ… ä¼ä¸šå¾®ä¿¡åº”ç”¨æ¶ˆæ¯å‘é€æˆåŠŸ (è¦†ç›–å­—ç¬¦ä¸²): {result_override_str}")

        # å‘é€å­—å…¸æ¶ˆæ¯ï¼Œå¹¶è¦†ç›–é»˜è®¤å‚æ•°
        result_override_dict = await client.send(
            {
                "msgtype": "markdown",
                "markdown": {"content": "ã€XQCSendMessageã€‘è¿™æ˜¯ä¸€æ¡é€šè¿‡ä¼ä¸šå¾®ä¿¡åº”ç”¨å‘é€çš„å¼‚æ­¥æµ‹è¯•æ¶ˆæ¯ (è¦†ç›–å­—å…¸å†…å®¹ï¼ŒæŒ‡å®šç”¨æˆ·)ã€‚"}
            },
            touser="USERID", # è¦†ç›–ä¸ºæŒ‡å®šç”¨æˆ·
            msg_type="markdown"
        )
        print(f"âœ… ä¼ä¸šå¾®ä¿¡åº”ç”¨æ¶ˆæ¯å‘é€æˆåŠŸ (è¦†ç›–å­—å…¸): {result_override_dict}")

    except Exception as e:
        print(f"ğŸ”¥ ä¼ä¸šå¾®ä¿¡åº”ç”¨æ¶ˆæ¯å‘é€å¤±è´¥: {e}")

if __name__ == "__main__":
    asyncio.run(main_wecom_app_async())
```

### â¡ï¸ ç›´æ¥å‡½æ•°è°ƒç”¨æ¨¡å¼

`xqcsendmessage` æä¾›äº†ä¾¿æ·çš„é¡¶å±‚å‡½æ•°ï¼Œå¯ä»¥ç›´æ¥è°ƒç”¨ä»¥å‘é€æ¶ˆæ¯ï¼Œæ— éœ€æ˜¾å¼å®ä¾‹åŒ–å®¢æˆ·ç«¯æˆ–å‘é€å™¨ã€‚

#### âš™ï¸ é¡¶å±‚å‘é€å‡½æ•°å‚æ•°è¯´æ˜

è¿™äº›å‡½æ•°å°†æ¶ˆæ¯å†…å®¹ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ï¼Œå…¶ä½™å‚æ•°ç›´æ¥ä½œä¸ºå…³é”®å­—å‚æ•°ä¼ å…¥ã€‚

- `send_email` / `send_email_async`:
  - `message` (Union[str, Dict[str, Any]]): é‚®ä»¶å†…å®¹ã€‚å¦‚æœä¸ºå­—ç¬¦ä¸²ï¼Œåˆ™ä½œä¸º `content`ï¼›å¦‚æœä¸ºå­—å…¸ï¼Œåˆ™å¯ä»¥åŒ…å« `subject`, `content`, `recipients`, `subtype`ã€‚
  - `smtp_server` (str): SMTP æœåŠ¡å™¨åœ°å€ã€‚
  - `smtp_port` (int): SMTP æœåŠ¡å™¨ç«¯å£ã€‚
  - `sender_email` (str): å‘ä»¶äººé‚®ç®±ã€‚
  - `sender_password` (str): å‘ä»¶äººé‚®ç®±å¯†ç æˆ–æˆæƒç ã€‚
  - `recipients` (List[str]): æ”¶ä»¶äººåˆ—è¡¨ã€‚
  - `subject` (str, optional): é‚®ä»¶ä¸»é¢˜ï¼Œå¦‚æœ `message` ä¸ºå­—ç¬¦ä¸²ï¼Œåˆ™å¿…é¡»æä¾›ã€‚
  - `content` (str, optional): é‚®ä»¶å†…å®¹ï¼Œå¦‚æœ `message` ä¸ºå­—å…¸ä¸”æœªåŒ…å« `content`ï¼Œåˆ™å¿…é¡»æä¾›ã€‚
  - `subtype` (str, default `"plain"`): é‚®ä»¶å†…å®¹ç±»å‹ï¼Œ`"plain"` æˆ– `"html"`ã€‚
  - `use_tls` (bool, default `True`): æ˜¯å¦ä½¿ç”¨ TLS åŠ å¯†ã€‚
  - `**kwargs`: å…¶ä»–å¯é€‰å‚æ•°ï¼Œå°†ä¼ é€’ç»™åº•å±‚çš„ `EmailSender` æˆ– `AsyncEmailSender`ã€‚
- `send_dingtalk` / `send_dingtalk_async`:
  - `message` (Union[str, Dict[str, Any]]): æ¶ˆæ¯å†…å®¹ï¼Œå¯ä»¥æ˜¯å­—ç¬¦ä¸²ï¼ˆå°†ä½œä¸ºæ–‡æœ¬æ¶ˆæ¯å‘é€ï¼‰æˆ–ç¬¦åˆé’‰é’‰æœºå™¨äººæ ¼å¼çš„å­—å…¸ã€‚
  - `webhook` (str): é’‰é’‰æœºå™¨äººçš„ Webhook åœ°å€ã€‚
  - `secret` (str, optional): é’‰é’‰æœºå™¨äººçš„å¯†é’¥ï¼Œç”¨äºç­¾åã€‚
  - `msg_type` (str, default `"text"`): æ¶ˆæ¯ç±»å‹ï¼Œé»˜è®¤ä¸º "text"ã€‚
  - `at_mobiles` (List[str], optional): è¢« @ çš„ç”¨æˆ·çš„æ‰‹æœºå·åˆ—è¡¨ã€‚
  - `is_at_all` (bool, default `True`): æ˜¯å¦ @ æ‰€æœ‰äººï¼Œé»˜è®¤ä¸º Trueã€‚
  - `**kwargs`: å…¶ä»–å¯é€‰å‚æ•°ï¼Œä¼šåˆå¹¶åˆ°æ¶ˆæ¯å­—å…¸ä¸­ã€‚
- `send_wecom_webhook` / `send_wecom_webhook_async`:
  - `message` (Union[str, Dict[str, Any]]): æ¶ˆæ¯å†…å®¹ï¼Œå¯ä»¥æ˜¯å­—ç¬¦ä¸²ï¼ˆå°†ä½œä¸ºæ–‡æœ¬æ¶ˆæ¯å‘é€ï¼‰æˆ–ç¬¦åˆä¼ä¸šå¾®ä¿¡æœºå™¨äººæ”¯æŒçš„æ ¼å¼ã€‚
  - `webhook` (str): ä¼ä¸šå¾®ä¿¡æœºå™¨äººçš„ Webhook åœ°å€ã€‚
  - `msg_type` (str, default `"text"`): æ¶ˆæ¯ç±»å‹ï¼Œé»˜è®¤ä¸º "text"ã€‚
  - `**kwargs`: å…¶ä»–å¯é€‰å‚æ•°ï¼Œä¼šåˆå¹¶åˆ°æ¶ˆæ¯å­—å…¸ä¸­ã€‚
- `send_wecom_app` / `send_wecom_app_async`:
  - `message` (Union[str, Dict[str, Any]]): æ¶ˆæ¯å†…å®¹ï¼Œå¯ä»¥æ˜¯å­—ç¬¦ä¸²ï¼ˆå°†ä½œä¸ºæ–‡æœ¬æ¶ˆæ¯å‘é€ï¼‰æˆ–ç¬¦åˆä¼ä¸šå¾®ä¿¡åº”ç”¨æ¶ˆæ¯æ”¯æŒçš„æ ¼å¼ã€‚
  - `corpid` (str): ä¼ä¸š IDã€‚
  - `corpsecret` (str): åº”ç”¨çš„ Secretã€‚
  - `agentid` (int): åº”ç”¨çš„ AgentIdã€‚
  - `msg_type` (str, default `"text"`): æ¶ˆæ¯ç±»å‹ï¼Œé»˜è®¤ä¸º "text"ã€‚
  - `touser` (Union[str, List[str]], optional, default `"@all"`): æŒ‡å®šæ¥æ”¶æ¶ˆæ¯çš„æˆå‘˜ï¼Œæˆå‘˜ ID åˆ—è¡¨ï¼ˆæœ€å¤šæ”¯æŒ 1000 ä¸ªï¼‰ã€‚é»˜è®¤ä¸º "@all"ã€‚
  - `toparty` (Union[str, List[str]], optional): æŒ‡å®šæ¥æ”¶æ¶ˆæ¯çš„éƒ¨é—¨ ID åˆ—è¡¨ï¼ˆæœ€å¤šæ”¯æŒ 100 ä¸ªï¼‰ã€‚
  - `totag` (Union[str, List[str]], optional): æŒ‡å®šæ¥æ”¶æ¶ˆæ¯çš„æ ‡ç­¾ ID åˆ—è¡¨ï¼ˆæœ€å¤šæ”¯æŒ 100 ä¸ªï¼‰ã€‚
  - `safe` (int, optional): è¡¨ç¤ºæ˜¯å¦æ˜¯ä¿å¯†æ¶ˆæ¯ï¼Œ0 è¡¨ç¤ºå¦ï¼Œ1 è¡¨ç¤ºæ˜¯ï¼Œé»˜è®¤ 0ã€‚
  - `enable_duplicate_check` (int, optional): è¡¨ç¤ºæ˜¯å¦å¼€å¯é‡å¤æ¶ˆæ¯æ£€æŸ¥ï¼Œ0 è¡¨ç¤ºå¦ï¼Œ1 è¡¨ç¤ºæ˜¯ï¼Œé»˜è®¤ 0ã€‚
  - `duplicate_check_interval` (int, optional): è¡¨ç¤ºé‡å¤æ¶ˆæ¯æ£€æŸ¥çš„æ—¶é—´é—´éš”ï¼Œå•ä½ç§’ï¼Œæœ€å¤§ä¸è¶…è¿‡ 120ã€‚
  - `**kwargs`: å…¶ä»–å¯é€‰å‚æ•°ï¼Œä¼šåˆå¹¶åˆ°æ¶ˆæ¯å­—å…¸ä¸­ã€‚

#### ğŸ“§ ç¤ºä¾‹ 2.1: ç›´æ¥å‘é€ä¸€å°é‚®ä»¶ (åŒæ­¥)

```python
from xqcsendmessage import send_email

# --- é…ç½® ---
SMTP_SERVER = "YOUR_SMTP_SERVER"  # âš ï¸ è¯·æ›¿æ¢ä¸ºä½ çš„ SMTP æœåŠ¡å™¨
SMTP_PORT = 587                   # âš ï¸ è¯·æ›¿æ¢ä¸ºä½ çš„ SMTP ç«¯å£
SENDER_EMAIL = "YOUR_SENDER_EMAIL"  # âš ï¸ è¯·æ›¿æ¢ä¸ºä½ çš„é‚®ç®±
SENDER_PASSWORD = "YOUR_SENDER_PASSWORD"    # âš ï¸ è¯·æ›¿æ¢ä¸ºä½ çš„é‚®ç®±å¯†ç æˆ–æˆæƒç 
RECIPIENTS = ["YOUR_RECIPIENT_EMAIL"] # âš ï¸ è¯·æ›¿æ¢ä¸ºæ”¶ä»¶äººé‚®ç®±åˆ—è¡¨

# ç›´æ¥å‘é€é‚®ä»¶
try:
    result = send_email(
        content="è¿™æ˜¯ä¸€å°é€šè¿‡ xqcsendmessage ç›´æ¥å‘é€çš„åŒæ­¥æµ‹è¯•é‚®ä»¶ã€‚",
        smtp_server=SMTP_SERVER,
        smtp_port=SMTP_PORT,
        sender_email=SENDER_EMAIL,
        sender_password=SENDER_PASSWORD,
        recipients=RECIPIENTS,
        subject="Hello from xqcsendmessage! (Direct Call)",
        subtype="plain"
    )
    print(f"âœ… ç›´æ¥è°ƒç”¨é‚®ä»¶å‘é€æˆåŠŸ: {result}")
except Exception as e:
    print(f"ğŸ”¥ ç›´æ¥è°ƒç”¨é‚®ä»¶å‘é€å¤±è´¥: {e}")
```

#### ğŸ¤– ç¤ºä¾‹ 2.2: ç›´æ¥å‘é€é’‰é’‰æ¶ˆæ¯ (å¼‚æ­¥)

```python
import asyncio
from xqcsendmessage import send_dingtalk_async

# --- é…ç½® ---
# ä½ çš„é’‰é’‰æœºå™¨äººçš„ Webhook å’Œå¯†é’¥
WEBHOOK_URL = "YOUR_DINGTALK_WEBHOOK_URL"
SECRET = "YOUR_DINGTALK_SECRET"

async def main_direct_dingtalk():
    # ç›´æ¥å‘é€é’‰é’‰æ¶ˆæ¯
    try:
        # å‘é€å­—ç¬¦ä¸²æ¶ˆæ¯ï¼Œæ¶ˆæ¯ç±»å‹å’Œ @ äººç›¸å…³çš„å‚æ•°é€šè¿‡ kwargs ä¼ é€’
        result = await send_dingtalk_async(
            "ã€XQCSendMessageã€‘è¿™æ˜¯ä¸€æ¡é€šè¿‡ XQCSendMessage ç›´æ¥å‘é€çš„å¼‚æ­¥é’‰é’‰æµ‹è¯•æ¶ˆæ¯ (å‘é€ç»™æ‰€æœ‰äºº)ã€‚",
            webhook=WEBHOOK_URL,
            secret=SECRET,
            msg_type="text", # æ¶ˆæ¯ç±»å‹ä¸ºæ–‡æœ¬
            is_at_all=True # å‘é€ç»™æ‰€æœ‰äºº
        )
        print(f"âœ… é’‰é’‰æ¶ˆæ¯å‘é€æˆåŠŸ (å‘é€ç»™æ‰€æœ‰äºº): {result}")

        # å‘é€å­—å…¸æ¶ˆæ¯ï¼Œæ¶ˆæ¯ç±»å‹å’Œ @ äººç›¸å…³çš„å‚æ•°é€šè¿‡ kwargs ä¼ é€’
        result_dict_override_at = await send_dingtalk_async(
            {
                "title": "æµ‹è¯•æ ‡é¢˜",
                "text": "ã€XQCSendMessageã€‘è¿™æ˜¯ä¸€æ¡é€šè¿‡ XQCSendMessage ç›´æ¥å‘é€çš„å¼‚æ­¥é’‰é’‰æµ‹è¯•æ¶ˆæ¯ (å­—å…¸ï¼ŒæŒ‡å®šæ‰‹æœºå·ï¼Œmarkdown ç±»å‹)ã€‚"
            },
            webhook=WEBHOOK_URL,
            secret=SECRET,
            msg_type="markdown",
            at_mobiles=["13700137000"],
            is_at_all=False
        )
        print(f"âœ… é’‰é’‰æ¶ˆæ¯å‘é€æˆåŠŸ (å­—å…¸ï¼ŒæŒ‡å®šæ‰‹æœºå·): {result_dict_override_at}")

    except Exception as e:
        print(f"ğŸ”¥ ç›´æ¥è°ƒç”¨é’‰é’‰å‘é€å¤±è´¥: {e}")

if __name__ == "__main__":
    asyncio.run(main_direct_dingtalk())
```

#### ğŸ¢ ç¤ºä¾‹ 2.3: ç›´æ¥å‘é€ä¼ä¸šå¾®ä¿¡ Webhook æ¶ˆæ¯ (åŒæ­¥)

```python
from xqcsendmessage import send_wecom_webhook

# --- é…ç½® ---
# ä¼ä¸šå¾®ä¿¡æœºå™¨äººçš„ Webhook
WEBHOOK_URL = "YOUR_WECOM_WEBHOOK_URL"

# ç›´æ¥å‘é€ä¼ä¸šå¾®ä¿¡ Webhook æ¶ˆæ¯
try:
    # å‘é€å­—ç¬¦ä¸²æ¶ˆæ¯
    result_direct_str = send_wecom_webhook(
        "ã€XQCSendMessageã€‘è¿™æ˜¯ä¸€æ¡é€šè¿‡ XQCSendMessage ç›´æ¥å‘é€çš„åŒæ­¥ Webhook æµ‹è¯•æ¶ˆæ¯ (å­—ç¬¦ä¸²)ã€‚",
        webhook=WEBHOOK_URL,
        msg_type="text" # æ¶ˆæ¯ç±»å‹ä¸ºæ–‡æœ¬
    )
    print(f"âœ… ç›´æ¥è°ƒç”¨ä¼ä¸šå¾®ä¿¡ Webhook æ¶ˆæ¯å‘é€æˆåŠŸ (å­—ç¬¦ä¸²): {result_direct_str}")

    # å‘é€å­—å…¸æ¶ˆæ¯ï¼Œå¹¶è¦†ç›–æ¶ˆæ¯ç±»å‹
    result_direct_dict_override = send_wecom_webhook(
        {
            "msgtype": "markdown",
            "markdown": {"content": "ã€XQCSendMessageã€‘è¿™æ˜¯ä¸€æ¡é€šè¿‡ XQCSendMessage ç›´æ¥å‘é€çš„åŒæ­¥ Webhook æµ‹è¯•æ¶ˆæ¯ (å­—å…¸ï¼Œmarkdown ç±»å‹)ã€‚"}
        },
        webhook=WEBHOOK_URL,
        msg_type="markdown" # æ¶ˆæ¯ç±»å‹ä¸º markdown
    )
    print(f"âœ… ç›´æ¥è°ƒç”¨ä¼ä¸šå¾®ä¿¡ Webhook æ¶ˆæ¯å‘é€æˆåŠŸ (å­—å…¸ï¼Œmarkdown ç±»å‹): {result_direct_dict_override}")

except Exception as e:
    print(f"ğŸ”¥ ä¼ä¸šå¾®ä¿¡ Webhook æ¶ˆæ¯å‘é€å¤±è´¥: {e}")
```

#### ğŸ¢ ç¤ºä¾‹ 2.4: ç›´æ¥å‘é€ä¼ä¸šå¾®ä¿¡åº”ç”¨æ¶ˆæ¯ (å¼‚æ­¥)

```python
import asyncio
from xqcsendmessage import send_wecom_app_async

# --- é…ç½® ---
# ä¼ä¸šå¾®ä¿¡åº”ç”¨é…ç½®
CORP_ID = "YOUR_CORP_ID"
CORP_SECRET = "YOUR_CORP_SECRET"
AGENT_ID = 1000002  # ä½ çš„åº”ç”¨ AgentId

async def main_direct_wecom_app_async():
    # ç›´æ¥å‘é€ä¼ä¸šå¾®ä¿¡åº”ç”¨æ¶ˆæ¯
    try:
        # å‘é€å­—ç¬¦ä¸²æ¶ˆæ¯
        result_direct_str = await send_wecom_app_async(
            "ã€XQCSendMessageã€‘è¿™æ˜¯ä¸€æ¡é€šè¿‡ä¼ä¸šå¾®ä¿¡åº”ç”¨ç›´æ¥å‘é€çš„å¼‚æ­¥æµ‹è¯•æ¶ˆæ¯ (å­—ç¬¦ä¸²)ã€‚",
            corpid=CORP_ID,
            corpsecret=CORP_SECRET,
            agentid=AGENT_ID,
            msg_type="text", # æ¶ˆæ¯ç±»å‹ä¸ºæ–‡æœ¬
            touser="@all" # é»˜è®¤ @æ‰€æœ‰äºº
        )
        print(f"âœ… ç›´æ¥è°ƒç”¨ä¼ä¸šå¾®ä¿¡åº”ç”¨æ¶ˆæ¯å‘é€æˆåŠŸ (å­—ç¬¦ä¸²): {result_direct_str}")

        # å‘é€å­—å…¸æ¶ˆæ¯ï¼Œå¹¶è¦†ç›– touser å‚æ•°
        result_direct_dict_override = await send_wecom_app_async(
            {
                "msgtype": "markdown",
                "markdown": {"content": "ã€XQCSendMessageã€‘è¿™æ˜¯ä¸€æ¡é€šè¿‡ä¼ä¸šå¾®ä¿¡åº”ç”¨ç›´æ¥å‘é€çš„å¼‚æ­¥æµ‹è¯•æ¶ˆæ¯ (å­—å…¸ï¼ŒæŒ‡å®šç”¨æˆ·)ã€‚"},
            },
            corpid=CORP_ID,
            corpsecret=CORP_SECRET,
            agentid=AGENT_ID,
            msg_type="markdown", # æ¶ˆæ¯ç±»å‹ä¸º markdown
            touser="USERID" # å¯ä»¥åœ¨è¿™é‡Œè¦†ç›– touser
        )
        print(f"âœ… ç›´æ¥è°ƒç”¨ä¼ä¸šå¾®ä¿¡åº”ç”¨æ¶ˆæ¯å‘é€æˆåŠŸ (å­—å…¸): {result_direct_dict_override}")

    except Exception as e:
        print(f"ğŸ”¥ ç›´æ¥è°ƒç”¨ä¼ä¸šå¾®ä¿¡åº”ç”¨æ¶ˆæ¯å‘é€å¤±è´¥: {e}")

if __name__ == "__main__":
    asyncio.run(main_direct_wecom_app_async())
```


## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®åŸºäº [MIT License](LICENSE) å¼€æºã€‚

## ğŸ™ æ”¯æŒæˆ‘

å¦‚æœæ‚¨è§‰å¾— `XQCSendMessage` å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼æ”¯æŒæˆ‘ï¼š

[![æ‰“èµä½œè€…](https://s2.loli.net/2025/11/10/lQRcAvN3Lgxukqb.png)](https://s2.loli.net/2025/11/10/lQRcAvN3Lgxukqb.png)
