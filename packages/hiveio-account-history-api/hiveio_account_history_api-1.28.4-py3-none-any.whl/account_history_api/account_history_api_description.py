# generated by datamodel-codegen:
#   filename:  openapi_flattened.json
#   timestamp: 2025-11-12T20:56:10+00:00

from __future__ import annotations

from typing import Any, Optional, Union

from msgspec import Struct, field

class Op(Struct):
    type: str
    value: dict[str, Any]

class Extension(Struct):
    type: str
    value: str

class Operation(Struct):
    type: str
    value: dict[str, Any]

class EnumVirtualOps(Struct):
    block_range_begin: int
    """
    The first block number to include.
    """
    block_range_end: int
    """
    The last block number to include.
    """
    include_reversible: Optional[bool] = None
    """
    Whether to include reversible blocks.
    """
    group_by_block: Optional[bool] = None
    """
    Whether to group operations by block.
    """
    operation_begin: Optional[Union[str, int]] = None
    """
    The operation id to start from.
    """
    limit: Optional[int] = None
    """
    The maximum number of records to return.
    """
    filter: Optional[Union[str, int]] = None
    """
    The filter to apply to the operations.
    """

class Op1(Struct):
    block: int
    """
    The block number in which the operation was included.
    """
    op_in_trx: int
    """
    The index of the operation in the transaction.
    """
    timestamp: str
    """
    The timestamp when the operation was executed.
    """
    trx_id: str
    """
    The ID of the transaction that contains the operation.
    """
    trx_in_block: int
    """
    The index of the transaction in the block.
    """
    virtual_op: bool
    """
    Indicates whether the operation is a virtual operation.
    """
    op: Op
    """
    Body of the operation.
    """
    operation_id: Union[str, int]
    """
    The unique ID of the operation.
    """

class Op4(Struct):
    type: str
    value: dict[str, Any]

class Op3(Struct):
    block: int
    """
    The block number in which the operation was included.
    """
    op_in_trx: int
    """
    The index of the operation in the transaction.
    """
    timestamp: str
    """
    The timestamp when the operation was executed.
    """
    trx_id: str
    """
    The ID of the transaction that contains the operation.
    """
    trx_in_block: int
    """
    The index of the transaction in the block.
    """
    virtual_op: bool
    """
    Indicates whether the operation is a virtual operation.
    """
    op: Op4
    """
    Body of the operation.
    """
    operation_id: Union[str, int]
    """
    The unique ID of the operation.
    """

class OpsByBlockItem(Struct):
    block: int
    """
    The block number.
    """
    irreversible: bool
    """
    Indicates whether the block is irreversible.
    """
    ops: list[Op3]
    """
    An array of operation objects included in the block.
    """
    timestamp: str
    """
    The timestamp of the block.
    """

class EnumVirtualOpsResponse(Struct):
    next_block_range_begin: int
    """
    The next block range starting block.
    """
    next_operation_begin: Union[str, int]
    """
    The next operation id to query.
    """
    ops: list[Op1]
    ops_by_block: list[OpsByBlockItem]

class GetAccountHistory(Struct):
    account: str
    """
    The name of the account to query.
    """
    start: int
    """
    The starting point for the history query, -1 for reverse history or any positive numeric.
    """
    limit: int
    """
    The maximum number of operations to return.
    """
    include_reversible: Optional[bool] = None
    """
    Whether to include reversible operations in the response.
    """
    operation_filter_low: Optional[int] = None
    """
    The lower bound for filtering operations by type.
    """
    operation_filter_high: Optional[int] = None
    """
    The upper bound for filtering operations by type.
    """

class Op5(Struct):
    type: str
    value: dict[str, Any]

class History(Struct):
    block: int
    """
    The block number in which the operation was included.
    """
    op_in_trx: int
    """
    The index of the operation in the transaction.
    """
    timestamp: str
    """
    The timestamp when the operation was executed.
    """
    trx_id: str
    """
    The ID of the transaction that contains the operation.
    """
    trx_in_block: int
    """
    The index of the transaction in the block.
    """
    virtual_op: bool
    """
    Indicates whether the operation is a virtual operation.
    """
    op: Op5
    """
    Body of the operation.
    """
    operation_id: Union[str, int]
    """
    The unique ID of the operation.
    """

class GetAccountHistoryResponse(Struct):
    history: list[list[Union[int, History]]]

class GetOpsInBlock(Struct):
    block_num: int
    """
    The block number to retrieve operations from.
    """
    only_virtual: bool
    """
    If true, only virtual operations will be returned.
    """
    include_reversible: Optional[bool] = None
    """
    If true, reversible operations will be included in the response.
    """

class Op6(Struct):
    block: int
    """
    The block number in which the operation was included.
    """
    op_in_trx: int
    """
    The index of the operation in the transaction.
    """
    timestamp: str
    """
    The timestamp when the operation was executed.
    """
    trx_id: str
    """
    The ID of the transaction that contains the operation.
    """
    trx_in_block: int
    """
    The index of the transaction in the block.
    """
    virtual_op: bool
    """
    Indicates whether the operation is a virtual operation.
    """
    op: Op5
    """
    Body of the operation.
    """
    operation_id: Union[str, int]
    """
    The unique ID of the operation.
    """

class GetOpsInBlockResponse(Struct):
    ops: list[Op6]

class GetTransaction(Struct):
    id: str
    """
    The ID of the transaction to retrieve.
    """
    include_reversible: Optional[bool] = None
    """
    Whether to include reversible blocks.
    """

class GetTransactionResponse(Struct):
    ref_block_num: int
    ref_block_prefix: int
    expiration: str
    extensions: list[Extension]
    signatures: list[str]
    operations: list[Operation]
    block_num: int
    transaction_id: str
    """
    The ID of the transaction.
    """
    transaction_num: int
    """
    The transaction number in the block.
    """

account_history_api_description = {
    "account_history_api": {
        "enum_virtual_ops": {
            "params": EnumVirtualOps,
            "result": EnumVirtualOpsResponse,
            "description": "Parameters:\n\n- `block_range_begin`: An integer representing the starting block number (inclusive) for the search.\n\n- `block_range_end`: An integer representing the last block number (exclusive) for the search.\n\n- `include_reversible`: A boolean (optional). If set to true, operations from reversible blocks will be included if `block_num` points to such a block.\n\n- `group_by_block`: A boolean (optional). Determines whether to group results by block.\n\n- `operation_begin`: An integer (optional). The starting virtual operation in the given block (inclusive).\n\n- `limit`: An integer (optional). Specifies the maximum number of operations to retrieve.\n\n- `filter`: An integer (optional). A bitwise filter that determines which operations to match. Use the following values for filtering:\n  - `fill_convert_request_operation` = 0x000001\n  - `author_reward_operation` = 0x000002\n  - `curation_reward_operation` = 0x000004\n  - `comment_reward_operation` = 0x000008\n  - `liquidity_reward_operation` = 0x000010\n  - `interest_operation` = 0x000020\n  - `fill_vesting_withdraw_operation` = 0x000040\n  - `fill_order_operation` = 0x000080\n  - `shutdown_witness_operation` = 0x000100\n  - `fill_transfer_from_savings_operation` = 0x000200\n  - `hardfork_operation` = 0x000400\n  - `comment_payout_update_operation` = 0x000800\n  - `return_vesting_delegation_operation` = 0x001000\n  - `comment_benefactor_reward_operation` = 0x002000\n  - `producer_reward_operation` = 0x004000\n  - `clear_null_account_balance_operation` = 0x008000\n  - `proposal_pay_operation` = 0x010000\n  - `sps_fund_operation` = 0x020000\n  - `hardfork_hive_operation` = 0x040000\n  - `hardfork_hive_restore_operation` = 0x080000\n  - `delayed_voting_operation` = 0x100000\n  - `consolidate_treasury_balance_operation` = 0x200000\n  - `effective_comment_vote_operation` = 0x400000\n  - `ineffective_delete_comment_operation` = 0x800000\n  - `sps_convert_operation` = 0x1000000\n  - `dhf_funding_operation` = 0x0020000\n  - `dhf_conversion_operation` = 0x1000000\n  - `expired_account_notification_operation` = 0x2000000\n  - `changed_recovery_account_operation` = 0x4000000\n  - `transfer_to_vesting_completed_operation` = 0x8000000\n  - `pow_reward_operation` = 0x10000000\n  - `vesting_shares_split_operation` = 0x20000000\n  - `account_created_operation` = 0x40000000\n  - `fill_collateralized_convert_request_operation` = 0x80000000\n  - `system_warning_operation` = 0x100000000\n  - `fill_recurrent_transfer_operation` = 0x200000000\n  - `failed_recurrent_transfer_operation` = 0x400000000\n  - `limit_order_cancelled_operation` = 0x800000000\n  - `producer_missed_operation` = 0x1000000000\n  - `proposal_fee_operation` = 0x2000000000\n  - `collateralized_convert_immediate_conversion_operation` = 0x4000000000\n  - `escrow_approved_operation` = 0x8000000000\n  - `escrow_rejected_operation` = 0x10000000000\n  - `proxy_cleared_operation` = 0x20000000000\n",
        },
        "get_account_history": {
            "params": GetAccountHistory,
            "result": GetAccountHistoryResponse,
            "description": 'Parameters:\n\n- `account`: A string representing the account name to query.\n\n- `start`: An integer indicating the starting point for the query. Use `-1` for reverse history or any positive number for a specific starting point.\n\n- `limit`: An integer up to 1000 specifying the maximum number of results to return.\n\n- `include_reversible`: A boolean (optional) that, if set to true, includes operations from reversible blocks.\n\n- `operation_filter_low`: An integer (optional) used to filter the first 64 operations based on a bitwise mask.\n\n- `operation_filter_high`: An integer (optional) used to filter higher-numbered operations with a 128-bit bitmask composed of {operation_filter_high, operation_filter_low}.\n\nIf `operation_filter_low` or `operation_filter_high` are set, the response will only include operations matching the bitwise filter.\n\nExamples:\n\n- **`account = "hiveio"`**, **`start = 1000`**, **`limit = 1000`**: Queries the latest items in history for the account "hiveio", with up to 1,000 results.\n\n- **`account = "alice"`**, **`start = -1`**, **`limit = 1000`**: Queries the oldest items in history for the account "alice", with up to 1,000 results.\n\n- **`account = "bob"`**, **`start = -1`**, **`limit = 1000`**, **`include_reversible = true`**, **`operation_filter_low = 1`**: Queries only vote operations for "bob" from the oldest item, up to 1,000 results.\n\n- **`account = "charlie"`**, **`start = -1`**, **`limit = 1000`**, **`include_reversible = true`**, **`operation_filter_low = 262144`**: Queries only custom JSON operations for "charlie" from the oldest item, up to 1,000 results.\n\n- **`account = "emma"`**, **`start = -1`**, **`limit = 1000`**, **`include_reversible = true`**, **`operation_filter_low = 0`**, **`operation_filter_high = 1`**: Queries only proposal payments to "emma" from the oldest item, up to 1,000 results.\n',
        },
        "get_ops_in_block": {
            "params": GetOpsInBlock,
            "result": GetOpsInBlockResponse,
            "description": "Parameter:\n\n- `block_num`: An integer representing the specific block number to retrieve operations for.\n\n- `only_virtual`: A boolean indicating whether to include only virtual operations.\n\n- `include_reversible`: A boolean (optional) that, if set to true, includes operations from reversible blocks if `block_num` points to such a block.\n",
        },
        "get_transaction": {
            "params": GetTransaction,
            "result": GetTransactionResponse,
            "description": "Parameters:\n\n- `id`: A string representing the transaction ID (`trx_id`) of the expected transaction.\n\n- `include_reversible`: A boolean (optional) that, if set to true, includes operations from reversible blocks if the transaction's block number points to such a block.\n",
        },
    }
}
