#!/usr/bin/env python3
"""
Bun wrapper for Alprina CLI
This script ensures the Python CLI is available when installed via Bun
"""

import subprocess
import sys
import os

def main():
    try:
        # Try to run alprina-cli directly
        result = subprocess.run(['alprina'] + sys.argv[1:], check=False)
        sys.exit(result.returncode)
    except FileNotFoundError:
        # If alprina not found, try to install it
        print("Installing Alprina CLI...")
        subprocess.run([sys.executable, '-m', 'pip', 'install', '--user', 'alprina-cli'], check=True)
        # Try again
        result = subprocess.run(['alprina'] + sys.argv[1:], check=False)
        sys.exit(result.returncode)

if __name__ == '__main__':
    main()